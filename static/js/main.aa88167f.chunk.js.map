{"version":3,"sources":["components/shared/3D/AnaglyphEffect.js","components/shared/Header/components/ListItem.js","components/shared/Header/components/FinderSubmenu.js","components/shared/Header/components/Clock.js","components/sketches/Sketches.js","components/shared/Header/Header.js","components/shared/Frame/Toolbar.js","components/shared/Frame/Frame.js","components/shared/DesktopIcon/DesktopIcon.js","hooks/useInterval.js","components/shared/Helpers/Helpers.js","components/sketches/Yosemite/Yosemite.js","components/shared/3D/Water2.js","components/shared/Frame/FrameSimple.js","components/sketches/HardDrives/Birds.js","components/sketches/HardDrives/HardDrives.js","components/sketches/JungleGyms/Pipe.js","components/sketches/JungleGyms/JungleGyms.js","components/sketches/Hurricane/HurricaneSketch.js","components/sketches/Mojave/Sketch.js","components/sketches/Hurricane/components/Draggable/Button.js","components/sketches/Hurricane/components/Draggable/ShadowDraggable.js","components/sketches/Hurricane/components/Draggable/Draggable.js","components/sketches/Hurricane/components/Boid/BoidDraggable.js","components/sketches/Hurricane/components/Boid/Boid.js","components/sketches/Hurricane/components/HurricaneDraggable.js","components/sketches/Hurricane/components/Hurricane.js","components/sketches/Hurricane/Hurricane.js","components/sketches/Mojave/components/Drapes/Drapes.js","components/sketches/Mojave/components/Candle/Candle.js","components/sketches/Mojave/components/Candle/Candles.js","components/sketches/Mojave/Mojave.js","components/sketches/Infrastructure/Sketch.js","components/sketches/Infrastructure/components/Part.js","components/sketches/Infrastructure/components/Parts.js","components/sketches/Infrastructure/components/Fan/Fan.js","components/sketches/Infrastructure/Infrastructure.js","components/sketches/Mine/components/Coins.js","components/sketches/Mine/components/Heli.js","components/sketches/Mine/Mine.js","components/sketches/Wallpaper/Sketch.js","components/sketches/Wallpaper/components/RoombaDraggable.js","components/sketches/Wallpaper/components/Roomba.js","components/sketches/Wallpaper/Wallpaper.js","components/sketches/Home/Home.js","components/About/About.js","components/shared/CenterModal/Helper.js","components/shared/CenterModal/CenterModal.tsx","components/shared/RoomDecal/RoomDecal.js","hooks/useMultiPlayer.js","App/App.js","hooks/useDimensions.js","reportWebVitals.ts","index.tsx"],"names":["module","exports","THREE","useOGMatrices","renderer","width","height","this","colorMatrixLeft","Matrix3","fromArray","colorMatrixRight","_camera","OrthographicCamera","_scene","Scene","_stereo","StereoCamera","_params","minFilter","LinearFilter","magFilter","NearestFilter","format","RGBAFormat","undefined","_renderTargetL","WebGLRenderTarget","_renderTargetR","_material","ShaderMaterial","uniforms","value","texture","vertexShader","join","fragmentShader","_mesh","Mesh","PlaneBufferGeometry","add","setSize","pixelRatio","getPixelRatio","render","scene","camera","currentRenderTarget","getRenderTarget","updateMatrixWorld","parent","update","setRenderTarget","clear","cameraL","cameraR","dispose","geometry","ListItem","getMenuItem","title","shortcut","className","props","link","classN","callback","DOMParser","parseFromString","body","innerHTML","getShortcut","classn","to","React","PureComponent","FinderSubmenu","getPageTitle","id","isXXSmall","getMainTitle","Fragment","getMobile","state","isVisible","toggleHidden","bind","setWrapperRef","handleClickOutside","document","addEventListener","removeEventListener","node","wrapperRef","event","contains","target","setState","prevState","icon","specialClass","ulSpecialClass","listItems","onClick","ref","map","item","i","classLN","t","Clock","currentTimeString","updateClock","interval","setInterval","clearInterval","currentTime","Date","currentHours","getHours","currentMinutes","getMinutes","timeOfDay","getDay","getClassN","sketches","short","year","homeSketch","getUrl","find","sketch","getRoomTitle","path","substring","length","sk","Header","getMainMenuSub","homeIcon","isSimpleHeader","getCurrentDirectory","currentPage","ui","isMobile","hasFooter","getInstaLi","openInNewTab","getAboutLi","url","newWindow","window","open","opener","getMainTitleLi","getVolumeLi","toggleAudio","getVolumeIcon","audioOn","Toolbar","toggleClosed","toggleMinimzed","toggleMaximized","Frame","onControlledDrag","e","position","x","y","controlledPosition","onDrag","onControlledDragStop","onStop","onHide","stopPropagation","isMinimized","onMinimized","origCoords","console","log","onMaximized","onStart","activeDrags","handleStart","newFrameToTop","handleClick","toolBarH","deltaPosition","wrapper","createRef","prevProps","dx","dy","parser","isHidden","isMaximized","contentVisibility","display","frameH","bounds","bounded","frameStyle","Math","floor","zIndex","z","axis","handle","defaultPosition","positionOffset","grid","scale","cancel","handleStop","nodeRef","style","windowStyle","content","Component","DesktopIcon","onDblClick","newIconToTop","onClickMobile","getDesktopDesktop","onDoubleClick","zIcon","disableWindow","getFrame","getMobileDesktop","top","left","box","zFrame","w","h","frameContent","useInterval","delay","savedCallback","useRef","useEffect","current","mapVal","val","in_min","in_max","out_min","out_max","constrain","min","max","randomInRange","start","end","diff","random","valueInRange","Yosemite","useState","numPops","setNumPops","popTime","setPopTime","numFrames","setNumFrames","popW","setPopW","_numPops","_popups","contentH","push","getPopUps","popups","setPopUps","setVolume","popUp","hasLoadedRoom","pop","p","vol","clicked","getFolderList","titles","frame","background","contentW","alt","src","LMD","frames","framesW","startX","getFrames","Water","options","type","scope","color","Color","textureWidth","textureHeight","clipBias","flowDirection","Vector2","flowSpeed","reflectivity","shader","WaterShader","encoding","LinearEncoding","textureLoader","TextureLoader","flowMap","normalMap0","load","process","normalMap1","cycle","halfCycle","textureMatrix","Matrix4","clock","Reflector","error","Refractor","reflector","refractor","updateTextureMatrix","set","multiply","projectionMatrix","matrixWorldInverse","matrixWorld","updateFlow","delta","getDelta","config","material","matrixAutoUpdate","UniformsUtils","merge","UniformsLib","transparent","fog","defines","USE_FLOWMAP","wrapS","wrapT","RepeatWrapping","onBeforeRender","visible","copy","prototype","isWater","Vector4","FrameSimple","px","py","sty","notAbsolute","Birds","initBirds","birdInitialsX","birdInitialsY","num","x0","y0","flyDirection","updateBirds","maxW","windowWidth","flyIndex","numVisibleBirds","getBird","index","bird","getBirdLocation","sin","pos","AnaglyphEffect","require","HardDrives","mount","effect","requestID","water","floorMaterial","trees","bottles","seed","svFrame","f","ogW","ogH","orientation","wTemp","handleWindowResize","setupScene","startAnimationLoop","cancelAnimationFrame","innerWidth","innerHeight","aspect","updateProjectionMatrix","lookAt","alpha","antialias","appendChild","domElement","ambientLight","addLight","addPalms","addSkybox","addBottles","addWater","addFloor","requestAnimationFrame","sign","rotation","waterGeometry","params","PI","intensity","light","floorTexture","repeat","side","floorGeometry","modelPath","model","onProgress","xhr","lengthComputable","loaded","total","onError","manager","addHandler","DDSLoader","MTLLoader","setPath","materials","preload","OBJLoader","setMaterials","tree","positions","clone","bottle","bottleVectors","getRandom","frameBorder","allowFullScreen","aria-hidden","tabIndex","Pipe","nodes","pipeRadius","ballJointRadius","gridBounds","currentPosition","randomInteger","object3d","addTexture","setAt","makeBallJoint","fromPoint","toPoint","deltaVector","subVectors","arrow","normalize","mesh","setFromQuaternion","quaternion","addVectors","multiplyScalar","updateMatrix","ball","fromPosition","toPosition","tangentVector","elball","texUrl","pipeTexture","emissive","specular","shininess","lastPosition","lastDirectionVector","directionVector","chooseFrom","newPosition","containsPoint","getAt","equals","makeCylinderBetweenPoints","values","x1","x2","round","JungleGyms","hurricane","dogica","beach","beachGraphics","desert","desert2","moon","joshua","fire","controls","firstLoad","setLoad","pipes","vines","videoSwings","videoGym","reset","OrbitControls","enableZoom","addScreenCube","addWallPaper","addVines","look","chance","getTime","remove","video","pW","pH","fac","rot","boxLen","videoTex","plane","opacity","cube","edges","line","linewidth","wall","vine","newVine","newVine2","vector","angle","matrix","makeRotationAxis","applyMatrix4","center","gymUrl","playsInline","crossOrigin","autoPlay","muted","loop","Button","p5","r","stroke","strokeWeight","noFill","mouseOver","fill","ellipse","dist","mouseX","mouseY","ShadowDraggable","shadow","loadImage","displayShadow","backW","backH","translate","barH","image","origX","origY","offsetX","offsetY","toolbarH","startDrag","startDragCoords","dragging","locked","closed","minimized","bRad","closeButton","minButton","xp","maxButton","mask","createGraphics","noStroke","displayContent","rect","displayFrame","col","closeWindow","toggleMinimze","maximizeWindow","checkButtons","checkDragging","overToolBar","mx","my","div","minimizeWindow","BoidDraggable","txt","rat","displaySolidBack","text","Boid","hurricanePos","imgs","distToH","cos","angleAmt","ratio","resetPosition","windowHeight","displayToolBar","img","textSize","str","textWidth","checkMouse","endDrag","checkDoubleClicked","HurricaneDraggable","rotate","millis","Hurricane","getPos","dirX","dirY","speed","dir","boids","boidImgs","checkDimensions","windowResized","canvasPressed","resizeCanvas","setBeachGraphics","getCoverBackground","tint","zoom","imgRatio","factor","netURL","loadFont","loadGif","setup","canvasParentRef","cnv","createCanvas","mousePressed","textFont","draw","noErase","colorMode","HSB","boid","erase","keyPressed","mouseReleased","mouseDragged","doubleClicked","pg","dune","Counter","MX","MY","drawDunes","drawMarsStrip","codeNumber","unitSize","k","pow","randomSeed","noiseX","noiseY","noiseZ","mag","noise","drawJoshua","initializePG","pgtemp","imageMode","CORNER","rectMode","CENTER","noiseSeed","noCursor","startAmt","dA","drapesStyle","wOG","Candle","Candles","startCandleY","startCandleX","candles","y1","y2","candleDY","candleDX","Mojave","vidRef","play","vw","vid","Sketch","href","rel","_myObject","Part","startY","startZ","endX","endY","endZ","totalTime","partCount","direction","AWS","currentX","currentY","currentZ","drawPart","angAxisZ","atan2","distXY","angAxisY","distXYZ","rotateZ","rotateY","ambientMaterial","drawText","per","Parts","numPart","maxArea","maxL","parts","aryEndXYZ","randomDirection","abs","int","isGenerate","shift","_aryInitRot","setAttributes","WEBGL","frameRate","ang","frameCount","directionalLight","c","tan","Fan","mousePosition","setFanAngle","velocity","setFanVelocity","maxVel","vel","bladesStyle","transform","transformOrigin","Infrastructure","setAudioSource","setMousePosition","mouseQuadrant","setMouseQuadrant","onMouseMove","pageX","pageY","dim","sep","fanParams","getDesktop","Coins","ids","pitX","vidW","totalW","totalH","coinSpace","playSound","idsLG","idsSM","idsXSM","Heli","setX","moveHeli","prevX","newX","Mine","data","worldWidth","worldDepth","mouse","useSound","volume","interrupt","autoplay","pause","handleMouseMove","initScene","generateHeight","pxGeometry","attributes","uv","array","nxGeometry","pyGeometry","rotateX","pzGeometry","nzGeometry","geometries","getY","makeTranslation","worldHalfWidth","worldHalfDepth","nx","pz","nz","BufferGeometryUtils","mergeBufferGeometries","computeBoundingSphere","FirstPersonControls","lookSpeed","lookVertical","perlin","ImprovedNoise","size","quality","j","vidH","coinW","pit","waterfall","roombaImg","txtImg","RoombaDraggable","Roomba","roombas","checkCollisions","checkBoundaries","checkRandomMove","setDir","isStopped","rotateRoomba","rmbs","filter","roomba","willCollide","setAngle","setPattern","buffer","pattern","mini","iX","iY","vacuum","getTarget","angAmt","dr","isCloseToRange","setTarget","isMini","p1x","p1y","p1w","p1h","p2x","p2y","p2w","p2h","A","B","xOverlap","yOverlap","rectanglesOverlap","displayRoombas","randomTxtFiles","skybox","onSceneReady","FreeCamera","Vector3","Zero","canvas","getEngine","getRenderingCanvas","attachControl","HemisphericLight","MeshBuilder","CreateBox","CreateGround","skyboxMaterial","StandardMaterial","backFaceCulling","reflectionTexture","CubeTexture","coordinatesMode","Texture","SKYBOX_MODE","diffuseColor","Color3","specularColor","waterMesh","WaterMaterial","bumpTexture","windForce","waveHeight","bumpHeight","waterColor","colorBlendFactor","addToRenderList","onRender","deltaTimeInMillis","getDeltaTime","padding","getCenterModalDim","isRelative","minW","getWidthTooSmall","minH","getHeightTooSmall","headerH","getPortraitSmall","getLandscapeSmall","CenterModal","buttons","classT","visibility","RoomDecal","room","startMedia","getSketchFromTitle","buttonClicked","about","fontSize","paddingBottom","fontWeight","useAudio","useLocation","pathname","onLoad","playCurrentPage","sources","player","onload","currentSource","setCurrentSource","stop","stopCurrentPage","nextSource","source","setNewPage","App","getHasFooter","getIsMobile","test","navigator","userAgent","getWindowSize","getContentW","getContentH","getHeaderH","getEdgeSpacing","getWindowObject","initW","initH","edgeSpacing","windowDimensions","setWindowDimensions","useDimensions","setLoadedRoom","setAudioOn","useMultiPlayer","sketchProps","isMenuOn","v","exact","component","Home","About","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.aa88167f.chunk.js","sourcesContent":["\nmodule.exports = function (THREE, useOGMatrices) {\n\t/**\n\t* @author mrdoob / http://mrdoob.com/\n\t* @author marklundin / http://mark-lundin.com/\n\t* @author alteredq / http://alteredqualia.com/\n\t* @author tschw\n\t*/\n\n\n\n\tvar AnaglyphEffect = function (renderer, width, height) {\n\n\t\t///////////// OG MATRICES\n\t\t// were the OG matrices incorrect?\n\t\t// replaced with the one from https://github.com/tschw/angler.js/blob/gh-pages/app/classes/AnaglyphShadertoyPlayer.js\n\t\t// seems to get better results with new matrix values\n\n\t\t// let useOGMatrices = false;\n\n\t\tif (useOGMatrices) {\n\t\t\tthis.colorMatrixLeft = new THREE.Matrix3().fromArray([\n\t\t\t\t1.0671679973602295, - 0.0016435992438346148, 0.0001777536963345483, // r out\n\t\t\t\t- 0.028107794001698494, - 0.00019593400065787137, - 0.0002875397040043026, // g out\n\t\t\t\t- 0.04279090091586113, 0.000015809757314855233, - 0.00024287120322696865 // b out\n\t\t\t]);\n\n\t\t\tthis.colorMatrixRight = new THREE.Matrix3().fromArray([\n\t\t\t\t- 0.0355340838432312, - 0.06440307199954987, 0.018319187685847282, // r out\n\t\t\t\t- 0.10269022732973099, 0.8079727292060852, - 0.04835830628871918, // g out\n\t\t\t\t0.0001224992738571018, - 0.009558862075209618, 0.567823588848114 // b out\n\t\t\t]);\n\n\t\t}\n\t\telse {\n\t\t\t// Color matrix for the left input image\n\t\t\t// DUBOIS\n\t\t\t// http://stereo.jpn.org/eng/stphmkr/help/stereo_13.htm\n\t\t\t// this.colorMatrixLeft = new THREE.Matrix3().fromArray([\n\t\t\t// \t0.456100, -0.0400822, -0.0152161,\n\t\t\t// \t0.500484, -0.0378246, -0.0205971,\n\t\t\t// \t0.176381, -0.0157589, -0.00546856\n\t\t\t// ]);\n\n\t\t\t// // Color matrix for the right input image\n\t\t\t// this.colorMatrixRight = new THREE.Matrix3().fromArray([\n\t\t\t// \t-0.0434706, 0.378476, -0.0721527,\n\t\t\t// \t-0.0879388, 0.73364, -0.112961,\n\t\t\t// \t-0.00155529, -0.0184503, 1.2264\n\t\t\t// ]);\n\n\t\t\t//https://github.com/hx2A/Camera3D/blob/master/src/camera3D/generators/AnaglyphGenerator.java\n\t\t\tthis.colorMatrixLeft = new THREE.Matrix3().fromArray([\n\t\t\t\t.437, -.062, -.048,\n\t\t\t\t.449, -.062, -.050,\n\t\t\t\t.164, -.024, -.017\n\t\t\t]);\n\n\t\t\t// Color matrix for the right input image\n\t\t\tthis.colorMatrixRight = new THREE.Matrix3().fromArray([\n\t\t\t\t-0.011, 0.377, -0.026,\n\t\t\t\t-0.032, 0.761, -0.093,\n\t\t\t\t-0.007, .009, 1.234\n\t\t\t]);\n\n\t\t}\n\n\t\tvar _camera = new THREE.OrthographicCamera(- 1, 1, 1, - 1, 0, 1);\n\n\t\tvar _scene = new THREE.Scene();\n\n\t\tvar _stereo = new THREE.StereoCamera();\n\n\t\tvar _params = { minFilter: THREE.LinearFilter, magFilter: THREE.NearestFilter, format: THREE.RGBAFormat };\n\n\t\tif (width === undefined) width = 512;\n\t\tif (height === undefined) height = 512;\n\n\t\tvar _renderTargetL = new THREE.WebGLRenderTarget(width, height, _params);\n\t\tvar _renderTargetR = new THREE.WebGLRenderTarget(width, height, _params);\n\n\t\tvar _material = new THREE.ShaderMaterial({\n\n\t\t\tuniforms: {\n\n\t\t\t\t\"mapLeft\": { value: _renderTargetL.texture },\n\t\t\t\t\"mapRight\": { value: _renderTargetR.texture },\n\n\t\t\t\t\"colorMatrixLeft\": { value: this.colorMatrixLeft },\n\t\t\t\t\"colorMatrixRight\": { value: this.colorMatrixRight }\n\n\t\t\t},\n\n\t\t\tvertexShader: [\n\n\t\t\t\t\"varying vec2 vUv;\",\n\n\t\t\t\t\"void main() {\",\n\n\t\t\t\t\"\tvUv = vec2( uv.x, uv.y );\",\n\t\t\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\t\t\"}\"\n\n\t\t\t].join(\"\\n\"),\n\n\t\t\tfragmentShader: [\n\n\t\t\t\t\"uniform sampler2D mapLeft;\",\n\t\t\t\t\"uniform sampler2D mapRight;\",\n\t\t\t\t\"varying vec2 vUv;\",\n\n\t\t\t\t\"uniform mat3 colorMatrixLeft;\",\n\t\t\t\t\"uniform mat3 colorMatrixRight;\",\n\n\t\t\t\t// These functions implement sRGB linearization and gamma correction\n\n\t\t\t\t\"float lin( float c ) {\",\n\t\t\t\t\"\treturn c <= 0.04045 ? c * 0.0773993808 :\",\n\t\t\t\t\"\t\t\tpow( c * 0.9478672986 + 0.0521327014, 2.4 );\",\n\t\t\t\t\"}\",\n\n\t\t\t\t\"vec4 lin( vec4 c ) {\",\n\t\t\t\t\"\treturn vec4( lin( c.r ), lin( c.g ), lin( c.b ), c.a );\",\n\t\t\t\t\"}\",\n\n\t\t\t\t\"float dev( float c ) {\",\n\t\t\t\t\"\treturn c <= 0.0031308 ? c * 12.92\",\n\t\t\t\t\"\t\t\t: pow( c, 0.41666 ) * 1.055 - 0.055;\",\n\t\t\t\t\"}\",\n\n\n\t\t\t\t\"void main() {\",\n\n\t\t\t\t\"\tvec2 uv = vUv;\",\n\n\t\t\t\t\"\tvec4 colorL = lin( texture2D( mapLeft, uv ) );\",\n\t\t\t\t\"\tvec4 colorR = lin( texture2D( mapRight, uv ) );\",\n\n\t\t\t\t\"\tvec3 color = clamp(\",\n\t\t\t\t\"\t\t\tcolorMatrixLeft * colorL.rgb +\",\n\t\t\t\t\"\t\t\tcolorMatrixRight * colorR.rgb, 0., 1. );\",\n\n\t\t\t\t\"\tgl_FragColor = vec4(\",\n\t\t\t\t\"\t\t\tdev( color.r ), dev( color.g ), dev( color.b ),\",\n\t\t\t\t\"\t\t\tmax( colorL.a, colorR.a ) );\",\n\n\t\t\t\t\"}\"\n\n\t\t\t].join(\"\\n\")\n\n\t\t});\n\n\t\tvar _mesh = new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), _material);\n\t\t_scene.add(_mesh);\n\n\t\tthis.setSize = function (width, height) {\n\n\t\t\trenderer.setSize(width, height);\n\n\t\t\tvar pixelRatio = renderer.getPixelRatio();\n\n\t\t\t_renderTargetL.setSize(width * pixelRatio, height * pixelRatio);\n\t\t\t_renderTargetR.setSize(width * pixelRatio, height * pixelRatio);\n\n\t\t};\n\n\t\tthis.render = function (scene, camera) {\n\n\t\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\tscene.updateMatrixWorld();\n\n\t\t\tif (camera.parent === null) camera.updateMatrixWorld();\n\n\t\t\t_stereo.update(camera);\n\n\t\t\trenderer.setRenderTarget(_renderTargetL);\n\t\t\trenderer.clear();\n\t\t\trenderer.render(scene, _stereo.cameraL);\n\n\t\t\trenderer.setRenderTarget(_renderTargetR);\n\t\t\trenderer.clear();\n\t\t\trenderer.render(scene, _stereo.cameraR);\n\n\t\t\trenderer.setRenderTarget(null);\n\t\t\trenderer.render(_scene, _camera);\n\n\t\t\trenderer.setRenderTarget(currentRenderTarget);\n\n\t\t};\n\n\t\tthis.dispose = function () {\n\n\t\t\tif (_renderTargetL) _renderTargetL.dispose();\n\t\t\tif (_renderTargetR) _renderTargetR.dispose();\n\t\t\tif (_mesh) _mesh.geometry.dispose();\n\t\t\tif (_material) _material.dispose();\n\n\t\t};\n\n\t};\n\n\treturn AnaglyphEffect;\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nclass ListItem extends React.PureComponent {\n\n  // constructor(props) {\n  //   super(props);\n  // }\n\n  render() {\n    const { title, link, callback, classN } = this.props;\n    const shortcut = getShortcut(this.props.shortcut);\n\n    let classn = classN;\n    classn += (shortcut === '' || shortcut === null) ? ' noShortcut' : ' shortcut';\n    if (link && link !== '') {\n      return (\n        <li className={classn}><Link to={link}>{this.getMenuItem(title, shortcut)}</Link></li>\n      );\n    }\n\n    return (\n      <li className={classn} shortcut={shortcut}>{title}</li>\n    );\n  }\n\n  getMenuItem = (title, shortcut) => {\n    return (\n      <div className=\"flexRow\">\n        <div className=\"title flex1\">{title}</div>\n        <div className=\"shortcut\">{shortcut}</div>\n      </div>\n    )\n  }\n}\n\nfunction getShortcut(shortcut) {\n  if (shortcut === null || shortcut === \"\")\n    return null;\n\n  const parser = new DOMParser();\n  const parsedString = parser.parseFromString(shortcut, 'text/html');\n  return parsedString.body.innerHTML;\n}\n\nexport default ListItem\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ListItem from './ListItem';\n\nclass FinderSubmenu extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false\n    }\n\n    this.toggleHidden = this.toggleHidden.bind(this);\n    this.setWrapperRef = this.setWrapperRef.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside);\n  }\n\n  setWrapperRef(node) {\n    this.wrapperRef = node;\n  }\n\n  handleClickOutside(event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      this.setState({\n        isVisible: false\n      })\n    }\n  }\n\n  toggleHidden() {\n    this.setState(prevState => ({\n      isVisible: !prevState.isVisible\n    }));\n  }\n\n  render() {\n\n    // var title = this.props.title; \n\n    // if (this.props.title === \"\") {\n    const title =\n      <React.Fragment>\n        <i className={this.props.icon}></i>\n        <span> </span>\n        {this.props.title}\n      </React.Fragment>\n    // }\n    const specialClass = this.props.specialClass;\n    let ulSpecialClass = this.props.ulSpecialClass ? this.props.ulSpecialClass : \"\";\n    if (this.getMobile())\n      ulSpecialClass += \" mobile\";\n    const listItems = this.props.listItems;\n\n\n    let classN = specialClass ? (\" \" + specialClass) : \"\";\n    if (!this.getMobile()) {\n      classN += \" expandable\";\n      classN += this.state.isVisible ? ' selected' : '';\n    }\n    // if (this.props.title === \"losing my dimension\" && this.isXXSmall())\n    //   classN += \" xxsmall\";\n\n    return (\n      <li className={classN} onClick={this.toggleHidden} ref={this.setWrapperRef}>{title}\n        <div className={`submenu ${this.state.isVisible ? 'visible' : ''}`}>\n          <ul className={ulSpecialClass}>\n            {listItems.map((item, i) => {\n              let classLN = item.classN ? item.classN : \"\";\n              let t = item.title;\n\n              if (classLN === \"disabled\") {\n                t = \"coming soon\";\n                return (\n                  <ListItem\n                    key={i}\n                    shortcut={item.shortcut}\n                    title={t}\n                    link={null}\n                    callback={item.callback}\n                    classN={classLN}\n                  />)\n              }\n              if (item.title === \"hard drives on seashores\")\n                t = \"hard drives\";\n              return (\n                <ListItem\n                  key={i}\n                  shortcut={item.shortcut}\n                  title={t}\n                  link={`/${item.link}`}\n                  callback={item.callback}\n                  classN={classLN}\n                />)\n\n\n            })}\n          </ul>\n        </div>\n      </li>\n    );\n  }\n\n  getPageTitle = () => {\n    // if (this.getMobile() && this.props.title === \"losing my dimension\") {\n    //   return (\n    //     <div className=\"mobile-title\">\n    //       <div>losing my dimension</div>\n    //       <div className=\"subtitle\">{this.props.currentPage}</div>\n    //     </div>\n    //   )\n    // }\n    return (\n      <span id=\"pageTitle\">{this.props.title}</span>\n    )\n\n  }\n\n  isXXSmall = () => {\n    // return (this.props.currentPage !== \"gallery\" && this.props.ui.width < 445);\n    return false;\n  }\n\n  getMainTitle = () => {\n    // let title = \"losing my dimension\";\n    if (this.props.title === \"losing my dimension\") {\n      if (this.isXXSmall()) {\n        // let sty = { display: \"flex\", flexDirection: \"column\", lineHeight: \"15px\", position: \"absolute\", top: 10 }\n        // return (\n        //   <span><span className=\"xxsmallLogo\" style={sty}><span>losing my</span><span>dimension</span></span></span>\n        // )\n        return null;\n      }\n\n\n    }\n    return (\n      <React.Fragment>{this.props.title}</React.Fragment>\n    )\n\n    // return this.props.currentPage; // === \"gallery\"?\"losing my dimension\":this.props.currentPage;\n  }\n\n  getMobile = () => {\n    // return this.props.ui.isMobile || this.props.ui.hasFooter;\n    return false;\n  }\n\n}\n\nexport default FinderSubmenu\n","import React from 'react';\n\nclass Clock extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentTimeString: 0\n    }\n\n    this.updateClock = this.updateClock.bind(this);\n  }\n\n  componentDidMount() {\n    this.updateClock();\n    this.interval = setInterval(this.updateClock, 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n\n  updateClock() {\n    var currentTime = new Date();\n    var currentHours = currentTime.getHours();\n    var currentMinutes = currentTime.getMinutes();\n    currentMinutes = (currentMinutes < 10 ? \"0\" : \"\") + currentMinutes;\n\n    // var currentSeconds = currentTime.getSeconds();\n    // currentSeconds = (currentSeconds < 10 ? \"0\" : \"\") + currentSeconds;\n\n    var timeOfDay = (currentHours < 12) ? \"AM\" : \"PM\";\n    currentHours = (currentHours > 12) ? currentHours - 12 : currentHours;\n    currentHours = (currentHours === 0) ? 12 : currentHours;\n\n    var shortDays = [\n      'Sun', //Sunday starts at 0\n      'Mon',\n      'Tue',\n      'Wed',\n      'Thu',\n      'Fri',\n      'Sat'\n    ];\n    var x = currentTime.getDay(); //This returns a number, starting with 0 for Sunday\n    var day = (shortDays[x]);\n\n    var currentTimeString = day + \" \" + currentHours + \":\" + currentMinutes + \" \" + timeOfDay;\n\n    this.setState({currentTimeString: currentTimeString});\n  }\n\n\n  render() {\n    return(\n      <span id=\"clock\">{this.state.currentTimeString}</span>\n    )\n  }\n\n\n}\n\n\nexport default Clock;\n","\n\nconst getClassN = (id) => {\n    const publishNum = 10;\n    if (id <= publishNum)\n        return \"\";\n    return \"disabled\"\n}\nexport const sketches = [\n    { id: 1, short: \"mine\", link: \"mine\", title: \"mine\", shortcut: \"&#x2318;1\", year: 2021, classN: \"\" },\n    { id: 5, short: \"out\", link: \"overclocked\", title: \"over⏰'d\", shortcut: \"&#x2318;2\", year: 2021, classN: getClassN(2) },\n    { id: 3, short: \"cat\", link: \"cat-5\", title: \"cat 5\", shortcut: \"&#x2318;3\", year: 2021, classN: getClassN(3) },\n\n    { id: 7, short: \"mojave\", link: \"mojave\", title: \"mojave\", shortcut: \"&#x2318;4\", year: 2021, classN: getClassN(4) },\n    { id: 2, short: \"yosemite\", link: \"yosemite\", title: \"yosemite\", shortcut: \"&#x2318;5\", year: 2021, classN: getClassN(5) },\n   \n    { id: 6, short: \"jungle\", link: \"jungle-gyms\", title: \"jungle gyms\", shortcut: \"&#x2318;6\", year: 2021, classN: getClassN(6) },\n    \n   \n    { id: 4, short: \"hard\", link: \"hard-drives-on-seashores\", title: \"hard drives on seashores\", shortcut: \"&#x2318;7\", year: 2021, classN: getClassN(7) },\n   \n    { id: 8, short: \"roomba\", link: \"command-x\", title: \"⌘-x\", shortcut: \"&#x2318;8\", year: 2021, classN: getClassN(8) }\n\n];\n\nconst homeSketch = sketches[0];\n\n//{ id: 7, short: \"beached\", link: \"beached\", title: \"beached\", shortcut: \"&#x2318;8\", year: 2021, classN: \"\" },\n\nexport const getUrl = (short) => {\n    let sk = sketches.find((sketch) => sketch.short === short);\n    return \"/\" + sk.link;\n}\n\nexport const getRoomTitle = (path) => {\n    const link = path.substring(1, path.length);\n    if (link === \"\")\n        return homeSketch.title;\n    else if (link === \"about\")\n        return \"about\";\n\n    let sk = sketches.find((sketch) => sketch.link === link);\n    if (!sk)\n        return \"\"\n    return sk.title;\n}\n\nexport const getSketchFromTitle = (title) => {\n    if (title === \"\")\n        return homeSketch;\n    return sketches.find((sketch) => sketch.title === title);\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './Header.scss';\nimport FinderSubmenu from './components/FinderSubmenu';\n// import { withRouter, Link } from \"react-router-dom\";\n\n// components\nimport Clock from './components/Clock';\n// import Volume from '../Volume/VolumeMute';\n\n// icons\nimport VolumeUp from '@material-ui/icons/VolumeUp';\nimport VolumeOff from '@material-ui/icons/VolumeOff';\nimport LiveIcon from '@material-ui/icons/LiveTv';\nimport VolumeDown from '@material-ui/icons/VolumeDown';\n\nimport { sketches } from '../../sketches/Sketches';\n\n\nexport default function Header(props) {\n\n  // const [isVolumeMuted, setVolumeMuted] = useState(false);\n\n\n\n  const getMainMenuSub = () => {\n    const homeIcon = isSimpleHeader() ? \"fas fa-bars\" : \"fas fa-server\";\n    const title = isSimpleHeader() ? \"\" : getCurrentDirectory();\n\n    return (\n      <FinderSubmenu\n        currentPage={props.currentPage}\n        title={title}\n        icon={homeIcon}\n        specialClass=\"apple\"\n        listItems={sketches} />\n    );\n  }\n\n\n  const getDesktopHeader = () => {\n\n    let headerClass = \"Header menuTheme\";\n\n    return (\n      <header className={headerClass}>\n        <ul className=\"left\">\n          {getMainMenuSub()}\n        </ul>\n        <ul className=\"right\">\n          {getAboutLi()}\n          {getInstaLi()}\n          <li></li>\n          <li><Clock /></li>\n          {getVolumeLi()}\n        </ul>\n      </header>\n    )\n  }\n\n\n  const getMobileHeaderPortrait = () => {\n\n    const headerClass = \"Header menuTheme mobile\";\n\n    return (\n      <header className={headerClass}>\n        <ul className=\"left\">\n          {getMainTitleLi()}\n        </ul>\n        <ul className=\"right\">\n          {getMainMenuSub()}\n        </ul>\n      </header>\n    )\n  }\n\n\n  const isSimpleHeader = () => {\n    const { ui } = props;\n    return (ui.isMobile || ui.hasFooter);\n  }\n\n\n\n  const getMobileRightMenus = () => {\n    return (\n      <ul className=\"right\">\n        {/* <li className=\"header-avatar\" onClick={props.avatarClicked}>{this.getAvatar()}</li> */}\n      </ul>\n    );\n  }\n\n  const getInstaLi = () => {\n    return (\n      <li className=\"clickable\" onClick={() => openInNewTab(\"https://www.instagram.com/jdeboi/\")}>\n        <i className=\"fab fa-instagram\"></i>\n      </li>\n    )\n  }\n\n  const getAboutLi = () => {\n    return (\n      <li className=\"clickable\">\n        <Link to=\"/about\"><i className=\"far fa-file-alt\"></i></Link>\n      </li>\n    )\n  }\n\n  const openInNewTab = (url) => {\n    const newWindow = window.open(url, '_blank', 'noopener,noreferrer')\n    if (newWindow)\n      newWindow.opener = null\n  }\n\n  const getMainTitleLi = () => {\n    return (\n      <li><span id=\"pageTitle\">netscapes</span></li>\n    )\n  }\n\n  const getCurrentDirectory = () => {\n    return (\n      <React.Fragment>\n        <span id=\"pageTitle\">netscapes</span>\n        {/* <span className=\"subtitle\"> / </span>\n        <span className=\"subtitle\">{props.currentPage}</span> */}\n      </React.Fragment>\n    )\n  }\n\n  const getVolumeLi = () => {\n    const classVol = \"expandable icon opened\";\n    return (\n      <li className={classVol} onClick={props.toggleAudio}>\n        {/* <Volume isMuted={props.music.isMuted} /> */}\n        {getVolumeIcon()}\n      </li>\n    )\n  }\n\n  const getVolumeIcon = () => {\n    const { audioOn } = props;\n    if (audioOn)\n      return <VolumeUp />\n    return <VolumeOff />\n  }\n\n  if (isSimpleHeader()) {\n    return getMobileHeaderPortrait();\n  }\n  return (getDesktopHeader());\n\n}\n","import React from 'react';\n\nfunction Toolbar(props) {\n  return(\n    <div className=\"titlebar menuTheme handle\">\n      <div className=\"buttons\">\n        <div className=\"close circleButton\" onClick={props.toggleClosed}>\n          <div className=\"closebutton\"><div className=\"innerC\"></div></div>\n\n        </div>\n        <div className=\"minimize circleButton\" onClick={props.toggleMinimzed}>\n          <div className=\"minimizebutton\"><div className=\"innerC\"></div></div>\n\n        </div>\n        <div className=\"zoom circleButton\" onClick={props.toggleMaximized}>\n          <div className=\"zoombutton\"><div className=\"innerC\"></div></div>\n\n        </div>\n      </div>\n      <div className=\"titleTxtContainer\">{props.title}</div>\n\n\n    </div>\n  );\n}\n\nexport default Toolbar\n","import React from 'react';\nimport './Frame.css';\nimport Draggable from 'react-draggable';\nimport Toolbar from './Toolbar';\n\nimport PropTypes from 'prop-types';\n\n\nclass Frame extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.toolBarH = 26;\n\n\n    const { x, y } = this.props;\n    this.origCoords = {\n      x: x,\n      y: y\n    };\n\n    // this.start = this.props.x;\n    this.state = {\n      isVisible: true,\n      isMinimized: false,\n      deltaPosition: {\n        x: 0, y: 0\n      },\n      controlledPosition: {\n        x: x, y: y\n      }\n    }\n\n    this.wrapper = React.createRef();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n      const dx = this.props.x - prevProps.x;\n      const dy = this.props.y - prevProps.y;\n      const controlledPosition = { ...this.state.controlledPosition }\n      this.setState({ controlledPosition: { x: controlledPosition.x + dx, y: controlledPosition.y + dy } });\n    }\n  }\n\n  onControlledDrag = (e, position) => {\n    const { x, y } = position;\n    this.setState({ controlledPosition: { x, y } });\n    if (this.props.onDrag) this.props.onDrag(position);\n\n  };\n\n  onControlledDragStop = (e, position) => {\n    this.onControlledDrag(e, position);\n    this.onStop();\n  };\n\n  toggleClosed = (e) => {\n    // console.log(\"CLOSE\")\n    this.setState({\n      isVisible: false\n    })\n\n    if (this.props.onHide) this.props.onHide();\n    e.stopPropagation();\n  }\n\n  toggleMinimzed = (e) => {\n    this.setState(prevState => ({\n      isMinimized: !prevState.isMinimized\n    }), () => {\n      if (this.props.onMinimized) this.props.onMinimized();\n    });\n\n    e.stopPropagation();\n  }\n\n  toggleMaximized = (e) => {\n    const controlledPosition = { ...this.state.controlledPosition };\n    controlledPosition.x = this.origCoords.x;\n    controlledPosition.y = this.origCoords.y;\n    console.log(this.origCoords);\n    this.setState({ controlledPosition }, () => {\n      if (this.props.onMaximized) this.props.onMaximized();\n    });\n    e.stopPropagation()\n  }\n\n\n\n  onStart = () => {\n    this.setState({ activeDrags: this.state.activeDrags + 1 });\n    if (this.props.onStart) this.props.onStart();\n  };\n\n  onStop = () => {\n    this.setState({ activeDrags: this.state.activeDrags - 1 });\n    if (this.props.onStop) this.props.onStop();\n  };\n\n  handleStart = () => {\n    if (this.props.newFrameToTop) this.props.newFrameToTop();\n  }\n\n  handleClick = (e) => {\n    if (this.props.newFrameToTop) this.props.newFrameToTop();\n    e.stopPropagation();\n  }\n\n\n  // returnOriginalCoords() {\n  //   // e.preventDefault();\n  //   // e.stopPropagation();\n  //   const {controlledPosition} = this.state;\n  //   const {x, y} = controlledPosition;\n  //   console.log(controlledPosition);\n  //   this.setState({controlledPosition: {x: this.origCoords.x, y: this.origCoords.y}});\n  // }\n\n  render() {\n    const parser = new DOMParser();\n    var title = this.props.title;\n    // const dragHandlers = {onStart: this.onStart, onStop: this.onStop};\n    const { controlledPosition } = this.state;\n    // const cP = {x: controlledPosition.x, y: controlledPosition.y};\n    // cP.x += (this.props.x - this.origCoords.x);\n    // cP.y += (this.props.y - this.origCoords.y);\n\n    if (title === \"\") {\n      const parsedString = parser.parseFromString(this.props.icon, 'text/html');\n      title = parsedString.body.innerHTML;\n    }\n\n    var classn = \"Frame\";\n    if (this.props.isHidden == null && !this.state.isVisible) {\n      classn += \" hidden\";\n    }\n    else if (this.props.isHidden) {\n      classn += \" hidden\";\n    }\n    else if (this.props.isMinimized | this.state.isMinimized) {\n      classn += \" minimized\";\n    }\n\n    if (this.state.isMaximized) {\n      classn += \" maximized\";\n    }\n\n    if (this.props.className) classn += \" \" + this.props.className;\n\n\n    var contentVisibility = {\n      display: this.state.isMinimized ? \"none\" : \"block\",\n      height: this.props.height,\n      width: this.props.width\n    }\n\n    //https://github.com/STRML/react-draggable\n\n    // position = {...} makes it have a specific location. when you want direct control.\n    // let pos = this.state.controlledPosition;\n    // let off = this.props.dx ? {x: this.props.dx, y: this.props.dy}: null;\n    let frameH = this.toolBarH + (this.state.isMinimized ? 0 : this.props.height);\n    // so if we make pos null, it stays where it is dragged to\n    // however, it doesn't update when the page width / height changes\n    // if we let pos be equal to props.px/ props.py, it changes location\n\n    const bounds = this.props.bounded ? \".App-Content\" : null;\n    const frameStyle = { width: Math.floor(this.props.width) + 2, zIndex: this.props.z ? this.props.z : 0 };\n    if (frameH)\n      frameStyle.height = Math.floor(frameH);\n    return (\n\n      <Draggable\n        axis=\"both\"\n        handle={this.props.handle ? \".handle, \" + this.props.handle : \".handle\"}\n        defaultPosition={{ x: this.props.x, y: this.props.y }}\n        position={controlledPosition}\n        positionOffset={null}\n        grid={[1, 1]}\n        scale={1}\n        bounds={bounds}\n        cancel=\".close, .minimize, .zoom\"\n        onStart={this.handleStart}\n        onDrag={this.onControlledDrag}\n        onStop={this.handleStop}\n        nodeRef={this.wrapper}\n      >\n        <div ref={this.wrapper} onClick={this.handleClick} className={classn} style={frameStyle} >\n          <div className={this.props.window ? \"window \" + this.props.window : \"window\"} style={this.props.windowStyle}>\n            <Toolbar title={this.props.title} toggleClosed={this.toggleClosed} toggleMinimzed={this.toggleMinimzed} toggleMaximized={this.toggleMaximized} />\n            <div className=\"content\" style={contentVisibility}>\n              {this.props.content}\n            </div>\n          </div>\n        </div>\n      </Draggable>\n\n    );\n  }\n\n  closeFrame() {\n\n  }\n}\n\nFrame.propTypes = {\n  name: PropTypes.string,\n  title: PropTypes.string,\n  icon: PropTypes.string,\n  className: PropTypes.string,\n  handle: PropTypes.string,\n  window: PropTypes.string,\n  bounded: PropTypes.bool,\n\n  windowStyle: PropTypes.object,\n\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  z: PropTypes.number,\n  height: PropTypes.number,\n  width: PropTypes.number.isRequired,\n  content: PropTypes.node.isRequired,\n\n\n  isHidden: PropTypes.bool,\n  isMinimized: PropTypes.bool,\n\n  onDrag: PropTypes.func,\n  onHide: PropTypes.func,\n  onMinimized: PropTypes.func,\n  onMaximized: PropTypes.func,\n  onStart: PropTypes.func,\n  onStop: PropTypes.func,\n  newFrameToTop: PropTypes.func,\n};\n\nexport default Frame\n","import React from 'react';\nimport './DesktopIcon.css';\n\n// import { connect } from 'react-redux';\nimport Frame from '../Frame/Frame';\nimport Draggable from 'react-draggable';\n\n\nclass DesktopIcon extends React.Component {\n  //https://github.com/STRML/react-draggable\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n\n    this.state = {\n      isHidden: true,\n      controlledPosition: { x: props.x, y: props.y }\n    }\n\n    this.wrapper = React.createRef();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n      const dx = this.props.x - prevProps.x;\n      const dy = this.props.y - prevProps.y;\n      const controlledPosition = { ...this.state.controlledPosition }\n\n      this.setState({ controlledPosition: { x: controlledPosition.x + dx, y: controlledPosition.y + dy } });\n    }\n  }\n\n  onControlledDrag = (e, position) => {\n    const { x, y } = position;\n    this.setState({ controlledPosition: { x, y } });\n  };\n\n  onControlledDragStop = (e, position) => {\n    this.onControlledDrag(e, position);\n    this.onStop();\n  };\n  \n\n  onDblClick = () => {\n    // let {isHidden} = this.state;\n    // isHidden = !isHidden;\n    console.log(\"dbl\")\n    this.setState({ isHidden: false });\n    if (this.props.onDblClick) this.props.onDblClick(this.props.id);\n  }\n\n  onClick = () => {\n    if (this.props.newIconToTop) this.props.newIconToTop();\n    if (this.props.onClickMobile) {\n      this.props.onClickMobile();\n      console.log(\"mob cl\")\n      this.onDblClick();\n    } \n  }\n\n  onHide = () => {\n    this.setState({ isHidden: true });\n  }\n\n\n\n  render() {\n\n    // const { ui } = this.props;\n    // if (ui.isMobile)\n      // return this.getMobileDesktop();\n    return this.getDesktopDesktop();\n\n  }\n\n  getDesktopDesktop = () => {\n    const { controlledPosition } = this.state;\n    // const parser = new DOMParser();\n    // var title = this.props.title;\n\n    var classn = \"DesktopIcon\";\n    if (this.props.className) classn += \" \" + this.props.className;\n\n\n\n    // position = {...} makes it have a specific location. when you want direct control.\n    // let pos = this.state.controlledPosition;\n    // let frameH = this.toolBarH + (this.state.isMinimized ? 0 : this.props.height);\n    // so if we make pos null, it stays where it is dragged to\n    // however, it doesn't update when the page width / height changes\n    // if we let pos be equal to props.px/ props.py, it changes location\n    const bounded = this.props.bounded ? \".App-Content\" : null;\n    return (\n      <div className=\"DesktopDiv\" >\n        <Draggable\n          axis=\"both\"\n          handle={\".DesktopIcon\"}\n          defaultPosition={{ x: this.props.x, y: this.props.y }}\n          position={controlledPosition}\n          grid={[1, 1]}\n          scale={1}\n          bounds={bounded}\n          cancel=\".close, .minimize, .zoom\"\n          onStart={this.handleStart}\n          onDrag={this.onControlledDrag}\n          onStop={this.handleStop}\n          nodeRef={this.wrapper}\n        >\n          <div ref={this.wrapper} onDoubleClick={this.onDblClick} onClick={this.onClick} className={classn} style={{ width: this.props.width + \"px\", height: this.props.height + \"px\", zIndex: this.props.zIcon ? this.props.zIcon : 0 }} >\n            <div className=\"content\">\n              {this.props.content}\n            </div>\n            <div className=\"desktop-text\">{this.props.title}</div>\n          </div>\n        </Draggable>\n        {this.props.disableWindow ? null : this.getFrame()}\n      </div>\n    );\n  }\n\n  getMobileDesktop = () => {\n\n    // const parser = new DOMParser();\n    // var title = this.props.title;\n\n    // var classn = \"DesktopIcon DesktopIconMobile\";\n    // if (this.props.className) classn += \" \" + this.props.className;\n\n    return (\n      <div className=\"DesktopDivMobile\"\n        onClick={this.onDblClick}\n        style={{\n          top: this.props.y,\n          left: this.props.x,\n          width: this.props.width,\n          height: this.props.height,\n          zIndex: this.props.zIcon ? this.props.zIcon : 0\n        }} >\n        <div className=\"content\">\n          {this.props.content}\n        </div>\n        <div className=\"desktop-text\">{this.props.title}</div>\n      </div>\n    );\n\n  }\n\n  getFrame() {\n    const { isHidden } = this.state;\n\n    return (\n      <Frame className=\"FolderOpenFrame\" title={this.props.title} isHidden={isHidden} onHide={this.onHide.bind(this)} x={this.props.box.x} y={this.props.box.y} z={this.props.zFrame ? this.props.zFrame : 0} width={this.props.box.w} height={this.props.box.h} content={this.props.frameContent} newFrameToTop={this.props.newFrameToTop} />\n\n    )\n  }\n\n}\n\n\n\n\n// const mapStateToProps = (state) => {\n//   return {\n//     ui: state.ui,\n//   }\n// }\n\n// const mapDispatchToProps = () => {\n//   return {\n//   }\n// }\n\n\n// export default connect(mapStateToProps, mapDispatchToProps())(DesktopIcon);\n\nexport default DesktopIcon;\n","import { useEffect, useRef } from 'react'\n\nfunction useInterval(callback, delay) {\n  const savedCallback = useRef(callback)\n\n  // Remember the latest callback if it changes.\n  useEffect(() => {\n    savedCallback.current = callback\n  }, [callback])\n\n  // Set up the interval.\n  useEffect(() => {\n    // Don't schedule if no delay is specified.\n    if (delay === null) {\n      return\n    }\n\n    const id = setInterval(() => savedCallback.current(), delay)\n\n    return () => clearInterval(id)\n  }, [delay])\n}\n\nexport default useInterval\n","\nexport function getRandomNum(val) {\n  var x = Math.sin(val) * 10000;\n  return x - Math.floor(x);\n}\n\n// index 2 goes to top\n// 3 , 2, 1, 0\n//-> 2, 1, 3, 0\nexport function getNewZIndices(indexToTop, array) {\n  let prevVal = array[indexToTop];\n  let maxVal = 0;\n  let newArr = [];\n  for (let i = 0; i < array.length; i++) {\n    if (array[i] > maxVal) maxVal = array[i];\n    if (array[i] > prevVal) newArr[i] = array[i] - 1;\n    else newArr[i] = array[i];\n  }\n  newArr[indexToTop] = maxVal;\n  return newArr;\n}\n\nexport function mapVal(val, in_min, in_max, out_min, out_max) {\n  return (val - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n}\n\nexport function constrain(val, min, max) {\n  if (val < min)\n    return min;\n  else if (val > max)\n    return max;\n  return val;\n}\n\nexport function randomInRange(start, end) {\n  let diff = end - start;\n  return Math.random() * diff + start;\n}\n\nexport function getRadians(degrees) {\n  return degrees * Math.PI / 180;\n}\n\nfunction valueInRange(value, min, max) {\n  return (value >= min) && (value <= max);\n}\n\nexport function rectanglesOverlap(p1x, p1y, p1w, p1h, p2x, p2y, p2w, p2h) {\n\n  const A = { x: p1x, y: p1y, width: p1w, height: p1h };\n  const B = { x: p2x, y: p2y, width: p2w, height: p2h };\n\n  let xOverlap = valueInRange(A.x, B.x, B.x + B.width) ||\n    valueInRange(B.x, A.x, A.x + A.width);\n\n  let yOverlap = valueInRange(A.y, B.y, B.y + B.height) ||\n    valueInRange(B.y, A.y, A.y + A.height);\n\n  return xOverlap && yOverlap;\n}\n\n// export function rectanglesOverlap(p1x, p1y, p1w, p1h, p2x, p2y, p2w, p2h) {\n//   const l1 = { x: p1x, y: p1y };\n//   const r1 = { x: l1.x + p1w, y: l1.y + p1h };\n//   const l2 = { x: p2x, y: p2y };\n//   const r2 = { x: l2.x + p2w, y: l2.y + p2h };\n//   // To check if either rectangle is actually a line\n//   // For example :  l1 ={-1,0}  r1={1,1}  l2={0,-1}\n//   // r2={0,1}\n\n//   if (l1.x == r1.x || l1.y == r1.y || l2.x == r2.x\n//     || l2.y == r2.y) {\n//     // the line cannot have positive overlap\n//     return false;\n//   }\n\n//   // If one rectangle is on left side of other\n//   if (l1.x >= r2.x || l2.x >= r1.x)\n//     return false;\n\n//   // If one rectangle is above other\n//   if (r1.y >= l2.y || r2.y >= l1.y)\n//     return false;\n\n//   return true;\n\n// }","import React, { useState, useEffect } from 'react';\nimport './Yosemite.scss';\n\n// components\n\nimport Frame from '../../shared/Frame/Frame';\nimport DesktopIcon from '../../shared/DesktopIcon/DesktopIcon';\n\n// hooks\n\n// import useAudio from '../../../hooks/useAudio';\nimport useSound from 'use-sound';\nimport useInterval from '../../../hooks/useInterval';\n\n// helpers\nimport { mapVal, constrain, randomInRange } from '../../shared/Helpers/Helpers';\n\n\nexport default function Yosemite(props) {\n\n  const getPopUps = () => {\n    const { ui } = props;\n\n    let _numPops = constrain(ui.width / 30, 20, 60);\n\n    let _popups = [];\n    for (let i = 0; i < _numPops; i++) {\n      let w = 80;//Math.floor(maxS);\n      let x = randomInRange(0, ui.width - w);\n      let bottom = ui.contentH;\n      let yMax = bottom - w - 30;\n      let yMin = 60;\n      let y = randomInRange(yMin, yMax);\n      let z = i;\n      let isHidden = true;\n      let classN = \"\";\n      _popups.push({ x, y, z, w, isHidden, classN });\n    }\n    return _popups;\n  }\n\n  const [numPops, setNumPops] = useState(0);\n  const [popTime, setPopTime] = useState(3000);\n  const [numFrames, setNumFrames] = useState(0);\n  const [popW, setPopW] = useState(80);\n  const [popups, setPopUps] = useState(getPopUps());\n\n\n  // const start = new Date();\n  // const [hasStarted, setHasStarted] = useState(false);\n\n  // hooks\n\n\n  useEffect(() => {\n    props.setVolume(0);\n\n  },\n    [])\n\n\n\n  useInterval(\n    () => {\n      popUp();\n    },\n    props.hasLoadedRoom ? popTime : null,\n  )\n\n\n\n\n  const popUp = () => {\n\n    const { ui } = props;\n\n    setPopTime(Math.max(popTime - 200, 300))\n    setNumPops((numPops + 1) % popups.length);\n    setPopW(Math.min(popW + 10, 3000));\n\n    setPopUps(\n      popups.map((pop, i) => {\n        if (i === numPops) {\n          let p = { ...pop };\n          p.w = popW;\n          p.isHidden = false;\n          p.x = randomInRange(0, ui.width - popW);\n          p.y = randomInRange(60, ui.contentH - popW - 30);\n          return p;\n        }\n        return pop;\n      }\n      ));\n\n    let vol = mapVal(popW, 80, 300, 0, 1);\n    vol = constrain(vol, 0, 1);\n    props.setVolume(vol);\n\n  }\n\n  const onHide = (id) => {\n\n    setPopUps(\n      popups.map((pop, i) => {\n        if (i === id) {\n          let p = { ...pop };\n          p.isHidden = true;\n          return p;\n        }\n        return pop;\n      }\n      ));\n  }\n\n\n  const onDblClick = (i) => {\n    console.log(i);\n    setNumFrames(numFrames + 1);\n  }\n\n  const clicked = (id) => {\n    setNumFrames(numFrames + 1);\n  }\n\n  const getFrames = () => {\n    const { ui } = props;\n\n    let frames = [];\n    for (let i = 0; i < numFrames; i++) {\n      frames[i] = i;\n    }\n\n    return (\n      <div className=\"openedFrames\">\n        {frames.map((frame, i) => {\n          let framesW = 20;\n          let startX = 100;\n          if (ui.contentW < 500) {\n            framesW = 5;\n            startX = 20;\n          }\n\n          let direction = Math.floor(frame / framesW);\n\n          let x = 0;\n          if (direction % 2 === 0)\n            x = startX + frame % framesW * 20;\n          else\n            x = startX + framesW * 20 - frame % framesW * 20;\n\n          return (\n            <Frame\n              handle={\".App\"}\n              key={frame}\n              // bounded={true}\n              x={x}\n              y={100 + frame * 20}\n              width={300}\n              height={150}\n              title={\"\"}\n              windowStyle={{ background: \"white\" }}\n              content={\n                <div className=\"burned-folders\">\n                  {getFolderList([\"backup_\" + (i + 1)], ui.isMobile, frame)}\n                </div>\n              }\n            />\n          )\n        })}\n      </div>\n    )\n\n  }\n\n\n  const getFolderList = (titles, isMobile, frame) => {\n    return (\n\n      titles.map((title, i) => {\n        if (isMobile) {\n          return (\n            <div className=\"folder-item\" key={i} onClick={(event) => clicked(frame)}>\n              <div className=\"folder-img\" />\n              <div className=\"folder-title\">{title}</div>\n            </div>\n          )\n        }\n        return (\n          <div className=\"folder-item\" key={i} onDoubleClick={(event) => clicked(frame)}>\n            <div className=\"folder-img\" />\n\n            <div className=\"folder-title\">{title}</div>\n          </div>\n\n        )\n      })\n\n    )\n\n  }\n\n  var box = { x: 100, y: 100, w: 300, h: 200 };\n  const { ui } = props;\n\n  return (\n    <React.Fragment>\n      <div className=\"Sketch Yosemite\">\n\n        {\n          popups.map((pop, i) => {\n            // console.log(i);\n            return (\n              <Frame\n                windowStyle={{ background: \"rgba(0, 0, 0, .3)\" }}\n                content={\n                  <div className=\"fyre\" ></div>\n                }\n                key={i}\n                onHide={() => onHide(i)}\n                isHidden={pop.isHidden}\n                bounded={false}\n                width={pop.w}\n                height={pop.w}\n                className=\"fire\"\n                x={pop.x}\n                y={pop.y}\n                z={i === numPops ? popups.length : i}\n              />\n            );\n\n          })\n        }\n        <DesktopIcon\n          disableWindow={true}\n          onDblClick={() => onDblClick(0)}\n          x={ui.contentW - 150}\n          y={100}\n          width={83}\n          height={90}\n          box={box}\n          title={\"home\"}\n          content={\n            <img alt=\"fire window\" src={window.LMD + \"/shared/homeicon.png\"} width={80} height={80} />\n          }\n          frameContent={\n            <div className=\"test\">home</div>\n          }\n        />\n\n        {getFrames()}\n\n      </div>\n    </React.Fragment>\n  )\n}\n\n\n\n\n","import {\n\tClock,\n\tColor,\n\tLinearEncoding,\n\tMatrix4,\n\tMesh,\n\tRepeatWrapping,\n\tShaderMaterial,\n\tTextureLoader,\n\tUniformsLib,\n\tUniformsUtils,\n\tVector2,\n\tVector4\n} from 'three';\nimport { Reflector } from 'three/examples/jsm/objects/Reflector.js';\nimport { Refractor } from 'three/examples/jsm/objects/Refractor.js';\n\n/**\n * References:\n *\thttp://www.valvesoftware.com/publications/2010/siggraph2010_vlachos_waterflow.pdf\n * \thttp://graphicsrunner.blogspot.de/2010/08/water-using-flow-maps.html\n *\n */\n\nclass Water extends Mesh {\n\n\tconstructor( geometry, options = {} ) {\n\n\t\tsuper( geometry );\n\n\t\tthis.type = 'Water';\n\n\t\tconst scope = this;\n\n\t\tconst color = ( options.color !== undefined ) ? new Color( options.color ) : new Color( 0xFFFFFF );\n\t\tconst textureWidth = options.textureWidth || 512;\n\t\tconst textureHeight = options.textureHeight || 512;\n\t\tconst clipBias = options.clipBias || 0;\n\t\tconst flowDirection = options.flowDirection || new Vector2( 1, 0 );\n\t\tconst flowSpeed = options.flowSpeed || 0.03;\n\t\tconst reflectivity = options.reflectivity || 0.02;\n\t\tconst scale = options.scale || 1;\n\t\tconst shader = options.shader || Water.WaterShader;\n\t\tconst encoding = options.encoding !== undefined ? options.encoding : LinearEncoding;\n\n\t\tconst textureLoader = new TextureLoader();\n\n\t\tconst flowMap = options.flowMap || undefined;\n\t\tconst normalMap0 = options.normalMap0 || textureLoader.load( process.env.PUBLIC_URL + '/textures/water/Water_1_M_Normal.jpg' );\n\t\tconst normalMap1 = options.normalMap1 || textureLoader.load( process.env.PUBLIC_URL + '/textures/water/Water_2_M_Normal.jpg' );\n\n\t\tconst cycle = 0.15; // a cycle of a flow map phase\n\t\tconst halfCycle = cycle * 0.5;\n\t\tconst textureMatrix = new Matrix4();\n\t\tconst clock = new Clock();\n\n\t\t// internal components\n\n\t\tif ( Reflector === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Water: Required component Reflector not found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( Refractor === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Water: Required component Refractor not found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst reflector = new Reflector( geometry, {\n\t\t\ttextureWidth: textureWidth,\n\t\t\ttextureHeight: textureHeight,\n\t\t\tclipBias: clipBias,\n\t\t\tencoding: encoding\n\t\t} );\n\n\t\tconst refractor = new Refractor( geometry, {\n\t\t\ttextureWidth: textureWidth,\n\t\t\ttextureHeight: textureHeight,\n\t\t\tclipBias: clipBias,\n\t\t\tencoding: encoding\n\t\t} );\n\n\t\treflector.matrixAutoUpdate = false;\n\t\trefractor.matrixAutoUpdate = false;\n\n\t\t// material\n\n\t\tthis.material = new ShaderMaterial( {\n\t\t\tuniforms: UniformsUtils.merge( [\n\t\t\t\tUniformsLib[ 'fog' ],\n\t\t\t\tshader.uniforms\n\t\t\t] ),\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\ttransparent: true,\n\t\t\tfog: true\n\t\t} );\n\n\t\tif ( flowMap !== undefined ) {\n\n\t\t\tthis.material.defines.USE_FLOWMAP = '';\n\t\t\tthis.material.uniforms[ 'tFlowMap' ] = {\n\t\t\t\ttype: 't',\n\t\t\t\tvalue: flowMap\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tthis.material.uniforms[ 'flowDirection' ] = {\n\t\t\t\ttype: 'v2',\n\t\t\t\tvalue: flowDirection\n\t\t\t};\n\n\t\t}\n\n\t\t// maps\n\n\t\tnormalMap0.wrapS = normalMap0.wrapT = RepeatWrapping;\n\t\tnormalMap1.wrapS = normalMap1.wrapT = RepeatWrapping;\n\n\t\tthis.material.uniforms[ 'tReflectionMap' ].value = reflector.getRenderTarget().texture;\n\t\tthis.material.uniforms[ 'tRefractionMap' ].value = refractor.getRenderTarget().texture;\n\t\tthis.material.uniforms[ 'tNormalMap0' ].value = normalMap0;\n\t\tthis.material.uniforms[ 'tNormalMap1' ].value = normalMap1;\n\n\t\t// water\n\n\t\tthis.material.uniforms[ 'color' ].value = color;\n\t\tthis.material.uniforms[ 'reflectivity' ].value = reflectivity;\n\t\tthis.material.uniforms[ 'textureMatrix' ].value = textureMatrix;\n\n\t\t// inital values\n\n\t\tthis.material.uniforms[ 'config' ].value.x = 0; // flowMapOffset0\n\t\tthis.material.uniforms[ 'config' ].value.y = halfCycle; // flowMapOffset1\n\t\tthis.material.uniforms[ 'config' ].value.z = halfCycle; // halfCycle\n\t\tthis.material.uniforms[ 'config' ].value.w = scale; // scale\n\n\t\t// functions\n\n\t\tfunction updateTextureMatrix( camera ) {\n\n\t\t\ttextureMatrix.set(\n\t\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t\t);\n\n\t\t\ttextureMatrix.multiply( camera.projectionMatrix );\n\t\t\ttextureMatrix.multiply( camera.matrixWorldInverse );\n\t\t\ttextureMatrix.multiply( scope.matrixWorld );\n\n\t\t}\n\n\t\tfunction updateFlow() {\n\n\t\t\tconst delta = clock.getDelta();\n\t\t\tconst config = scope.material.uniforms[ 'config' ];\n\n\t\t\tconfig.value.x += flowSpeed * delta; // flowMapOffset0\n\t\t\tconfig.value.y = config.value.x + halfCycle; // flowMapOffset1\n\n\t\t\t// Important: The distance between offsets should be always the value of \"halfCycle\".\n\t\t\t// Moreover, both offsets should be in the range of [ 0, cycle ].\n\t\t\t// This approach ensures a smooth water flow and avoids \"reset\" effects.\n\n\t\t\tif ( config.value.x >= cycle ) {\n\n\t\t\t\tconfig.value.x = 0;\n\t\t\t\tconfig.value.y = halfCycle;\n\n\t\t\t} else if ( config.value.y >= cycle ) {\n\n\t\t\t\tconfig.value.y = config.value.y - cycle;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tthis.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\tupdateTextureMatrix( camera );\n\t\t\tupdateFlow();\n\n\t\t\tscope.visible = false;\n\n\t\t\treflector.matrixWorld.copy( scope.matrixWorld );\n\t\t\trefractor.matrixWorld.copy( scope.matrixWorld );\n\n\t\t\treflector.onBeforeRender( renderer, scene, camera );\n\t\t\trefractor.onBeforeRender( renderer, scene, camera );\n\n\t\t\tscope.visible = true;\n\n\t\t};\n\n\t}\n\n}\n\nWater.prototype.isWater = true;\n\nWater.WaterShader = {\n\n\tuniforms: {\n\n\t\t'color': {\n\t\t\ttype: 'c',\n\t\t\tvalue: null\n\t\t},\n\n\t\t'reflectivity': {\n\t\t\ttype: 'f',\n\t\t\tvalue: 0\n\t\t},\n\n\t\t'tReflectionMap': {\n\t\t\ttype: 't',\n\t\t\tvalue: null\n\t\t},\n\n\t\t'tRefractionMap': {\n\t\t\ttype: 't',\n\t\t\tvalue: null\n\t\t},\n\n\t\t'tNormalMap0': {\n\t\t\ttype: 't',\n\t\t\tvalue: null\n\t\t},\n\n\t\t'tNormalMap1': {\n\t\t\ttype: 't',\n\t\t\tvalue: null\n\t\t},\n\n\t\t'textureMatrix': {\n\t\t\ttype: 'm4',\n\t\t\tvalue: null\n\t\t},\n\n\t\t'config': {\n\t\t\ttype: 'v4',\n\t\t\tvalue: new Vector4()\n\t\t}\n\n\t},\n\n\tvertexShader: /* glsl */`\n\n\t\t#include <common>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\n\t\tuniform mat4 textureMatrix;\n\n\t\tvarying vec4 vCoord;\n\t\tvarying vec2 vUv;\n\t\tvarying vec3 vToEye;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tvCoord = textureMatrix * vec4( position, 1.0 );\n\n\t\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\t\t\tvToEye = cameraPosition - worldPosition.xyz;\n\n\t\t\tvec4 mvPosition =  viewMatrix * worldPosition; // used in fog_vertex\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\n\t\t#include <common>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\n\t\tuniform sampler2D tReflectionMap;\n\t\tuniform sampler2D tRefractionMap;\n\t\tuniform sampler2D tNormalMap0;\n\t\tuniform sampler2D tNormalMap1;\n\n\t\t#ifdef USE_FLOWMAP\n\t\t\tuniform sampler2D tFlowMap;\n\t\t#else\n\t\t\tuniform vec2 flowDirection;\n\t\t#endif\n\n\t\tuniform vec3 color;\n\t\tuniform float reflectivity;\n\t\tuniform vec4 config;\n\n\t\tvarying vec4 vCoord;\n\t\tvarying vec2 vUv;\n\t\tvarying vec3 vToEye;\n\n\t\tvoid main() {\n\n\t\t\t#include <logdepthbuf_fragment>\n\n\t\t\tfloat flowMapOffset0 = config.x;\n\t\t\tfloat flowMapOffset1 = config.y;\n\t\t\tfloat halfCycle = config.z;\n\t\t\tfloat scale = config.w;\n\n\t\t\tvec3 toEye = normalize( vToEye );\n\n\t\t\t// determine flow direction\n\t\t\tvec2 flow;\n\t\t\t#ifdef USE_FLOWMAP\n\t\t\t\tflow = texture2D( tFlowMap, vUv ).rg * 2.0 - 1.0;\n\t\t\t#else\n\t\t\t\tflow = flowDirection;\n\t\t\t#endif\n\t\t\tflow.x *= - 1.0;\n\n\t\t\t// sample normal maps (distort uvs with flowdata)\n\t\t\tvec4 normalColor0 = texture2D( tNormalMap0, ( vUv * scale ) + flow * flowMapOffset0 );\n\t\t\tvec4 normalColor1 = texture2D( tNormalMap1, ( vUv * scale ) + flow * flowMapOffset1 );\n\n\t\t\t// linear interpolate to get the final normal color\n\t\t\tfloat flowLerp = abs( halfCycle - flowMapOffset0 ) / halfCycle;\n\t\t\tvec4 normalColor = mix( normalColor0, normalColor1, flowLerp );\n\n\t\t\t// calculate normal vector\n\t\t\tvec3 normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );\n\n\t\t\t// calculate the fresnel term to blend reflection and refraction maps\n\t\t\tfloat theta = max( dot( toEye, normal ), 0.0 );\n\t\t\tfloat reflectance = reflectivity + ( 1.0 - reflectivity ) * pow( ( 1.0 - theta ), 5.0 );\n\n\t\t\t// calculate final uv coords\n\t\t\tvec3 coord = vCoord.xyz / vCoord.w;\n\t\t\tvec2 uv = coord.xy + coord.z * normal.xz * 0.05;\n\n\t\t\tvec4 reflectColor = texture2D( tReflectionMap, vec2( 1.0 - uv.x, uv.y ) );\n\t\t\tvec4 refractColor = texture2D( tRefractionMap, uv );\n\n\t\t\t// multiply water color with the mix of both textures\n\t\t\tgl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\n\t\t}`\n\n};\n\nexport { Water };\n","import React from 'react';\nimport './Frame.css';\nimport Toolbar from './Toolbar';\n// import Draggable from 'react-draggable';\n\nclass FrameSimple extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n\n  // constructor(props) {\n  //   super(props);\n  //   this.state = {\n  //     isMinimized: false,\n  //     isClosed: false\n  //   }\n  //\n  //   this.toggleClosed = this.toggleClosed.bind(this);\n  //\n  // }\n\n  render() {\n    let toolBarH = 30;\n\n    // var title = this.props.title;\n\n    let x = Math.floor(this.props.px);\n    let y = Math.floor(this.props.py);\n    var sty = {\n      width: this.props.width,\n      height: this.props.height + toolBarH,\n      left: x,\n      top: y,\n      // display: this.state.isClosed?\"none\":\"block\"\n    }\n\n    let classN = \"Frame FrameSimple\";\n    if (this.props.notAbsolute) classN += \" static\"\n\n    // so i guess x/y in <FrameSimple x={..} ...} doesn't do anything?\n    // but px={} py={} does?\n    // how does this differ from <Frame ..> ?\n    // oh frame simple isn't draggable.. doi\n\n     return (\n      <div className={classN} style={sty}>\n        <div className=\"window\" style={this.props.windowStyle}>\n          <Toolbar title={this.props.title} toggleClosed={this.toggleClosed} toggleMinimzed={this.toggleMinimzed} toggleMaximized={this.toggleMaximized} />\n\n          <div className=\"content\">\n            {this.props.content}\n          </div>\n\n        </div>\n      </div>\n\n    );\n  }\n\n  toggleMinimzed() {\n    //ok...\n  }\n\n  toggleClosed() {\n    // this.setState({isClosed: true});\n  }\n}\n\n\n\nexport default FrameSimple\n","import React from 'react';\nimport FrameSimple from '../../shared/Frame/FrameSimple';\n\nclass Birds extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      birdInitialsX: [],\n      birdInitialsY: [],\n      numVisibleBirds : 4,\n      flyIndex: 0,\n      flyDirection: true\n    }\n  }\n\n  componentDidMount() {\n    this.initBirds();\n    this.interval = setInterval(this.updateBirds, 50);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    return (\n      <div className=\"birds\">\n        {this.state.birdInitialsX.map((pos, index) => {\n          return (this.getBird(index))\n        })}\n      </div>\n    )\n  }\n\n  initBirds = () => {\n    let birds = [];\n    let xSpace = 100;\n    let ySpace = 80;\n    // let num = Math.floor(4*Math.random()+2);\n    // let d =  Math.random();\n    const dir = true;\n    const birdInitialsX = [];\n    const birdInitialsY = [];\n    const num = 5;\n    for (var i = 0; i < num; i++) {\n      let mid = num/2;\n\n      let dx = i * xSpace + Math.random()*30;\n      if (i >= mid) dx = (num - i) * xSpace + Math.random()*30;\n      if (num%2 == 0 && i>= mid) dx += xSpace/2;\n\n      let dy = i * ySpace + Math.random()*10;\n\n      let x0 = dx-300;\n      let y0 = dy;\n      birdInitialsX[i] = x0;\n      birdInitialsY[i] = y0;\n    }\n    this.setState({birdInitialsX, birdInitialsY, flyDirection: dir});\n  }\n\n  updateBirds = () => {\n    const maxW = this.state.windowWidth+600;\n    const {flyIndex, flyDirection} = this.state;\n    if (flyIndex > maxW) {\n      this.setState(prevState => ({\n        flyDirection: Math.random()>.5?true:false,\n        flyIndex: 0,\n        numVisibleBirds: Math.floor(4*Math.random()+2)\n      }));\n    }\n    else {\n      const inc = 5;\n      this.setState({flyIndex: this.state.flyIndex+inc});\n    }\n  }\n\n  getBird = (index) => {\n    const bird = this.getBirdLocation(index);\n    return (\n      <FrameSimple title=\"\" content={\n          <div className={\"bird \" + (this.state.flyDirection?\"flippedX\":\"\")}></div>\n        }\n        width={78+2} key={index} windowStyle={{background: \"transparent\"}} height={60} px={bird.x} py={bird.y}\n        />\n    )\n  }\n\n  getBirdLocation = (index) => {\n    const {numVisibleBirds, flyIndex, flyDirection, birdInitialsX, birdInitialsY, windowWidth} = this.state;\n    const bird = {};\n    if (index < numVisibleBirds) {\n      if (flyDirection) {\n        bird.x = flyIndex + birdInitialsX[index];\n        bird.y = birdInitialsY[index]+50*Math.sin(bird.x/100);\n        bird.y = Math.floor(bird.y);\n      } else {\n        bird.x = (windowWidth+100) - (flyIndex + birdInitialsX[index]);\n        bird.y = birdInitialsY[index]+50*Math.sin(bird.x/100);\n        bird.y = Math.floor(bird.y);\n      }\n    }\n    else {\n      bird.x = -1000;\n      bird.y = -1000;\n    }\n    return bird;\n  }\n\n\n}\n\nexport default Birds;\n","import React, { useState, useEffect } from 'react';\nimport \"./HardDrives.scss\";\n\nimport * as THREE from \"three\";\n// import { AnaglyphEffect } from 'three/examples/jsm/effects/AnaglyphEffect.js';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js';\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader.js';\nimport { DDSLoader } from 'three/examples/jsm/loaders/DDSLoader.js';\n// import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { Water } from '../../shared/3D/Water2';\n\n// components\nimport Frame from '../../shared/Frame/Frame';\nimport Birds from './Birds';\n\n\n// store\n// import { connect } from 'react-redux';\n// import { setSketchMusic } from '../../../store/actions/music';\n\n\n\nvar AnaglyphEffect = require('../../shared/3D/AnaglyphEffect')(THREE, true);\n\n\n\n// var start;\n// var changed = false;\n\n\n\nexport default function HardDrives(props) {\n\n    let scene, controls, mount, camera, renderer, effect, requestID;\n    let water, floorMaterial;\n    const trees = [];\n    const bottles = [];\n    const scaler = 4;\n    let seed = 13;\n    const island = \"https://www.google.com/maps/embed?pb=!4v1591730465198!6m8!1m7!1sCAoSLEFGMVFpcFBTYW9SYVFBMmR0QjhoeTVaSUs5R3lQaGJBNVB5dVhFQ2o0UVdW!2m2!1d-17.3611139!2d177.1339841!3f99.14217177224654!4f16.212409154729073!5f0.5970117501821992\";\n\n    const { ui } = props;\n    const svFrame = {};\n    let f = .8;\n    if (ui.contentW >= 1920)\n        f = 1.3;\n    const ogW = 600 * f;\n    const ogH = 450 * .8 * f;\n    svFrame.w = ogW;\n    svFrame.h = ogH;\n    svFrame.x = (ui.contentW - svFrame.w) * .27;\n    svFrame.y = (ui.contentH - svFrame.h - 30) * .5;\n\n    if (ui.hasFooter || ui.isMobile) {\n        if (ui.orientation === \"portrait\") {\n            let wTemp = ui.width - 40;\n            if (wTemp < ogW) {\n                svFrame.w = wTemp; // Math.min(ui.width-40, ogW);\n                svFrame.h = svFrame.h * (svFrame.w / ogW);\n                svFrame.y = 20; //ui.headerH + 50;\n                svFrame.x = 18;\n            }\n            else {\n                svFrame.x = (ui.width - svFrame.w - 4) / 2;\n\n            }\n            svFrame.y = ui.height / 2 - svFrame.h * .8;\n        }\n        else {\n            const factor = ui.height / 500;\n\n            if (factor < 1) {\n                svFrame.h *= ui.height / 500;\n                svFrame.w *= ui.height / 500;\n                svFrame.y = 10; //ui.headerH + 20;\n                svFrame.x = 50;\n            }\n\n        }\n    }\n\n    const title = \"\";// (ui.isMobile || ui.hasFooter) ? \"\": \"hard drives on seashores\";\n\n\n    useEffect(\n        () => {\n            // props.setAudioSource(window.LMD + \"/hardDrives/seagulls.mp3\");\n            // props.setVolume(.5);\n\n            window.addEventListener('resize', handleWindowResize);\n            setupScene();\n            startAnimationLoop();\n\n            return () => {\n                // props.setVolume(0);\n                window.removeEventListener('resize', handleWindowResize);\n                window.cancelAnimationFrame(requestID);\n                if (controls)\n                    controls.dispose();\n            }\n        },\n        // empty array if you want this to run once\n        // otherwise, fill with variables that will update\n        []\n    );\n\n\n\n    const handleWindowResize = () => {\n        const width = window.innerWidth; //this.el.clientWidth;\n        const height = window.innerHeight; //this.el.clientHeight;\n        renderer.setSize(width, height);\n        effect.setSize(width, height);\n        camera.aspect = width / height;\n        camera.updateProjectionMatrix();\n    };\n\n    const setupScene = () => {\n\n        // const camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0, 8 * scaler, -5 * scaler), 0.033, scene);\n        // scene.clearColor = Color3.Black();\n        // camera.setTarget(new Vector3(0, 8 * scaler, 0));\n\n        scene = new THREE.Scene();\n        camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 10000);\n        // camera.up = new THREE.Vector3(0,0,1);\n        camera.position.set(0, 8 * scaler, -5 * scaler);\n        camera.lookAt(new THREE.Vector3(0, 8 * scaler, 0));\n\n        renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true, });\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        // document.body.appendChild( renderer.domElement );\n        // use ref as a mount point of the Three.js scene instead of the document.body\n        mount.appendChild(renderer.domElement);\n\n\n        effect = new AnaglyphEffect(renderer);\n        effect.setSize(window.innerWidth, window.innerHeight);\n\n        // controls = new OrbitControls(camera, renderer.domElement);\n        // controls.minDistance = 1;\n        // controls.maxDistance = 80;\n        // controls.enablePan = false;\n\n        var ambientLight = new THREE.AmbientLight(0xaaaaaa);\n        scene.add(ambientLight);\n        addLight(-10, 2, 4);\n        addLight(1, -10, -2);\n\n\n        addPalms();\n        addSkybox();\n        addBottles();\n        addWater();\n        addFloor();\n\n    }\n\n    const startAnimationLoop = () => {\n\n\n        if (controls)\n            controls.update();\n        effect.render(scene, camera);\n        requestID = window.requestAnimationFrame(startAnimationLoop);\n\n        for (let i = 0; i < trees.length; i++) {\n            var sign = i % 2 === 0 ? 1 : -1;\n            trees[i].rotation.y += .005 * sign;\n        }\n\n        for (let i = 0; i < bottles.length; i++) {\n            bottles[i].position.y = .7 * Math.sin(new Date() / 600 + bottles[i].position.x / 60);\n        }\n    };\n\n    const addWater = () => {\n        const waterGeometry = new THREE.PlaneGeometry(512 * scaler, 512 * scaler);\n\n        const params = {\n            color: '#ffffff',\n            scale: 1,\n            flowX: .21,\n            flowY: .21\n        };\n\n        water = new Water(waterGeometry, {\n            color: params.color,\n            scale: params.scale,\n            flowDirection: new THREE.Vector2(params.flowX, params.flowY),\n            textureWidth: 1024,\n            textureHeight: 1024\n        });\n\n        water.position.y = 1; //scaler;\n        water.rotation.x = Math.PI * - 0.5;\n\n        // water.material.uniforms['color'].value.set(0xffffff);\n        // water.material.uniforms['config'].value.w = 4;\n        // water.material.uniforms['flowDirection'].value.x = 1;\n        // water.material.uniforms['flowDirection'].value.normalize();\n        // water.material.uniforms['flowDirection'].value.y = 1;\n        // water.material.uniforms['flowDirection'].value.normalize();\n\n        scene.add(water);\n    }\n\n    const addLight = (...pos) => {\n        const color = 0xFFFFFF;\n        const intensity = 1;\n        const light = new THREE.DirectionalLight(color, intensity);\n        light.position.set(...pos);\n        scene.add(light);\n    }\n\n    const addSkybox = () => {\n        const loader = new THREE.CubeTextureLoader();\n        const texture = loader.load([\n            window.LMD + \"/hardDrives/skybox/skybox_px.jpg\",\n            window.LMD + \"/hardDrives/skybox/skybox_nx.jpg\",\n            window.LMD + \"/hardDrives/skybox/skybox_py.jpg\",\n            window.LMD + \"/hardDrives/skybox/skybox_ny.jpg\",\n            window.LMD + \"/hardDrives/skybox/skybox_pz.jpg\",\n            window.LMD + \"/hardDrives/skybox/skybox_nz.jpg\",\n        ]);\n        scene.background = texture;\n    }\n\n    const addFloor = () => {\n        // FLOOR\n        var floorTexture = new THREE.TextureLoader().load(window.LMD + \"/shared/black_sand.jpg\");\n        floorTexture.wrapS = floorTexture.wrapT = THREE.RepeatWrapping;\n        floorTexture.repeat.set(20.0, 20.0);\n        floorMaterial = new THREE.MeshBasicMaterial({ map: floorTexture, side: THREE.BackSide });\n        var floorGeometry = new THREE.PlaneGeometry(1000, 1500, 10, 10);\n        var floor = new THREE.Mesh(floorGeometry, floorMaterial);\n        floor.position.y = -3;\n        floor.rotation.x = Math.PI / 2;\n        floor.position.z = - 200\n        scene.add(floor);\n    }\n\n\n    const addPalms = () => {\n        var modelPath = window.LMD + \"/hardDrives/palm/\";\n        var model = \"QueenPalmTree\";\n        var onProgress = function (xhr) {\n            if (xhr.lengthComputable) {\n                var percentComplete = xhr.loaded / xhr.total * 100;\n                // console.log(Math.round(percentComplete, 2) + '% downloaded');\n            }\n        }\n        var onError = function () { };\n        var manager = new THREE.LoadingManager();\n        manager.addHandler(/\\.dds$/i, new DDSLoader());\n        new MTLLoader(manager)\n            .setPath(modelPath)\n            .load(model + '.mtl', function (materials) {\n\n                materials.preload();\n\n                new OBJLoader(manager)\n                    .setMaterials(materials)\n                    .setPath(modelPath)\n                    .load(model + '.obj', function (tree) {\n                        let positions = [{ x: -5, y: 0, z: -2 }, { x: 5, y: 0, z: -2 }, { x: 4, y: 0, z: -10 }, { x: -4, y: 0, z: -10 }]\n\n                        tree.rotation.y = 0;\n                        tree.scale.set(scaler, scaler, scaler);\n                        tree.position.x = positions[0].x * scaler;\n                        tree.position.y = positions[0].y * scaler;\n                        tree.position.z = positions[0].z * scaler;\n                        trees.push(tree);\n                        scene.add(tree);\n\n                        for (let i = 1; i < positions.length; i++) {\n                            let copy = tree.clone();\n                            copy.rotation.y = Math.PI * 1.5;\n                            copy.position.x = positions[i].x * scaler;\n                            copy.position.z = positions[i].z * scaler;\n                            trees.push(copy);\n                            scene.add(copy);\n                        }\n\n                    }, onProgress, onError);\n\n            });\n\n        //\n    }\n\n    const addBottles = () => {\n\n        var modelPath = window.LMD + \"/hardDrives/Corona/\"\n        var model = \"Corona2\";\n        var onProgress = function (xhr) {\n            if (xhr.lengthComputable) {\n                var percentComplete = xhr.loaded / xhr.total * 100;\n                // console.log(\"bt\", Math.round(percentComplete, 2) + '% downloaded');\n            }\n        }\n        var onError = function (error) {\n            // console.log(\"issue with bottle\", error)\n        };\n        var manager = new THREE.LoadingManager();\n        manager.addHandler(/\\.dds$/i, new DDSLoader());\n        new MTLLoader(manager)\n            .setPath(modelPath)\n            .load(model + '.mtl', function (materials) {\n\n                materials.preload();\n\n                new OBJLoader(manager)\n                    .setMaterials(materials)\n                    .setPath(modelPath)\n                    .load(model + '.obj', function (bottle) {\n                        let bottleVectors = [\n                            {},\n                            { \"id\": 0, \"pos\": { \"x\": 88, \"y\": 0, \"z\": 128 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 1, \"pos\": { \"x\": 38, \"y\": 0, \"z\": 78 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 2, \"pos\": { \"x\": 68, \"y\": 0, \"z\": 108 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 3, \"pos\": { \"x\": 0, \"y\": 0, \"z\": 108 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 4, \"pos\": { \"x\": -88, \"y\": 0, \"z\": 98 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 5, \"pos\": { \"x\": -78, \"y\": 0, \"z\": 68 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 6, \"pos\": { \"x\": 3, \"y\": 0, \"z\": 148 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 7, \"pos\": { \"x\": 4, \"y\": 0, \"z\": 28 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 8, \"pos\": { \"x\": -40, \"y\": 0, \"z\": -98 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } }, // back\n                            { \"id\": 8, \"pos\": { \"x\": -70, \"y\": 0, \"z\": 98 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n\n                            // back (repeat)\n                            { \"id\": 0, \"pos\": { \"x\": 88, \"y\": 0, \"z\": -128 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 1, \"pos\": { \"x\": 38, \"y\": 0, \"z\": -78 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 2, \"pos\": { \"x\": 68, \"y\": 0, \"z\": -108 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 3, \"pos\": { \"x\": 0, \"y\": 0, \"z\": -108 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 4, \"pos\": { \"x\": -88, \"y\": 0, \"z\": -98 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 5, \"pos\": { \"x\": -78, \"y\": 0, \"z\": -68 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 6, \"pos\": { \"x\": 3, \"y\": 0, \"z\": -148 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n\n\n                            // left\n                            { \"id\": 0, \"pos\": { \"x\": 188, \"y\": 0, \"z\": 48 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 1, \"pos\": { \"x\": 138, \"y\": 0, \"z\": 28 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 2, \"pos\": { \"x\": 168, \"y\": 0, \"z\": 0 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 3, \"pos\": { \"x\": 100, \"y\": 0, \"z\": -20 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n\n\n                            // right\n                            { \"id\": 0, \"pos\": { \"x\": -188, \"y\": 0, \"z\": 30 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 1, \"pos\": { \"x\": -138, \"y\": 0, \"z\": 20 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 2, \"pos\": { \"x\": -168, \"y\": 0, \"z\": 0 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 3, \"pos\": { \"x\": -100, \"y\": 0, \"z\": -18 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                        ]\n\n                        // bottle.rotation.y = 0;\n                        // bottle.scale.set(scaler, scaler, scaler);\n                        // bottle.position.x = bottleVectors[0].x * scaler;\n                        // bottle.position.y = positions[0].y * scaler;\n                        // bottle.position.z = positions[0].z * scaler;\n                        // trees.push(tree);\n                        // scene.add(tree);\n\n                        for (let i = 1; i < bottleVectors.length; i++) {\n                            let copy = bottle.clone();\n                            copy.rotation.y = getRandom() * Math.PI * 2;\n                            copy.rotation.x = Math.PI;\n                            copy.rotation.z = (-.3 + getRandom() * .6);\n                            copy.position.y = 2; //Math.abs((Math.sin(((x / 0.05) + time * water.waveSpeed)) * water.waveHeight * water.windDirection.x * 5.0) + (Math.cos(((z / 0.05) +  time * water.waveSpeed)) * water.waveHeight * water.windDirection.y * 5.0));\n\n                            copy.position.x = bottleVectors[i].pos.x;\n                            // copy.position.y = bottleVectors[i].pos.y;\n                            copy.position.z = bottleVectors[i].pos.z;\n\n                            bottles.push(copy);\n                            scene.add(copy);\n\n                        }\n\n                    }, onProgress, onError);\n\n            });\n\n        //\n    }\n\n    const getRandom = () => {\n        var x = Math.sin(seed++) * 10000;\n        return x - Math.floor(x);\n    }\n\n\n    return (\n        <div className=\"HardDrives Sketch\">\n\n            <div className=\"threeCanvas\" ref={ref => (mount = ref)} />\n            <Frame title={title} content={\n                <iframe title=\"island view\" src={island} width={svFrame.w} height={svFrame.h} frameBorder=\"0\" allowFullScreen=\"\" aria-hidden=\"false\" tabIndex=\"0\"></iframe>\n            }\n                width={svFrame.w} height={svFrame.h} x={svFrame.x} y={svFrame.y}\n            />\n            <Birds />\n        </div>\n    )\n\n\n\n}\n","import * as THREE from \"three\";\n\nexport default class Pipe {\n  constructor(nodes, scene) {\n\n    this.pipeRadius = 0.2;\n    this.ballJointRadius = this.pipeRadius * 1.5;\n    this.gridBounds = new THREE.Box3(\n      new THREE.Vector3(-10, -10, -10),\n      new THREE.Vector3(10, 10, 10)\n    );\n\n    this.scene = scene;\n    this.nodes = nodes;\n\n    this.currentPosition = randomIntegerVector3WithinBox(this.gridBounds);\n    this.positions = [this.currentPosition];\n    this.object3d = new THREE.Object3D();\n\n    this.scene.add(this.object3d);\n    this.addTexture();\n    this.setAt(nodes, this.currentPosition, this);\n    this.makeBallJoint(this.currentPosition);\n  }\n\n  makeCylinderBetweenPoints(fromPoint, toPoint, material) {\n    var deltaVector = new THREE.Vector3().subVectors(toPoint, fromPoint);\n    var arrow = new THREE.ArrowHelper(\n      deltaVector.clone().normalize(),\n      fromPoint\n    );\n    var geometry = new THREE.CylinderGeometry(\n      this.pipeRadius,\n      this.pipeRadius,\n      deltaVector.length(),\n      10,\n      4,\n      true\n    );\n    var mesh = new THREE.Mesh(geometry, material);\n\n    mesh.rotation.setFromQuaternion(arrow.quaternion);\n    mesh.position.addVectors(fromPoint, deltaVector.multiplyScalar(0.5));\n    mesh.updateMatrix();\n\n    this.object3d.add(mesh);\n  };\n\n  makeBallJoint(position) {\n    var ball = new THREE.Mesh(\n      new THREE.SphereGeometry(this.ballJointRadius, 8, 8),\n      this.material\n    );\n    ball.position.copy(position);\n    this.object3d.add(ball);\n  };\n\n  makeElbowJoint(fromPosition, toPosition, tangentVector) {\n    var elball = new THREE.Mesh(\n      new THREE.SphereGeometry(this.pipeRadius, 8, 8),\n      this.material\n    );\n    elball.position.copy(fromPosition);\n    this.object3d.add(elball);\n  };\n\n  addTexture() {\n    const texUrl = window.LMD + \"/jungleGyms/caution.jpg\";\n    var pipeTexture = new THREE.TextureLoader().load(  texUrl );//THREE.ImageUtils.loadTexture(texUrl);\n    pipeTexture.wrapS = pipeTexture.wrapT = THREE.RepeatWrapping;\n    pipeTexture.repeat.set(.2, .2);\n    if (pipeTexture) {\n      this.material = new THREE.MeshLambertMaterial({\n        map: pipeTexture,\n      });\n    } else {\n      var color = 0x00441f //randomInteger(0, 0xffffff);\n      var emissive = new THREE.Color(color).multiplyScalar(0.3);\n      this.material = new THREE.MeshPhongMaterial({\n        specular: 0xa9fcff,\n        color: color,\n        emissive: emissive,\n        shininess: 100,\n      });\n    }\n  }\n\n  update() {\n    if (this.positions.length > 1) {\n      var lastPosition = this.positions[this.positions.length - 2];\n      var lastDirectionVector = new THREE.Vector3().subVectors(\n        this.currentPosition,\n        lastPosition\n      );\n    }\n    if (Math.random>.5 && lastDirectionVector) {\n      var directionVector = lastDirectionVector;\n    } else {\n      var directionVector = new THREE.Vector3();\n      directionVector[chooseFrom(\"xyz\")] += chooseFrom([+1, -1]);\n    }\n    var newPosition = new THREE.Vector3().addVectors(\n      this.currentPosition,\n      directionVector\n    );\n\n    // TODO: try other possibilities\n    // ideally, have a pool of the 6 possible directions and try them in random order, removing them from the bag\n    // (and if there's truly nowhere to go, maybe make a ball joint)\n    if (!this.gridBounds.containsPoint(newPosition)) {\n      return;\n    }\n    if (this.getAt(newPosition)) {\n      return;\n    }\n    this.setAt(newPosition, this);\n\n    // joint\n    // (initial ball joint is handled elsewhere)\n    if (lastDirectionVector && !lastDirectionVector.equals(directionVector)) {\n      this.makeBallJoint(this.currentPosition);\n    }\n\n    // pipe\n    this.makeCylinderBetweenPoints(this.currentPosition, newPosition, this.material);\n\n    // update\n    this.currentPosition = newPosition;\n    this.positions.push(newPosition);\n  };\n\n  setAt(position, value) {\n    this.nodes[\"(\" + position.x + \", \" + position.y + \", \" + position.z + \")\"] = value;\n  }\n\n  getAt(position, value) {\n    return this.nodes[\"(\" + position.x + \", \" + position.y + \", \" + position.z + \")\"];\n  }\n\n};\n\n//////////////\n// HELPERS\nfunction chooseFrom(values) {\n  return values[Math.floor(Math.random() * values.length)];\n}\nfunction random(x1, x2) {\n  return Math.random() * (x2 - x1) + x1;\n}\nfunction randomInteger(x1, x2) {\n  return Math.round(random(x1, x2));\n}\nfunction randomIntegerVector3WithinBox(box) {\n  return new THREE.Vector3(\n    randomInteger(box.min.x, box.max.x),\n    randomInteger(box.min.y, box.max.y),\n    randomInteger(box.min.z, box.max.z)\n  );\n}\n","import React, { useState, useEffect } from 'react';\n// import ReactDOM from \"react-dom\";\n\nimport \"./JungleGyms.scss\";\n\nimport * as THREE from \"three\";\n// import { AnaglyphEffect } from 'three/examples/jsm/effects/AnaglyphEffect.js';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js';\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader.js';\nimport { DDSLoader } from 'three/examples/jsm/loaders/DDSLoader.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nimport Frame from '../../shared/Frame/Frame';\n\n// store\n// import { connect } from 'react-redux';\n// import { setSketchMusic } from '../../../store/actions/music';\n\nimport Pipe from './Pipe';\n\nvar AnaglyphEffect = require('../../shared/3D/AnaglyphEffect')(THREE, true);\n\n\n\nfunction JungleGyms({audioOn, hasLoadedRoom}) {\n\n\n  const [firstLoad, setLoad] = useState(true);\n\n  let scene, renderer, camera, effect, controls, requestID;\n  let mount;\n  let pipes = [];\n  let vines = [];\n  let nodes = [];\n  let videoSwings = React.createRef();\n  let videoGym = React.createRef();\n\n\n  useEffect(\n    () => {\n      // mount\n      const interval = setInterval(reset, 20000);\n      window.addEventListener('resize', handleWindowResize);\n\n      setupScene();\n      startAnimationLoop();\n\n      return () => {\n        // unmount\n        window.removeEventListener('resize', handleWindowResize);\n        window.cancelAnimationFrame(requestID);\n        controls.dispose();\n        clearInterval(interval);\n      }\n    },\n    // empty array if you want this to run once\n    // otherwise, fill with variables that will update\n    []\n  );\n\n\n  const handleWindowResize = () => {\n    const width = window.innerWidth; \n    const height = window.innerHeight;\n    renderer.setSize(width, height);\n    camera.aspect = width / height;\n    camera.updateProjectionMatrix();\n  };\n\n  const setupScene = () => {\n    scene = new THREE.Scene();\n    camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 100000);\n    renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true, });\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    // document.body.appendChild( renderer.domElement );\n    // use ref as a mount point of the Three.js scene instead of the document.body\n    mount.appendChild(renderer.domElement);\n\n\n    effect = new AnaglyphEffect(renderer);\n    effect.setSize(window.innerWidth, window.innerHeight);\n\n    controls = new OrbitControls(camera, renderer.domElement);\n    controls.enableZoom = false;\n    // controls.minDistance = 1;\n    // controls.maxDistance = 80;\n\n    var ambientLight = new THREE.AmbientLight(0xaaaaaa);\n    scene.add(ambientLight);\n    addLight(-10, 2, 4);\n    addLight(1, -10, -2);\n\n    addScreenCube(videoGym.current, 1920, 1080, .01, [0, 0, -8], [0, 0, 0], 47);\n    addScreenCube(videoSwings.current, 1080, 1920, .01, [6, 0, -20], [0, -Math.PI / 2, 0], 20);\n\n    pipes = [];\n    vines = [];\n    nodes = {};\n\n    addWallPaper();\n    addVines();\n    look();\n  }\n\n  const startAnimationLoop = () => {\n    // renderer.render( scene, camera );\n    for (let i = 0; i < pipes.length; i++) {\n      pipes[i].update();\n    }\n    if (pipes.length === 0) {\n      for (let i = 0; i < 1 + (1 + chance(1 / 10)); i++) {\n        pipes.push(new Pipe(nodes, scene));\n      }\n    }\n    for (let i = 0; i < 3; i++) {\n      if (vines[i]) vines[i].position.y = -10 - i * 5 + Math.sin(new Date().getTime() / 1000);\n    }\n\n    // if (controls) controls.update();\n    controls.update();\n    effect.render(scene, camera);\n    requestID = window.requestAnimationFrame(startAnimationLoop);\n\n  };\n\n\n  const reset = () => {\n    // const {pipes} = this.state;\n    renderer.clear();\n    for (var i = 0; i < pipes.length; i++) {\n      scene.remove(pipes[i].object3d);\n    }\n    pipes = [];\n    nodes = {};\n    look();\n  }\n\n  const addLight = (...pos) => {\n    const color = 0xFFFFFF;\n    const intensity = 1;\n    const light = new THREE.DirectionalLight(color, intensity);\n    light.position.set(...pos);\n    scene.add(light);\n  }\n\n  const addScreenCube = (video, pW, pH, fac, pos, rot, boxLen) => {\n    var videoTex = new THREE.VideoTexture(video);\n    pW *= fac;\n    pH *= fac;\n\n    videoTex.minFilter = THREE.LinearFilter;\n    videoTex.magFilter = THREE.LinearFilter;\n    videoTex.format = THREE.RGBFormat;\n    var geometry = new THREE.PlaneGeometry(pW, pH, 1);\n    var material = new THREE.MeshBasicMaterial({ color: 0xffff00, side: THREE.DoubleSide, map: videoTex });\n    var plane = new THREE.Mesh(geometry, material);\n    plane.position.set(...pos);\n    plane.rotation.set(...rot);\n    scene.add(plane);\n\n\n    var geometry = new THREE.BoxGeometry(pW, pH, boxLen);\n    var material = new THREE.MeshPhongMaterial({ color: 0x00aa00, opacity: .3, transparent: true, side: THREE.DoubleSide }); //\n    var cube = new THREE.Mesh(geometry, material);\n    cube.position.set(...pos);\n    cube.rotation.set(...rot);\n    scene.add(cube);\n\n    var geometry = new THREE.BoxBufferGeometry(pW, pH, boxLen);\n    var edges = new THREE.EdgesGeometry(geometry);\n    var line = new THREE.LineSegments(edges, new THREE.LineBasicMaterial({ color: 0x00ff00, linewidth: 24 }));\n    line.position.set(...pos);\n    line.rotation.set(...rot);\n    scene.add(line);\n  }\n\n  const addWallPaper = () => {\n    const url = window.LMD + \"/jungleGyms/wallpaper3.jpg\";\n    var wall = new THREE.TextureLoader().load(url);\n    wall.wrapS = THREE.RepeatWrapping;\n    wall.wrapT = THREE.RepeatWrapping;\n    wall.repeat.set(4, 4);\n    var geometry = new THREE.PlaneGeometry(200, 100, 1);\n    var material = new THREE.MeshBasicMaterial({ color: 0xffff00, side: THREE.DoubleSide, map: wall });\n    var plane = new THREE.Mesh(geometry, material);\n    plane.position.set(0, 0, -14);\n    // scene.add( plane );\n    scene.background = wall;\n  }\n\n  const addVines = () => {\n    // var self = this;\n    var modelPath = window.LMD + \"/jungleGyms/vines/\";\n    var model = \"Vines\";\n    var onProgress = function (xhr) {\n      if (xhr.lengthComputable) {\n        var percentComplete = xhr.loaded / xhr.total * 100;\n        // console.log(Math.round(percentComplete, 2) + '% downloaded');\n      }\n    }\n    var onError = function () { };\n    var manager = new THREE.LoadingManager();\n    manager.addHandler(/\\.dds$/i, new DDSLoader());\n    new MTLLoader(manager)\n      .setPath(modelPath)\n      .load(model + '.mtl', function (materials) {\n\n        materials.preload();\n\n        new OBJLoader(manager)\n          .setMaterials(materials)\n          .setPath(modelPath)\n          .load(model + '.obj', function (vine) {\n            vine.rotation.set(0, Math.PI, 0);\n            vine.position.set(-10, -10, -10);\n            vine.scale.set(5, 5, 5);\n            vines.push(vine);\n\n            var newVine = vine.clone();\n            newVine.position.set(0, -15, 0);\n            vine.rotation.set(0, 0, 0);\n            vines.push(newVine);\n\n            var newVine2 = vine.clone();\n            newVine2.rotation.set(0, -Math.PI / 2, 0);\n            vines.push(newVine2);\n            scene.add(vine);\n            scene.add(newVine);\n            scene.add(newVine2);\n\n          }, onProgress, onError);\n\n      });\n\n    //\n  }\n\n  const look = () => {\n    // TODO: never don't change the view (except maybe while clearing)\n    if (firstLoad || chance(1 / 2)) {\n      // head-on view\n\n      camera.position.set(0, 0, 14);\n      setLoad(false);\n    } else {\n      // random view\n\n      var vector = new THREE.Vector3(30, 0, 0);\n\n      var axis = new THREE.Vector3(random(-1, 1), random(-1, 1), random(-1, 1));\n      var angle = Math.PI / 2;\n      var matrix = new THREE.Matrix4().makeRotationAxis(axis, angle);\n\n      vector.applyMatrix4(matrix);\n      camera.position.copy(vector);\n    }\n    // camera.position.set(0, 0, 14);\n    var center = new THREE.Vector3(0, 0, 0);\n    camera.lookAt(center);\n    // camera.updateProjectionMatrix(); // maybe?\n    controls.update();\n  }\n\n\n  const random = (x1, x2) => {\n    return Math.random() * (x2 - x1) + x1;\n  }\n\n  const chance = (value) => {\n    return Math.random() < value;\n  }\n\n\n  const gymUrl = window.LMD + \"/jungleGyms/gym.mp4\"\n  return (\n    <div className=\"JungleGyms Sketch\">\n      <div className=\"threeCanvas\" ref={ref => (mount = ref)} />\n      <video\n        playsInline\n        crossOrigin=\"anonymous\"\n        ref={videoGym}\n        autoPlay\n        muted={!audioOn || !hasLoadedRoom}\n        loop\n        className=\"gym\" >\n        <source src={gymUrl} type=\"video/mp4\" ></source>\n          Your browser does not support HTML5 video.\n        </video>\n      <video\n        playsInline\n        crossOrigin=\"anonymous\"\n        ref={videoSwings}\n        autoPlay\n        muted\n        loop\n        className=\"gym\" >\n        <source src={window.LMD + \"/jungleGyms/swings.mp4\"} type=\"video/mp4\" ></source>\n          Your browser does not support HTML5 video.\n        </video>\n\n    </div>\n  )\n}\n\n\n\n\n// const mapStateToProps = (state) => {\n//   return {\n//     ui: state.ui\n//   }\n// }\n\n// const mapDispatchToProps = () => {\n//   return {\n//     // doneLoadingApp\n//     setSketchMusic\n//   }\n// }\n\n\n// export default connect(mapStateToProps, mapDispatchToProps())(JungleGyms);\nexport default JungleGyms;\n","import React from \"react\";\nimport Sketch from \"react-p5\";\nimport Boid from './components/Boid/Boid';\nimport Hurricane from \"./components/Hurricane\";\n\n// let hurricaneImg;\nlet hurricane;\nlet boids = [];\nlet dogica;\n\nlet beach;\nlet beachGraphics;\n\nlet boidImgs = [];\nlet waterGif;\n\nexport default (props) => {\n\n\n    const preload = (p5) => {\n        const url = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches\";\n        const netURL = \"https://netscapes.s3.us-east-2.amazonaws.com/hurricane\";\n        dogica = p5.loadFont(url + '/shared/fonts/dogica.ttf');\n\n        boidImgs[0] = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/waveforms/txt.png\")\n        boidImgs[1] = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/loop/folder.png\");\n        beach = p5.loadImage(netURL + \"/beach.jpeg\");\n\n        waterGif = p5.loadGif(netURL + \"/water5.gif\"); //not sure why this one has a cors issue\n\n    }\n\n    ////////////////////////////////////////////////////////////////////////\n    // INITIALIZE\n    ////////////////////////////////////////////////////////////////////////\n    const setup = (p5, canvasParentRef) => {\n        // use parent to render the canvas in this ref\n        // (without that p5 will render the canvas outside of your component)\n\n        const cnv = p5.createCanvas(p5.windowWidth, p5.windowHeight);\n        cnv.parent(canvasParentRef);\n        cnv.mousePressed(() => canvasPressed(p5));\n\n        hurricane = new Hurricane(p5);\n\n        setBeachGraphics(p5);\n\n        for (let i = 0; i < 20; i++) {\n            boids[i] = new Boid(i, hurricane.getPos(), boidImgs, p5);\n        }\n\n\n\n        p5.textFont(dogica);\n\n    };\n\n    ////////////////////////////////////////////////////////////////////////\n    // DRAW\n    ////////////////////////////////////////////////////////////////////////\n    const draw = (p5) => {\n        p5.noErase();\n        p5.colorMode(p5.HSB, 255);\n        // p5.clear();\n        // let bkDim = getCenterCoverDim(p5, bkImg.width, bkImg.height);\n        // p5.image(bkImg, bkDim.x, bkDim.y, bkDim.w, bkDim.h);\n        p5.background(250, 255, 100, 8);\n        p5.image(beachGraphics, 0, 0);\n\n\n\n        // displayFlowField(p5);\n\n        // const {w, h, x, y} = getCoverBackground(beach, 1, p5);\n        // p5.image(beach, x, y, w, h);\n\n\n        for (let i = boids.length - 1; i >= 0; i--) {\n            let boid = boids[i];\n            if (hurricane.isVisible())\n                boid.update(hurricane.getPos(), p5);\n            boid.display(p5);\n        }\n\n        hurricane.display(p5);\n        hurricane.update(p5);\n\n        p5.erase(10, 10);\n        p5.rect(0, 0, p5.windowWidth, p5.windowHeight);\n\n        checkDimensions(p5);\n    }\n\n    const checkDimensions = (p5) => {\n        if (p5.windowWidth !== window.innerWidth || p5.windowHeight !== window.innerHeight) {\n            p5.windowWidth = window.innerWidth;\n            p5.windowHeight = window.innerHeight;\n            windowResized(p5);\n        }\n    }\n\n\n\n    const mouseDragged = (p5) => {\n    }\n\n    const keyPressed = (p5) => {\n\n    }\n\n    const canvasPressed = (p5) => {\n        hurricane.checkMouse();\n\n        for (const boid of boids) {\n            boid.checkMouse();\n        }\n    }\n\n\n    const mouseReleased = (p5) => {\n        hurricane.endDrag();\n        for (const boid of boids) {\n            boid.endDrag();\n        }\n    }\n\n    const windowResized = (p5) => {\n        p5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n        setBeachGraphics(p5);\n\n    }\n\n    const doubleClicked = (p5) => {\n        for (const b of boids) {\n            b.checkDoubleClicked(p5);\n        }\n    }\n\n    const displayFlowField = (p5) => {\n        let space = 30;\n        for (let x = 0; x < p5.windowWidth; x += space) {\n            for (let y = 0; y < p5.windowHeight; y += space) {\n                const hur = { ...hurricane.getPos() };\n                hur.x += hurricane.w / 2;\n                hur.y += hurricane.w / 2;\n                const d = p5.dist(x, y, hur.x, hur.y);\n                const len = p5.constrain(p5.map(d, 0, p5.windowWidth / 2, 30, 0), 0, 30);\n                let dy = y - hur.y;\n                let dx = x - hur.x;\n                let ang = p5.atan2(dy, dx) + Math.PI / 2;\n                let newX = x - len * p5.cos(ang);\n                let newY = y - len * p5.sin(ang);\n                p5.stroke(0);\n                // p5.strokeWeight(3);\n                // p5.line(x, y, newX, newY);\n                p5.push();\n                p5.translate(x, y);\n                p5.rotate(ang);\n                p5.textSize(len * 3);\n                // p5.text(\"0\", 0, 0);\n                p5.pop();\n            }\n        }\n    }\n\n    const setBeachGraphics = (p5) => {\n        const { w, h, x, y } = getCoverBackground(beach, 1, p5);\n        beachGraphics = p5.createGraphics(p5.windowWidth, p5.windowHeight);\n        beachGraphics.clear();\n        beachGraphics.tint(255, 7);\n        beachGraphics.image(beach, x, y, w, h);\n\n        // const { w, h, x, y } = getCoverBackground(waterGif, 1, p5);\n        // beachGraphics = p5.createGraphics(p5.windowWidth, p5.windowHeight);\n        // beachGraphics.clear();\n        // beachGraphics.image(waterGif, x, y);\n    }\n\n    const getCoverBackground = (img, zoom, p5) => {\n        const imgRatio = (img.height / img.width);\n        const height = p5.windowHeight;\n        const width = p5.windowWidth;\n        const containerRatio = (height / width)\n\n        // set h to canvas height, find w \n        if (containerRatio > imgRatio) {\n            var h = height * zoom;\n            var y = (height - h) / 2;\n            var factor = h / img.height;\n            var w = factor * img.width;\n            var x = (width - w) / 2;\n        }\n        // set width \n        else {\n            var w = width * zoom;\n            var x = (width - w) / 2;\n            var factor = w / img.width;\n            var h = img.height * factor;\n            var y = (height - h) / 2;\n        }\n\n        return { w, h, x, y, factor };\n\n    }\n\n\n    return <Sketch preload={preload} setup={setup} draw={draw} windowResized={windowResized} keyPressed={keyPressed} mouseReleased={mouseReleased} mouseDragged={mouseDragged} doubleClicked={doubleClicked} />;\n};\n","import React from \"react\";\nimport Sketch from \"react-p5\";\n\nlet dogica;\nlet desert, desert2, moon;\n\n// Developed using Emoji City 18XX\n// by Naoki Tsutae\n\nlet joshua, fire;\n\nlet Counter = 0;\nlet UnitPixels = 48;\nlet MX = .1, MY = .2;\n\nlet pg;\n\nlet ui;\n\nlet dune, lighter;\n\nexport default (props) => {\n    ui = props.ui;\n\n    const preload = (p5) => {\n        const url = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches\";\n        const netURL = \"https://netscapes.s3.us-east-2.amazonaws.com/mojave\";\n        dogica = p5.loadFont(url + '/shared/fonts/dogica.ttf');\n\n        desert = p5.loadImage(netURL + \"/mars.jpeg\");\n        desert2 = p5.loadImage(netURL + \"/sand.jpeg\");\n\n        fire = p5.loadImage(netURL + \"/fire.png\");\n        joshua = p5.loadImage(netURL + \"/joshua.png\");\n        moon = p5.loadImage(netURL + \"/moon5.jpeg\");\n\n        dune = p5.loadImage(netURL + \"/dune.png\");\n    }\n\n    ////////////////////////////////////////////////////////////////////////\n    // INITIALIZE\n    ////////////////////////////////////////////////////////////////////////\n    const setup = (p5, canvasParentRef) => {\n        // use parent to render the canvas in this ref\n        // (without that p5 will render the canvas outside of your component)\n\n        const cnv = p5.createCanvas(p5.windowWidth, p5.windowHeight);\n        cnv.parent(canvasParentRef);\n        cnv.mousePressed(() => canvasPressed(p5));\n\n        p5.textFont(dogica);\n\n\n\n        // fire = p5.loadImage(\"fire.png\");\n        p5.rectMode(p5.CENTER);\n        p5.imageMode(p5.CENTER);\n\n        p5.noiseSeed(1);\n\n        pg = p5.createGraphics(p5.windowWidth, p5.windowHeight);\n        \n        p5.noCursor();\n\n        initializePG(p5);\n    };\n\n    ////////////////////////////////////////////////////////////////////////\n    // DRAW\n    ////////////////////////////////////////////////////////////////////////\n    const draw = (p5) => {\n\n        p5.imageMode(p5.CORNER);\n        p5.image(pg, 0, 0, p5.width, p5.height);\n\n\n        drawMarsStrip(p5);\n        drawDunes(p5);\n\n        p5.imageMode(p5.CENTER);\n\n        let startAmt = .4;\n        let dA = .03;\n        update(p5.color(0), 0, startAmt -= dA, p5);\n        update(p5.color(0x01F332), 1, startAmt -= dA, p5); // tree\n        update(p5.color(0x01F3E0), 2, startAmt -= dA, p5); // house\n        update(p5.color(0x01F3ED), 2, startAmt, p5); // factory\n        update(p5.color(0x01F3F0), 3, startAmt, p5); // castle\n\n        let jw = p5.height * .6;\n\n        if (ui.isMobile) {\n            MX += 0.01;\n            MY += 0.01;\n        }\n        else {\n            MX = p5.mouseX * 0.001;\n            MY = p5.mouseY * 0.001;\n            Counter += .001;\n            Counter %= 1.4;\n        }\n\n        // p5.erase(255);\n        // for (let i = 0; i < 10; i++) {\n        //     p5.fill(255);\n        //     p5.rect(0, p5.random(pg.height), p5.width, p5.random(1, 20));\n        // }\n        // for (let i = 0; i < 10; i++) {\n        //     p5.fill(255);\n        //     p5.rect(p5.random(p5.width), 0, p5.random(1, 20), p5.height);\n        // }\n\n        // p5.noErase();\n\n   \n        // p5.image(lighter, p5.mouseX, p5.mouseY);\n\n        checkDimensions(p5);\n    }\n\n    const drawDunes = (p5) => {\n        let w = dune.width;\n        for (let x = 0; x < p5.width; x += w) {\n            p5.image(dune, x, p5.height - dune.height);\n        }\n    }\n\n    const drawMarsStrip = (p5) => {\n        let factor = .3;\n        let index = 0;\n        let w = desert2.width * factor;\n        let y = (p5.height - 26 - 30) / 2;\n        for (let x = 0; x < p5.width; x += w) {\n            if (index % 2 === 0) {\n                p5.push();\n                p5.scale(-1, 1);\n                p5.image(desert, x - w, y, w, desert2.height * factor);\n                p5.pop();\n            }\n            else\n                p5.image(desert, x, y, w, desert2.height * factor);\n            index++;\n        }\n\n    }\n\n    const update = (codeNumber, unitSize, t, p5) => {\n        let k = Math.pow(2, unitSize) * UnitPixels;\n        p5.randomSeed(1);\n        for (let y = 0; y < p5.height; y += k) {\n            for (let x = 0; x < p5.width; x += k) {\n                let noiseX = x * 1.0 / p5.width - MX;\n                let noiseY = y * 1.0 / p5.height - MY;\n                let noiseZ = p5.mag(x, y) * 1.0 / p5.width - Counter;\n\n                if (p5.noise(noiseX, noiseY, noiseZ) < t) {\n\n                    let r = p5.random();\n                    if (unitSize < 2) {\n                        if (r < .3)\n                            p5.image(fire, x + k / 2, y + k / 2, k * 0.82, k * 0.82);\n                        else\n                            drawJoshua(x + k / 2, y + k / 2, k * 0.82, k * 0.82, p5);\n                    }\n                    else\n                        drawJoshua(x + k / 2, y + k / 2, k * 0.82, k * 0.82, p5);\n                }\n            }\n        }\n    }\n\n    const drawJoshua = (x, y, w, h, p5) => {\n        p5.image(desert2, x, y, w, h);\n        p5.image(joshua, x, y, w, h);\n\n        p5.stroke(68, 48, 61);\n        p5.strokeWeight(p5.map(w, 30, 300, 1, 4));\n        p5.fill(255, 50);\n        p5.noFill();\n        p5.rect(x, y, w, h);\n    }\n\n    const initializePG = (p5) => {\n        let pgtemp = p5.createGraphics(pg.width, pg.height);\n        pgtemp.clear();\n\n\n        pgtemp.imageMode(p5.CORNER);\n\n        let factor = 1;\n\n        pgtemp.push();\n\n\n        for (let y = 0; y < pg.height; y += moon.height) {\n            for (let x = 0; x < pg.width; x += moon.width) {\n                pgtemp.image(moon, x, y, moon.width, moon.height);\n            }\n        }\n\n        for (let y = 0; y <= pg.height; y += desert2.height * 1.05) {\n            for (let x = 0; x < pg.width; x += desert2.width * 1.04) {\n                pgtemp.image(desert2, x, y, desert2.width, desert2.height);\n            }\n        }\n\n\n        pgtemp.erase();\n        for (let i = 0; i < 10; i++) {\n            pgtemp.fill(255);\n            pgtemp.rect(0, p5.random(pg.height), pgtemp.width, p5.random(1, 20));\n        }\n        for (let i = 0; i < 10; i++) {\n            pgtemp.fill(255);\n            pgtemp.rect(p5.random(pg.width), 0, p5.random(1, 20), p5.height);\n        }\n\n\n        pgtemp.pop();\n\n        pg.tint(255, 20);\n        pg.image(pgtemp, 0, 0);\n    }\n\n    const checkDimensions = (p5) => {\n        if (p5.windowWidth !== window.innerWidth || p5.windowHeight !== window.innerHeight) {\n            p5.windowWidth = window.innerWidth;\n            p5.windowHeight = window.innerHeight;\n            windowResized(p5);\n        }\n    }\n\n\n\n    const mouseDragged = (p5) => {\n    }\n\n    const keyPressed = (p5) => {\n\n    }\n\n    const canvasPressed = (p5) => {\n\n    }\n\n\n    const mouseReleased = (p5) => {\n    }\n\n    const windowResized = (p5) => {\n        p5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n        pg = p5.createGraphics(p5.windowWidth, p5.windowHeight);\n        initializePG(p5);\n    }\n\n\n    const doubleClicked = (p5) => {\n\n    }\n\n\n    const getCoverBackground = (img, zoom, p5) => {\n        const imgRatio = (img.height / img.width);\n        const height = p5.windowHeight;\n        const width = p5.windowWidth;\n        const containerRatio = (height / width)\n\n        // set h to canvas height, find w \n        if (containerRatio > imgRatio) {\n            var h = height * zoom;\n            var y = (height - h) / 2;\n            var factor = h / img.height;\n            var w = factor * img.width;\n            var x = (width - w) / 2;\n        }\n        // set width \n        else {\n            var w = width * zoom;\n            var x = (width - w) / 2;\n            var factor = w / img.width;\n            var h = img.height * factor;\n            var y = (height - h) / 2;\n        }\n\n        return { w, h, x, y, factor };\n\n    }\n\n\n    return <Sketch preload={preload} setup={setup} draw={draw} windowResized={windowResized} keyPressed={keyPressed} mouseReleased={mouseReleased} mouseDragged={mouseDragged} doubleClicked={doubleClicked} />;\n};\n","export default class Button {\n\n    constructor(x, y, p5) {\n        this.r = 10;\n        this.x = x;\n        this.y = y;\n        this.p5 = p5;\n    }\n\n    display(dx, dy) {\n        this.p5.stroke(255);\n        this.p5.strokeWeight(2);\n        this.p5.noFill();\n\n        if (this.mouseOver(dx, dy)) {\n            this.p5.fill(255);\n        }\n        this.p5.ellipse(this.x, this.y, this.r);\n    }\n\n    mouseOver(dx, dy) {\n        \n        let d = this.p5.dist(dx+this.x, dy+this.y, this.p5.mouseX, this.p5.mouseY);\n     \n        return d < this.r/2;\n    }\n\n\n}\n\n","import Draggable from './Draggable';\n\nexport default class ShadowDraggable extends Draggable {\n\n    constructor(id, x, y, w, h, p5, content) {\n       \n        super(id, x, y, w, h, p5, content);\n        const url = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/\";\n        this.shadow = p5.loadImage(url + \"tracklights/black_shadow.png\");\n    }\n\n\n\n    displayContent(rot=0) {\n        this.displayShadow();\n        super.displayContent(rot);\n    }\n\n    displayShadow() {\n\n        var backW = this.w * 1.25;\n        var backH = this.h * 1.2;\n\n        var backY = 0;\n\n        this.p5.push();\n        this.p5.translate(0, this.barH);\n        this.p5.image(this.shadow, 0, backY, backW, backH);\n        this.p5.pop();\n    }\n\n   \n}\n","import Button from './Button';\n// import { globalConfig, mouseToWorld } from \"../../../constants\";\n\nexport default class Draggable {\n  constructor(id, x, y, w, h, p5, content) {\n    this.p5 = p5;\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.id = id;\n    this.origX = this.x;\n    this.origY = this.y;\n    this.offsetX = 0;\n    this.offsetY = 0;\n    this.toolbarH = 25;\n    // this.opacity = p5.map(this.id, 0, 20, 0, 1);\n    this.startDrag = { x: 0, y: 0 };\n    this.startDragCoords = { x: 0, y: 0 };\n\n    this.dragging = false;\n    this.locked = false;\n\n    this.closed = false;\n    this.minimized = false;\n\n    this.barH = 26;\n    this.bRad = 10;\n\n    let xp = 15;\n    let yp = 12;\n    let sp = 20;\n    this.closeButton = new Button(xp, yp, p5);\n    this.minButton = new Button(xp + sp, yp, p5);\n    this.maxButton = new Button(xp + sp * 2, yp, p5);\n\n    this.content = content;\n    // this.mask;\n    // this.initMask();\n  }\n\n  initMask() {\n    this.mask = this.p5.createGraphics(this.w, this.h + this.barH);\n    this.mask.background(0);\n    this.mask.fill(255);\n    this.mask.noStroke();\n    // this.mask.rect(0, 0, this.w, this.h, this.bRad, this.bRad);\n    this.mask.ellipse(this.w / 2, this.h / 2, 50, 50);\n    if (this.content && this.content.width > 0) {\n\n      this.content.mask(this.mask);\n    }\n  }\n\n  display(rot=0) {\n    this.p5.push();\n    this.p5.translate(this.x, this.y);\n    if (!this.closed) {\n      if (!this.minimized)\n        this.displayContent(rot);\n    }\n    this.p5.pop();\n  }\n\n  displayToolBar() {\n    this.p5.push();\n    this.p5.translate(this.x, this.y);\n    if (!this.closed) {\n      this.p5.fill(0);\n      this.p5.noStroke();\n      if (!this.minimized) this.p5.rect(0, 10, this.w, (this.barH - 10));\n      this.p5.rect(0, 0, this.w, this.barH, this.bRad);\n\n      // let gx = globalConfig.x * globalConfig.scaler;\n      // let gy = globalConfig.y * globalConfig.scaler;\n      // let mx = this.p5.mouseX + userX - gx - this.p5.windowWidth / 2 - this.x;\n      // let my = this.p5.mouseY + userY - gy - this.p5.windowHeight / 2 - this.y;\n      // let mx = this.p5.mouseX;\n      // let my = this.p5.mouseY;\n      this.closeButton.display(this.x, this.y);\n      this.minButton.display(this.x, this.y);\n      this.maxButton.display(this.x, this.y);\n    }\n    this.p5.pop();\n  }\n\n  displayContent() {\n    // this.p5.fill(255);\n    this.p5.push();\n\n    this.p5.translate(0, this.barH);\n    this.p5.image(this.content, 0, 0, this.w, this.h);\n    this.p5.pop();\n    this.displayFrame();\n\n  }\n\n  displaySolidBack(col) {\n    this.p5.fill(col);\n    this.p5.stroke(0);\n    this.p5.strokeWeight(2);\n    this.p5.rect(0, 0, this.w, this.h + this.barH, this.bRad);\n  }\n\n  displayFrame() {\n    this.p5.noFill();\n    this.p5.stroke(0);\n    this.p5.strokeWeight(2);\n    this.p5.rect(0, 0, this.w, this.h + this.barH, this.bRad);\n  }\n\n  checkButtons() {\n    if (this.closed)\n      return false;\n    // let mouse = mouseToWorld({x: userX, y: userY}, this.p5);\n    let mouse = { x: this.p5.mouseX, y: this.p5.mouseY };\n    // mouse.x -= this.x;\n    // mouse.y -= this.y;\n    if (this.closeButton.mouseOver(this.x, this.y)) {\n      this.closeWindow();\n      return true;\n    }\n    else if (this.minButton.mouseOver(this.x, this.y)) {\n      this.toggleMinimze();\n      return true;\n    }\n    else if (this.maxButton.mouseOver(this.x, this.y)) {\n      this.maximizeWindow();\n      return true;\n    }\n    return false;\n  }\n\n  checkMouse() {\n    if (this.checkButtons()) {\n      return true;\n    }\n    else if (this.checkDragging()) {\n      return true;\n    }\n    return false;\n  }\n\n  checkDragging() {\n    if (this.closed)\n      return false;\n    // let mouse = mouseToWorld({x: userX, y: userY}, this.p5);\n    // let mouse = {x: this.p5.mouseX, y: this.p5.mouseY};\n    // console.log(mx, my, userX, userY, this.x, this.y);\n    if (this.overToolBar()) {\n      // console.log(\"over toolbar\");\n      // this.draggingOn(mx, my);\n      this.dragging = true;\n      this.startDrag.x = this.p5.mouseX;\n      this.startDrag.y = this.p5.mouseY;\n      this.startDragCoords.x = this.x;\n      this.startDragCoords.y = this.y;\n      return true;\n    }\n    return false;\n  }\n\n  overToolBar() {\n    const mx = this.p5.mouseX;\n    const my = this.p5.mouseY;\n    // console.log(mx, my, this.x, this.y);\n    return mx > this.x && mx < this.x + this.w && my > this.y && my < this.y + this.barH;\n  }\n\n  // draggingOn(mx, my) {\n  //   // dragging.dragging = true;\n  //   this.offsetX = this.p5.mouseX - this.startDrag.x;\n  //   this.offsetY = this.p5.mouseY - this.startDrag.y;\n  // }\n\n  endDrag() {\n    this.dragging = false;\n  }\n\n  update() {\n    if (this.dragging) {\n      this.offsetX = this.p5.mouseX - this.startDrag.x;\n      this.offsetY = this.p5.mouseY - this.startDrag.y;\n\n      this.x = this.startDragCoords.x + this.offsetX;\n      this.y = this.startDragCoords.y + this.offsetY;\n    }\n  }\n\n  toggleCloseWindow(div) {\n    this.locked = !this.locked;\n    this.closeWindow(div);\n  }\n\n  openWindow() {\n    this.closed = false;\n    this.minimized = false;\n    this.locked = false; // ? what does this do\n  }\n\n  closeWindow() {\n    // div.style(\"display\", \"none\");\n    this.closed = true;\n  }\n\n  maximizeWindow() {\n    this.x = this.origX;\n    this.y = this.origY;\n    this.offsetX = 0;\n    this.offsetY = 0;\n  }\n\n  resetWindow(div = this.div) {\n    this.x = this.origX;\n    this.y = this.origY;\n    this.locked = false;\n    this.closeWindow(div);\n    div.position(this.x, this.y);\n    div.style(\"display\", \"block\");\n    this.minimized = false;\n    this.minimizeWindow(this.content);\n    this.setSize(400);\n  }\n\n  toggleMinimze() {\n    this.minimized = !this.minimized;\n  }\n}\n","import ShadowDraggable from '../Draggable/ShadowDraggable';\n\nexport default class BoidDraggable extends ShadowDraggable {\n\n    constructor(id, x, y, w, h, p5, txt) {\n\n        super(id, x, y, w, h, p5);\n        this.txt = txt;\n        // this.closed = true;\n    }\n\n    update(x, y) {\n        if (!this.dragging) {\n            const rat = .96;\n            this.x = this.x * rat + x * (1 - rat);\n            this.y = this.y * rat + y * (1 - rat);\n        }\n        else\n            super.update();\n    }\n\n    displayContent() {\n        this.displayShadow();\n        this.displaySolidBack(this.p5.color(255));\n        // this.p5.fill(255);\n        this.p5.push();\n        this.p5.translate(20, this.barH + 20);\n        this.p5.text(this.txt, 0, 0, this.w - 40, this.h - 40);\n        this.p5.pop();\n        // this.p5.ellipse(0, 0, 200);\n        this.displayFrame();\n    }\n\n\n\n}\n","\n// force pulled to center of hurricane falls off with r^2\n// no force > than a particular distance\n// angular momentum = \nimport BoidDraggable from './BoidDraggable';\n\nexport default class Boid {\n\n    constructor(id, hurricanePos, imgs, p5) {\n        this.pos = {\n            x: Math.random() * p5.windowWidth,\n            y: Math.random() * p5.windowHeight\n        };\n\n        this.center = { x: hurricanePos.x + 100, y: hurricanePos.y + 126 };\n\n        this.angle = Math.random() * p5.PI * 2;\n        // this.angularV = 0;\n        // this.angularA = 0;\n        // this.maxDis = 300;\n\n        this.distToH = p5.dist(hurricanePos.x, hurricanePos.y, this.pos.x, this.pos.y);\n        this.distToH = p5.constrain(this.distToH, 120, p5.windowWidth * .4);\n        this.angleAmt = p5.map(this.distToH, 0, p5.windowWidth / 2, .03, .001);\n\n        const r = Math.random();\n\n        const titles = [\"sys\",\"taxes2020\", \"archived\", \"untitled\", \"0\", \"xfiles\", \"im_not_a_cat\", \"README\",\"diary21\", \"setup\", \"nyan\", \"v1.22\", \"exposed\",\"Screen Shot 2021-0\",\"99-babes\", \"root\"]\n\n        this.title = p5.random(titles);\n\n        if (id === 0) {\n            this.title = \"home\";\n            this.img = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/shared/homeicon.png\");\n        }\n        // else if (id === 1) {\n        //     this.title = \"\";\n        //     this.img = p5.loadImage(process.env.PUBLIC_URL + \"/local_images/hurricane/nyan.png\");\n        // }\n        else if (r < .6) {\n            this.img = imgs[0];\n            this.title += \".txt\";\n        }\n        else if (r < 1)\n            this.img = imgs[1];\n        else {\n            // this.img = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/waveforms/txt.png\");\n            // this.title += \".txt\";\n            this.pos.x = this.center.x + this.distToH * Math.cos(this.angle);\n            this.pos.y = this.center.y + this.distToH * Math.sin(this.angle);\n            this.div = new BoidDraggable(0, this.pos.x, this.pos.y, 200, 100, p5, \"some text goes here asd asd alaljka ajdkf; ;lkasjd\");\n        }\n\n\n        if (!this.div) {\n            const sz = 90;\n            const ratio = sz / this.img.width;\n            this.w = this.img.width * ratio;\n            this.h = this.img.height * ratio;\n        }\n\n    }\n\n    update = (hurricanePos, p5) => {\n\n        // distToH = p5.constrain(distToH, 50, 200);\n        // this.angularV = p5.map(distToH, 0, this.maxDis, .2, 0);\n        // this.angularV = p5.constrain(this.angularV, 0, this.maxDis);\n        // this.angle += this.angularV;\n\n        // distToH -= .02;\n        this.pos.x = this.center.x + this.distToH * Math.cos(this.angle);\n        this.pos.y = this.center.y + this.distToH * Math.sin(this.angle);\n        this.angle -= this.angleAmt;\n\n        const ratio = .95;\n        this.center.x = this.center.x * ratio + (hurricanePos.x + 100) * (1 - ratio);\n        this.center.y = this.center.y * ratio + (hurricanePos.y + 126) * (1 - ratio);\n\n        if (this.div)\n            this.div.update(this.pos.x, this.pos.y);\n    }\n\n    resetPosition = (p5) => {\n        this.pos.x = Math.random() * p5.windowWidth;\n        this.pos.y = Math.random() * p5.windowHeight;\n        if (this.div)\n            this.div.update(this.pos.x, this.pos.y);\n    }\n\n    display = (p5) => {\n\n\n        if (this.div) {\n            this.div.display();\n            this.div.displayToolBar();\n        }\n        else {\n            p5.fill(255, 0, 0);\n            // p5.ellipse(this.pos.x, this.pos.y, 50);\n            p5.push();\n            p5.translate(this.pos.x, this.pos.y);\n\n            p5.image(this.img, 0, 0, this.w, this.h);\n\n            p5.fill(255);\n            p5.stroke(0);\n            p5.textSize(12);\n            let str = this.title;\n            p5.text(str, this.w / 2 - p5.textWidth(str) / 2, this.h + 18);\n            p5.pop();\n        }\n\n    }\n\n    checkMouse = (p5) => {\n        if (this.div)\n            this.div.checkMouse();\n    }\n\n    endDrag = () => {\n        if (this.div)\n            this.div.endDrag();\n    }\n\n    checkDoubleClicked = (p5) => {\n        // if (this.mouseOver(p5)) {\n        // console.log(\"mouse\");\n        // this.div.closed = false;\n        // }\n    }\n\n    mouseOver = (p5) => {\n        return p5.mouseX > this.pos.x && p5.mouseX < this.pos.x + this.w && p5.mouseY > this.pos.y && p5.mouseY < this.pos.y + this.h;\n    }\n}","import ShadowDraggable from './Draggable/ShadowDraggable';\n\nexport default class HurricaneDraggable extends ShadowDraggable {\n\n    constructor(id, x, y, w, h, p5) {\n\n        super(id, x, y, w, h, p5);\n        this.content = p5.loadImage(process.env.PUBLIC_URL + \"/local_images/hurricane/hurricane.png\");\n    }\n\n    update(dx, dy) {\n        if (this.dragging) {\n            super.update();\n        }\n        else {\n            this.x += dx;\n            this.y += dy;\n        }\n    }\n\n    displayContent() {\n        // this.displayShadow();\n        // this.displaySolidBack(this.p5.color(0, 0, 255));\n        // this.p5.fill(255);\n        this.p5.push();\n        this.p5.translate(this.w/2, this.barH+this.h/2);\n        this.p5.rotate(-this.p5.millis()/1000)\n        this.p5.image(this.content, -this.w/2, -this.h/2, this.w, this.h);\n        this.p5.pop();\n        // this.p5.ellipse(0, 0, 200);\n        this.displayFrame();\n    }\n\n   \n\n}\n","\n// force pulled to center of hurricane falls off with r^2\n// no force > than a particular distance\n\nimport HurricaneDraggable from \"./HurricaneDraggable\";\n\n// angular momentum = \nexport default class Hurricane {\n\n    constructor(p5) {\n        this.x = p5.windowWidth/2;\n        this.y = p5.windowHeight/2;\n        this.w = 200;\n        this.h = 200;\n        this.dirX = 1;\n        this.dirY = 1;\n\n        this.speed = 2;\n        this.dir = Math.random() * 3.1415;\n        // this.img = p5.loadImage(process.env.PUBLIC_URL + \"/local_images/hurricane.png\");\n        this.div = new HurricaneDraggable(0, this.x, this.y, this.w, this.h, p5);\n    }\n\n    isVisible = () => {\n        return !this.div.closed;\n    }\n    \n    getPos = () => {\n        return {x: this.div.x, y: this.div.y};\n    }\n\n    update = (p5) => {\n        if (!this.div.dragging) {\n            if (this.div.x > p5.windowWidth-this.w) {\n                this.div.x = p5.windowWidth-this.w;\n                this.dirX = -1;\n            }\n            else if (this.div.x < 0) {\n                this.div.x = 0;\n                this.dirX = 1;\n            }\n\n            if (this.div.y > p5.windowHeight-this.h-26) {\n                this.div.y = p5.windowHeight-this.h-26;\n                this.dirY = -1;\n            }\n            else if (this.div.y < 0) {\n                this.div.y = 0;\n                this.dirY = 1;\n            } \n        }\n        this.div.update(this.dirX, this.dirY);\n        // if (this.div.x > p5.windowWidth) {\n\n        // }\n\n        // this.x++;\n        // if (this.x > p5.windowWidth) {\n\n        // }\n\n        // this.x = this.speed * Math.cos()\n    }\n\n    resetPosition = (p5) => {\n        this.x = Math.random() * p5.windowWidth;\n        this.y = Math.random() * p5.windowHeight;\n    }\n\n    display = (p5) => {\n        this.div.display(0, 0);\n        this.div.displayToolBar(0, 0);\n    }\n\n    checkMouse = () => {\n        this.div.checkMouse();\n    }\n\n    endDrag = () => {\n        this.div.endDrag();\n    }\n}\n","\nimport React, { FunctionComponent, useState, useEffect } from 'react';\nimport Sketch from './HurricaneSketch';\nimport './Hurricane.scss';\n\nexport default function Hurricane(props) {\n\n   \n\n    return (\n        <div className=\"Hurricane Sketch\">\n            <Sketch className=\"p5sketch\" />\n        </div>\n    )\n}","\nimport React from 'react';\nimport './Drapes.scss';\n\nexport default ({ ui }) => {\n\n    const hOG = 741;\n    const wOG = 631;\n\n    const drapesStyle = {\n        height: Math.min(hOG, ui.contentH - 30)\n    }\n\n    drapesStyle.width = wOG * hOG / drapesStyle.height;\n    drapesStyle.top = (ui.contentH - drapesStyle.height - 26) / 2;\n    drapesStyle.left = (ui.contentW - drapesStyle.width) / 2;\n\n    return (\n        <div className=\"Drapes\" style={drapesStyle} />\n    )\n\n}","\n\n\nimport React from 'react';\nimport Frame from '../../../../shared/Frame/Frame';\n\nexport default function Candle({x, y, w, h}) {\n\n    return (\n        <Frame title=\"\"\n            windowStyle={{ background: \"transparent\" }}\n            className={\"confessional-frame\"}\n            content={\n                <img alt=\"candle gif\" src=\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/waveforms/candle.gif\" width=\"100%\" height=\"100%\" />\n            }\n            width={w}\n            height={h}\n            x={x}\n            y={y}\n        />\n\n    )\n}","\n\n\nimport React from 'react';\nimport Candle from './Candle';\n\nexport default function Candles({ ui, x, y, w, h }) {\n\n    const startCandleY = y + h * .65;\n    const startCandleX = -60;\n    const candleDY = 50;\n    const candleDX = 70;\n    const candles = {\n        y0: startCandleY,\n        y1: startCandleY + candleDY,\n        y2: startCandleY + candleDY * 2,\n        w: 80,\n        h: 90\n    }\n\n    if (ui.contentW < w + candles.w * 2) {\n        return null;\n    }\n\n    return (\n        <React.Fragment>\n            <Candle x={x - candles.w - startCandleX - candleDX * 2} y={candles.y0} w={candles.w} h={90} />\n            <Candle x={x + w + startCandleX + candleDX * 2} y={candles.y0} w={candles.w} h={90} />\n\n            <Candle x={x - candles.w - startCandleX - candleDX} y={candles.y1} w={candles.w} h={90} />\n            <Candle x={x + w + startCandleX + candleDX} y={candles.y1} w={candles.w} h={90} />\n\n\n            <Candle x={x - candles.w - startCandleX} y={candles.y2} w={candles.w} h={90} />\n            <Candle x={x + w + startCandleX} y={candles.y2} w={candles.w} h={90} />\n        </React.Fragment>\n\n    )\n}","\nimport React, { useEffect } from 'react';\nimport Sketch from './Sketch';\nimport Frame from '../../shared/Frame/Frame';\nimport Drapes from './components/Drapes/Drapes';\nimport Candles from './components/Candle/Candles';\n\nimport './Mojave.scss';\n\nexport default function Mojave({ hasLoadedRoom, ui }) {\n\n    let vidRef = React.createRef();\n    const netURL = \"https://netscapes.s3.us-east-2.amazonaws.com/mojave\";\n\n    useEffect(() => {\n        // video starts  playing if you've already loaded the page once\n        // dunno why\n        if (hasLoadedRoom) {\n            if (vidRef.current)\n                vidRef.current.play();\n        }\n\n        return (() => {\n\n        })\n    }, [hasLoadedRoom])\n\n    const vw = Math.min(480, ui.contentW - 20);\n    const vid = {\n        w: vw,\n        h: 296 * (vw / 480)\n    }\n    vid.x = (ui.contentW - vid.w) / 2;\n    vid.y = (ui.contentH - vid.h - 26) / 2;\n\n  \n\n    return (\n        <div className=\"Mojave Sketch\">\n\n\n            <Sketch className=\"p5sketch\" ui={ui} />\n            <Drapes ui={ui} />\n            <Frame title={\"\"} content={\n                <a href=\"https://giphy.com/gifs/weed-blunt-elon-musk-2Y8Iq3xe121Ba3hUAM\" target=\"_blank\" rel=\"noopener noreferrer\">\n                    <video\n                        ref={vidRef}\n                        width={vid.w}\n                        height={vid.h}\n                        loop\n                        playsInline\n                        muted\n                    >\n                        <source src={netURL + \"/elon.mp4\"} type=\"video/mp4\"></source>\n                    </video>\n                </a>\n            }\n                width={vid.w}\n                height={vid.h}\n                x={vid.x}\n                y={vid.y}\n            />\n\n            <Candles ui={ui} x={vid.x} y={vid.y} w={vid.w} h={vid.h} />\n\n        </div>\n    )\n}","import React from \"react\";\nimport Sketch from \"react-p5\";\nimport ShadowDraggable from \"../Hurricane/components/Draggable/ShadowDraggable\";\n\nimport Parts from './components/Parts';\nimport FanDraggable from './components/Fan/FanDraggable';\n\nlet shadow;\nlet ui;\nlet dogica;\nlet _aryInitRot = [];\nlet _myObject;\n\n// let fan0;\n\n// thanks to Kusakari!\n// https://openprocessing.org/sketch/1117787\nexport default (props) => {\n    //   user = props.user;\n    // ui = props.ui;\n\n    const preload = (p5) => {\n\n        const url = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches\";\n        dogica = p5.loadFont(url + '/shared/fonts/dogica.ttf');\n       \n        // fan0 = new FanDraggable(0, 100, 100, 200, 200, p5);\n    }\n\n    ////////////////////////////////////////////////////////////////////////\n    // INITIALIZE\n    ////////////////////////////////////////////////////////////////////////\n    const setup = (p5, canvasParentRef) => {\n        // use parent to render the canvas in this ref\n        // (without that p5 will render the canvas outside of your component)\n        p5.setAttributes('premultipliedAlpha', true);\n        const cnv = p5.createCanvas(p5.windowWidth, p5.windowHeight, p5.WEBGL);\n        cnv.mousePressed(() => canvasPressed(p5));\n\n\n        cnv.parent(canvasParentRef);\n        p5.frameRate(30);\n        p5.noStroke();\n        for (let i = 0; i < 3; i++) {\n            _aryInitRot[i] = [p5.random(2 * p5.PI), p5.random([-1, 1])];\n        }\n\n        _myObject = new Parts(150, p5);\n\n        p5.textFont(dogica);\n    };\n\n    ////////////////////////////////////////////////////////////////////////\n    // DRAW\n    ////////////////////////////////////////////////////////////////////////\n    const draw = (p5) => {\n        // ortho(-width/2, width/2, -width/2, width/2, 0, width*2);\n        // p5.background(200);\n        p5.clear();\n        \n\n        p5.push();\n        p5.ambientLight(60);\n        let ang = _aryInitRot[1][0] + p5.frameCount / 100;\n        p5.directionalLight(255, 255, 255, -p5.sin(ang), 1, -p5.cos(ang));\n        let c = (p5.height / 2) / p5.tan(p5.PI / 6);\n        p5.camera(c * p5.sin(ang), 0, c * p5.cos(ang), 0, 0, 0, 0, 1, 0);\n        p5.rotateZ(p5.PI / 4);\n        \n        _myObject.update(p5);\n\n        p5.pop();\n        // drawText(p5);\n\n        // fan0.display(p5);\n        // fan0.update(p5);\n       \n        let col = p5.random([p5.color(0, 255, 0), p5.color(255, 0, 0), p5.color(0, 0, 255)])\n        p5.strokeWeight(4);\n        p5.stroke(col);\n        p5.textSize(100);\n        p5.text(p5.frameRate, p5.width/2, p5.height/2);\n        checkDimensions(p5);\n    }\n\n\n    const checkDimensions = (p5) => {\n        if (p5.windowWidth !== window.innerWidth || p5.windowHeight !== window.innerHeight) {\n            p5.windowWidth = window.innerWidth;\n            p5.windowHeight = window.innerHeight;\n            windowResized(p5);\n        }\n    }\n\n    const mouseDragged = (p5) => {\n    }\n\n    const keyPressed = (p5) => {\n\n    }\n\n    const canvasPressed = (p5) => {\n        // fan0.checkMouse();\n    }\n\n\n    const mouseReleased = (p5) => {\n        // fan0.endDrag();\n    }\n\n    const windowResized = (p5) => {\n        p5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n    }\n\n    const doubleClicked = (p5) => {\n\n    }\n\n\n\n\n    return <Sketch preload={preload} setup={setup} draw={draw} windowResized={windowResized} keyPressed={keyPressed} mouseReleased={mouseReleased} mouseDragged={mouseDragged} doubleClicked={doubleClicked} />;\n};\n","\nexport default class Part {\n    constructor(startX, startY, startZ, endX, endY, endZ, w, totalTime, partCount, maxW, p5) {\n        this.startX = startX;\n        this.startY = startY;\n        this.startZ = startZ;\n        this.endX = endX;\n        this.endY = endY;\n        this.endZ = endZ;\n        this.w = w;\n        this.totalTime = totalTime;\n        this.currentTime = 0;\n        this.direction = true; //true -> extend, false -> shrink\n        this.erase = false;\n        // let c = p5.random(100, 255)\n        // this.col = p5.color(0, p5.random(0, b - 50), b);\n\n        let r = p5.random();\n\n        if (r < .33)\n            this.col = p5.color(255, 0, 0);\n        else if (r < .66)\n            this.col = p5.color(0, 255, 0);\n        else\n            this.col = p5.color(0, 0, 255);\n\n\n        if (r < .5)\n            this.img = p5.loadImage(window.AWS + \"/infrastructure/server2.jpeg\");\n        else\n            this.img = p5.loadImage(window.AWS + \"/infrastructure/server.jpeg\");\n\n    }\n\n    update(p5) {\n        let currentX;\n        let currentY;\n        let currentZ;\n        if (this.direction == true) { //extend\n            let ratio = (this.currentTime / this.totalTime) ** 0.5;\n            currentX = this.startX + (this.endX - this.startX) * ratio;\n            currentY = this.startY + (this.endY - this.startY) * ratio;\n            currentZ = this.startZ + (this.endZ - this.startZ) * ratio;\n            if (this.currentTime < this.totalTime) { this.currentTime++; }\n            this.drawPart(this.startX, this.startY, this.startZ, currentX, currentY, currentZ, this.w, this.col, p5);\n        } else { //shrink\n            let ratio = (1 - (this.currentTime - this.totalTime) / this.totalTime) ** 0.5;\n            currentX = this.endX + (this.startX - this.endX) * ratio;\n            currentY = this.endY + (this.startY - this.endY) * ratio;\n            currentZ = this.endZ + (this.startZ - this.endZ) * ratio;\n            this.currentTime++;\n            if (this.currentTime > this.totalTime * 2) { this.erase = true; }\n            this.drawPart(this.endX, this.endY, this.endZ, currentX, currentY, currentZ, this.w, this.col, p5);\n        }\n    }\n\n    drawPart(startX, startY, startZ, endX, endY, endZ, w, col, p5) {\n        let angAxisZ = p5.atan2(endY - startY, endX - startX);\n        let distXY = p5.dist(startX, startY, endX, endY);\n        let angAxisY = -p5.atan2(endZ - startZ, distXY);\n        let distXYZ = p5.dist(0, startZ, distXY, endZ);\n        p5.push();\n        p5.translate(startX, startY, startZ);\n        p5.rotateZ(angAxisZ);\n        p5.rotateY(angAxisY);\n        p5.translate(distXYZ / 2, 0, 0);\n        p5.ambientMaterial(col);\n        if (w > 10) {\n            p5.texture(this.img);\n\n        }\n\n\n\n        // let dx = p5.abs(endX - startX);\n        // if (w > 10 && dx > 1 && dx < 100)\n        //     p5.sphere(w);\n        else {\n\n\n        }\n\n        p5.box(distXYZ + w, w, w); //length + w\n        this.drawText(distXYZ + w, p5)\n        p5.pop();\n    }\n\n    drawText(w, p5) {\n        // let txt = \"\";\n        let txtSz = 32;\n        let maxLen = 60;\n        let txt = \"$$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ \";\n        // txt = txt.substring(0, 80);\n\n        // let index = p5.floor(w / txtSz);\n        // index = p5.constrain(index, 1, txt.length);\n        // txt = txt.substring(0, index);\n\n\n        \n        // let per = p5.sin(p5.millis() / 1000);\n        // let txtLen = p5.map(per, -1, 1, 10, txt.length);\n        // txt = txt.substring(0, txtLen);\n\n        let per = p5.sin(p5.millis() / 1000);\n        let start = p5.map(per, -1, 1, 0, maxLen);\n        txt = txt.substring(start, start+maxLen);\n        \n\n        p5.textSize(txtSz);\n        p5.stroke(this.col);\n        p5.fill(this.col);\n        p5.text(txt, -p5.textWidth(txt) / 2, 0);\n\n\n\n        p5.noStroke();\n    }\n}","import Part from './Part';\n\nexport default class Parts {\n    constructor(numPart, p5) {\n        this.maxArea = p5.width / 2;\n        this.maxW = p5.width / 10;\n        this.t = 3;\n        this.maxL = this.maxArea;\n        this.parts = [];\n        let w = p5.max(p5.width / 300, this.maxW * p5.random() ** 12);\n        let startX = -this.maxArea / 2;\n        let startY = -this.maxArea / 2;\n        let startZ = -this.maxArea / 2;\n        let aryEndXYZ = this.randomDirection(startX, startY, startZ, p5);\n        while (p5.abs(aryEndXYZ[0]) > this.maxArea || p5.abs(aryEndXYZ[1]) > this.maxArea || p5.abs(aryEndXYZ[2]) > this.maxArea) {\n            aryEndXYZ = this.randomDirection(startX, startY, startZ, p5);\n        }\n        let endX = aryEndXYZ[0];\n        let endY = aryEndXYZ[1];\n        let endZ = aryEndXYZ[2];\n        this.partCount = p5.int(p5.random(1000));\n        this.parts.push(new Part(startX, startY, startZ, endX, endY, endZ, w, this.t, this.partCount, this.maxW, p5));\n        this.numPart = numPart;\n        this.isGenerate = false;\n    }\n    update(p5) {\n        for (let i = 0; i < this.parts.length; i++) {\n            this.parts[i].update(p5);\n        }\n        if (this.parts[this.parts.length - 1].currentTime >= this.parts[this.parts.length - 1].totalTime) {\n            this.isGenerate = true;\n        }\n\n        if (this.isGenerate == true && this.parts.length < this.numPart) {\n            let w = p5.max(p5.width / 300, this.maxW * p5.random() ** 12);\n            let startX = this.parts[this.parts.length - 1].endX;\n            let startY = this.parts[this.parts.length - 1].endY;\n            let startZ = this.parts[this.parts.length - 1].endZ;\n            let aryEndXYZ = this.randomDirection(startX, startY, startZ, p5);\n            while (p5.abs(aryEndXYZ[0]) > this.maxArea || p5.abs(aryEndXYZ[1]) > this.maxArea || p5.abs(aryEndXYZ[2]) > this.maxArea) {\n                aryEndXYZ = this.randomDirection(startX, startY, startZ, p5);\n            }\n            let endX = aryEndXYZ[0];\n            let endY = aryEndXYZ[1];\n            let endZ = aryEndXYZ[2];\n            this.partCount++;\n            this.parts.push(new Part(startX, startY, startZ, endX, endY, endZ, w, this.t, this.partCount, this.maxW, p5));\n            this.isGenerate = false;\n        }\n\n        if (this.parts.length >= this.numPart) {\n            this.parts[0].direction = false;\n        }\n\n        if (this.parts[0].erase == true) { this.parts.shift(); }\n    }\n    randomDirection(startX, startY, startZ, p5) {\n        let endX = startX;\n        let endY = startY;\n        let endZ = startZ;\n        let direction = p5.random([\"-x\", \"x\", \"-y\", \"y\", \"-z\", \"z\"]);\n        switch (direction) {\n            case \"-x\":\n                endX = startX + this.maxL * p5.random(-1, 0);\n                break;\n            case \"x\":\n                endX = startX + this.maxL * p5.random(0, 1);\n                break;\n            case \"-y\":\n                endY = startY + this.maxL * p5.random(-1, 0);\n                break;\n            case \"y\":\n                endY = startY + this.maxL * p5.random(0, 1);\n                break;\n            case \"-z\":\n                endZ = startZ + this.maxL * p5.random(-1, 0);\n                break;\n            case \"z\":\n                endZ = startZ + this.maxL * p5.random(0, 1);\n                break;\n        }\n        return [endX, endY, endZ];\n    }\n}\n","\nimport React, { useState, useEffect } from 'react';\nimport './Fan.scss';\nimport Frame from '../../../../shared/Frame/Frame';\nimport { mapVal, constrain } from '../../../../shared/Helpers/Helpers';\n\nexport default function Fan({ isMobile, w, x, y, mousePosition }) {\n    const [angle, setFanAngle] = useState(0);\n    const [velocity, setFanVelocity] = useState(0);\n\n    useEffect(() => {\n        const maxVel = .3;\n        if (!isMobile && mousePosition) {\n\n            const dx = mousePosition.x - (x + w / 2);\n            const dy = mousePosition.y - (y + 26 + w / 2);\n            // const r = Math.sqrt(dx * dx + dy * dy);\n            let vel = mapVal(dx, -500, 500, -maxVel, maxVel);\n            vel = constrain(vel, -maxVel, maxVel);\n\n            setFanVelocity(vel);\n            setFanAngle(angle => angle + velocity);\n        }\n        else if (isMobile) {\n            setFanVelocity(maxVel); \n        }\n\n\n    }, [mousePosition]);\n\n    // useEffect(() => {\n    //    if (quadrant === 0) {\n    //     if (id === 0 || id == )\n    //    }\n\n\n    // }, [quadrant]);\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            // setFanVelocity(velocity => {\n            //     if (velocity <= .01)\n            //         return 0;\n            //     return velocity;\n            // });\n            setFanAngle(angle => {\n                return angle + velocity\n            });\n                \n        }, 20);\n        return () => clearInterval(interval);\n    }, [angle, velocity, isMobile]);\n\n    // console.log(angle, velocity);\n    const bladesStyle = {\n        transform: `rotate(${angle / Math.PI * 180}deg)`,\n        transformOrigin: \"center center\"\n    }\n\n    return (\n        <Frame\n            title=\"\"\n            content={\n                <div className=\"Fan\">\n                    <div className=\"fanbase\"></div>\n                    <div className=\"blades\" style={bladesStyle}></div>\n                </div>\n            }\n            width={w}\n            height={w}\n            x={x}\n            y={y}\n        />\n    )\n}","\nimport React, { useEffect, useState } from 'react';\nimport Sketch from './Sketch';\nimport Fan from './components/Fan/Fan';\nimport './Infrastructure.scss';\n\nimport { constrain, mapVal } from '../../shared/Helpers/Helpers';\n\nexport default function Infrastructure({ ui, setAudioSource, setVolume }) {\n    // Declare a new state variable, which we'll call \"count\"\n\n    const [mousePosition, setMousePosition] = useState({\n        x: 0,\n        y: 0\n    })\n    const [mouseQuadrant, setMouseQuadrant] = useState(0)\n\n  \n\n    const handleMouseMove = (e) => {\n        setMousePosition({ x: e.pageX, y: e.pageY });\n\n        if (e.pageX < ui.contentW / 2) {\n            // 1 0\n            // 2 3\n            if (e.pageX < ui.contentH / 2)\n                setMouseQuadrant(0);\n            else\n                setMouseQuadrant(2);\n\n        }\n        else {\n            if (e.pageX < ui.contentH / 2)\n                setMouseQuadrant(1);\n            else\n                setMouseQuadrant(3);\n        }\n       \n    }\n\n\n\n    const getMobile = () => {\n        let dim = Math.min(ui.contentW, ui.contentH);\n        dim -= 100;\n        dim = Math.max(dim, 100);\n        return (\n            <Fan x={(ui.contentW - dim) / 2} y={(ui.contentH - dim - 26) / 2} w={dim} isMobile={ui.isMobile} />\n        )\n    }\n\n    const getDesktop = () => {\n        let w = mapVal(ui.contentW, 500, 2500, 100, 400);\n        w = constrain(w, 100, 400);\n        const sep = .1 * w;\n\n      \n        const fanParams = {isMobile: ui.isMobile, mousePosition, mouseQuadrant, w}\n        return (\n            <React.Fragment>\n                <Fan id={0} x={ui.width / 2 - sep - w} y={ui.height / 2 - 26 - w - sep} {...fanParams} />\n                <Fan id={2} x={ui.width / 2 - sep - w} y={ui.height / 2 + sep} w={w} {...fanParams} />\n                <Fan id={3} x={ui.width / 2 + sep} y={ui.height / 2 - 26 - w - sep} {...fanParams} />\n                <Fan id={1} x={ui.width / 2 + sep} y={ui.height / 2 + sep} {...fanParams} />\n            </React.Fragment>\n        )\n    }\n\n    return (\n        <div className=\"Infrastructure Sketch\" onMouseMove={handleMouseMove}>\n            <Sketch className=\"p5sketch\" />\n\n            {ui.contentW < 500 ? getMobile() : getDesktop()}\n        </div>\n    )\n\n\n}","import React, { useState, useEffect } from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\n\n\nexport default function Coins({ ui, x, pitX, vidW, y, w, h, totalW, totalH, coinSpace, playSound }) {\n\n    const space = coinSpace;\n    const idsLG = [\n        { x: -w - space, y: 0 },\n        { x: -w - space, y: h + space + 26 },\n        // {x: -w - space, y: (h + space + 26)*2},\n        // {x: -w - space, y: (h + space + 26)*3},\n\n        { x: totalW - w * 3 - space * 2, y: 0 },\n        { x: totalW - w * 2 - space, y: 0 },\n\n        { x: totalW - w * 2 - space, y: totalH - h - 26 },\n\n        { x: pitX - x - w - space, y: totalH - h - 26 },\n        { x: pitX - x - (w + space) * 2, y: totalH - h - 26 },\n    ];\n\n    const idsSM = [\n        { x: vidW - w, y: -h - 26 - space },\n        { x: vidW + space, y: 0 },\n        { x: vidW + space, y: -h - 26 - space },\n\n        // {x: -w - space, y: (h + space + 26)*2},\n        // {x: -w - space, y: (h + space + 26)*3},\n\n        { x: totalW - w, y: 0 },\n        { x: totalW + space, y: 0 },\n\n        { x: totalW + space, y: totalH - h - 26 },\n\n        { x: pitX - x - w - space, y: totalH - h - 26 },\n        { x: pitX - x - (w + space) * 2, y: totalH - h - 26 },\n    ]\n\n    // TODO? current this is the same as small\n    const idsXSM = [\n        { x: vidW - w, y: -h - 26 - space },\n        { x: vidW + space, y: 0 },\n        { x: vidW + space, y: -h - 26 - space },\n\n        // {x: -w - space, y: (h + space + 26)*2},\n        // {x: -w - space, y: (h + space + 26)*3},\n\n        { x: totalW - w, y: 0 },\n        { x: totalW + space, y: 0 },\n\n        { x: totalW + space, y: totalH - h - 26 },\n\n        { x: pitX - x - w - space, y: totalH - h - 26 },\n        { x: pitX - x - (w + space) * 2, y: totalH - h - 26 },\n    ]\n\n    let ids;\n    if (ui.width < 710)\n        ids = idsXSM;\n    else if (ui.width < 1100)\n        ids = idsSM;\n    else\n        ids = idsLG;\n\n    \n    return (\n        <div className=\"Coins\">\n            {\n                ids.map((val, i) => {\n                    return (\n                        <Frame\n                            title=\"\"\n                            key={i}\n                            windowStyle={{ background: \"transparent\" }}\n                            content={\n                                <div className=\"Coin\" onClick={playSound} />\n                            }\n                            width={w}\n                            height={w}\n                            x={x + val.x}\n                            y={y + val.y}\n                        />\n                    )\n                }\n                )\n            }\n        </div>\n    )\n\n}\n\n","import React, { useState, useEffect } from 'react';\n// import Frame from '../../../shared/Frame/Frame';\n\n\n\nexport default function Heli(props) {\n    const dir = 1;\n    const [x, setX] = useState((props.y)*300);\n    // const [img, setImg] = useState(0);\n    // const [dir, setDir] = useState(1);\n    \n\n    \n\n    useEffect(() => {\n\n        const interval = setInterval(moveHeli, 50);\n\n        return () => {\n            clearInterval(interval);\n        }\n    }, [x])\n\n    const moveHeli = () => {\n        setX((prevX) => {\n            let newX = prevX + dir * props.speed;\n            if (newX > window.innerWidth)\n                return -Math.random() * 400 - 300;\n            return newX;\n        });\n        // setImg(img + 1);\n\n    }\n\n    // const propeller = (Math.floor(img/2)%4)*100;\n\n    return (\n        <div className={props.classN} style={{\n            top: props.y,\n            left: x,\n            position: \"absolute\",\n            // backgroundPosition: `0px ${-propeller}px`,\n            // backgroundSize: \"80%\",\n            // width: 180,\n            // height: 50\n        }}>\n        </div>\n    )\n\n}\n\n","import React, { useState, useEffect } from 'react';\n// import ReactDOM from \"react-dom\";\n// import StackedMine from './components/StackedMine';\nimport Coins from './components/Coins';\nimport Heli from './components/Heli';\nimport Frame from '../../shared/Frame/Frame';\n\nimport useSound from 'use-sound';\n\nimport './Mine.scss';\nimport * as THREE from \"three\";\n\n// import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nimport { FirstPersonControls } from 'three/examples/jsm/controls/FirstPersonControls.js';\nimport { ImprovedNoise } from 'three/examples/jsm/math/ImprovedNoise.js';\nimport { BufferGeometryUtils } from 'three/examples/jsm/utils/BufferGeometryUtils.js';\n\nimport { mapVal, constrain } from '../../shared/Helpers/Helpers';\n\n\nexport default function Mine({ ui, hasLoadedRoom, audioOn }) {\n\n    let vidRef = React.createRef();\n\n    let scene, renderer, camera, effect, controls, requestID, mount;\n    const worldWidth = 128, worldDepth = 128;\n    const worldHalfWidth = worldWidth / 2;\n    const worldHalfDepth = worldDepth / 2;\n    let data;\n    const clock = new THREE.Clock();\n    let mouse = 0;\n\n    const [play, { pause }] = useSound(window.AWS + \"/mine/mario.mp3\", {\n        volume: .5,\n        interrupt: false,\n        autoplay: false,\n        loop: false,\n    });\n\n    useEffect(\n        () => {\n            // mount\n            window.addEventListener('resize', handleWindowResize);\n            window.addEventListener(\"mousemove\", handleMouseMove);\n\n            setupScene();\n            startAnimationLoop();\n\n            return () => {\n                // unmount\n                pause();\n\n                window.removeEventListener('resize', handleWindowResize);\n                window.removeEventListener(\"mousemove\", handleMouseMove);\n\n                window.cancelAnimationFrame(requestID);\n                if (controls)\n                    controls.dispose();\n            }\n        },\n        // empty array if you want this to run once\n        // otherwise, fill with variables that will update\n        []\n    );\n\n    useEffect(() => {\n        // video starts  playing if you've already loaded the page once\n        // dunno why\n        if (hasLoadedRoom) {\n            if (vidRef.current)\n                vidRef.current.play();\n        }\n\n        return (() => {\n\n        })\n    }, [hasLoadedRoom])\n\n\n    const handleWindowResize = () => {\n        const width = window.innerWidth;\n        const height = window.innerHeight;\n        renderer.setSize(width, height);\n        camera.aspect = width / height;\n        camera.updateProjectionMatrix();\n\n        // effect.setSize(width, height);\n    };\n\n    const handleMouseMove = (e) => {\n        var x = e.pageX;\n        // var y = e.pageY;\n        mouse = mapVal(x, 0, window.innerWidth, .01, -.01);\n        if (!mouse)\n            mouse = 0;\n    }\n\n    const playSound = () => {\n        if (audioOn && hasLoadedRoom)\n            play();\n    }\n\n    const setupScene = () => {\n        scene = new THREE.Scene();\n        camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 100000);\n\n        renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true, });\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        mount.appendChild(renderer.domElement);\n\n        initScene();\n        // addLights();\n        // addSkybox();\n    }\n\n    const initScene = () => {\n\n\n        data = generateHeight(worldWidth, worldDepth);\n        const matrix = new THREE.Matrix4();\n\n        const pxGeometry = new THREE.PlaneGeometry(100, 100);\n        pxGeometry.attributes.uv.array[1] = 0.5;\n        pxGeometry.attributes.uv.array[3] = 0.5;\n        pxGeometry.rotateY(Math.PI / 2);\n        pxGeometry.translate(50, 0, 0);\n\n        const nxGeometry = new THREE.PlaneGeometry(100, 100);\n        nxGeometry.attributes.uv.array[1] = 0.5;\n        nxGeometry.attributes.uv.array[3] = 0.5;\n        nxGeometry.rotateY(- Math.PI / 2);\n        nxGeometry.translate(- 50, 0, 0);\n\n        const pyGeometry = new THREE.PlaneGeometry(100, 100);\n        pyGeometry.attributes.uv.array[5] = 0.5;\n        pyGeometry.attributes.uv.array[7] = 0.5;\n        pyGeometry.rotateX(- Math.PI / 2);\n        pyGeometry.translate(0, 50, 0);\n\n        const pzGeometry = new THREE.PlaneGeometry(100, 100);\n        pzGeometry.attributes.uv.array[1] = 0.5;\n        pzGeometry.attributes.uv.array[3] = 0.5;\n        pzGeometry.translate(0, 0, 50);\n\n        const nzGeometry = new THREE.PlaneGeometry(100, 100);\n        nzGeometry.attributes.uv.array[1] = 0.5;\n        nzGeometry.attributes.uv.array[3] = 0.5;\n        nzGeometry.rotateY(Math.PI);\n        nzGeometry.translate(0, 0, - 50);\n\n        //\n\n        const geometries = [];\n\n        for (let z = 0; z < worldDepth; z++) {\n\n            for (let x = 0; x < worldWidth; x++) {\n\n                const h = getY(x, z);\n\n                matrix.makeTranslation(\n                    x * 100 - worldHalfWidth * 100,\n                    h * 100,\n                    z * 100 - worldHalfDepth * 100\n                );\n\n                const px = getY(x + 1, z);\n                const nx = getY(x - 1, z);\n                const pz = getY(x, z + 1);\n                const nz = getY(x, z - 1);\n\n                geometries.push(pyGeometry.clone().applyMatrix4(matrix));\n\n                if ((px !== h && px !== h + 1) || x === 0) {\n\n                    geometries.push(pxGeometry.clone().applyMatrix4(matrix));\n\n                }\n\n                if ((nx !== h && nx !== h + 1) || x === worldWidth - 1) {\n\n                    geometries.push(nxGeometry.clone().applyMatrix4(matrix));\n\n                }\n\n                if ((pz !== h && pz !== h + 1) || z === worldDepth - 1) {\n\n                    geometries.push(pzGeometry.clone().applyMatrix4(matrix));\n\n                }\n\n                if ((nz !== h && nz !== h + 1) || z === 0) {\n\n                    geometries.push(nzGeometry.clone().applyMatrix4(matrix));\n\n                }\n\n            }\n\n        }\n\n        const geometry = BufferGeometryUtils.mergeBufferGeometries(geometries);\n        geometry.computeBoundingSphere();\n\n        const texture = new THREE.TextureLoader().load(process.env.PUBLIC_URL + '/textures/minecraft/atlas.png');\n        texture.magFilter = THREE.NearestFilter;\n\n        const mesh = new THREE.Mesh(geometry, new THREE.MeshLambertMaterial({ map: texture, side: THREE.DoubleSide }));\n        scene.add(mesh);\n\n        const ambientLight = new THREE.AmbientLight(0xcccccc);\n        scene.add(ambientLight);\n\n        const directionalLight = new THREE.DirectionalLight(0xffffff, 2);\n        directionalLight.position.set(1, 1, 0.5).normalize();\n        scene.add(directionalLight);\n\n\n        controls = new FirstPersonControls(camera, renderer.domElement);\n        // controls.movementSpeed = 1000;\n        controls.lookSpeed = 0.025;\n        controls.lookVertical = false;\n\n\n        const color = 0x000000;  // white\n        const near = 100;\n        const far = 10000;\n        // scene.fog = new THREE.Fog(color, near, far);\n        // scene.background = new THREE.Color(color);\n    }\n\n    const generateHeight = (width, height) => {\n\n        // const r = Math.random();\n        const r = .011;\n        const data = [], perlin = new ImprovedNoise(),\n            size = width * height, z = r * 100;\n\n        let quality = 2;\n\n        for (let j = 0; j < 4; j++) {\n\n            if (j === 0) for (let i = 0; i < size; i++) data[i] = 0;\n\n            for (let i = 0; i < size; i++) {\n\n                const x = i % width, y = (i / width) | 0;\n                data[i] += perlin.noise(x / quality, y / quality, z) * quality;\n\n\n            }\n\n            quality *= 4;\n\n        }\n\n        return data;\n\n    }\n\n    const getY = (x, z) => {\n\n        return (data[x + z * worldWidth] * 0.2) | 0;\n\n    }\n\n\n    const startAnimationLoop = () => {\n        // renderer.render( scene, camera );\n\n        if (controls)\n            controls.update(clock.getDelta());\n\n        camera.rotateY(mouse);\n        if (effect)\n            effect.render(scene, camera);\n        else\n            renderer.render(scene, camera);\n        requestID = window.requestAnimationFrame(startAnimationLoop);\n\n    };\n\n\n\n    const addLights = () => {\n        var ambientLight = new THREE.AmbientLight(0xaaaaaa);\n        scene.add(ambientLight);\n        addLight(-10, 2, 4);\n        addLight(1, -10, -2);\n    }\n\n    const addLight = (...pos) => {\n        const color = 0xFFFFFF;\n        const intensity = 1;\n        const light = new THREE.DirectionalLight(color, intensity);\n        light.position.set(...pos);\n        scene.add(light);\n    }\n\n    let factor = mapVal(ui.width, 1110, 375, 1, .33);\n    factor = constrain(factor, .33, 1);\n    const vidW = 530 * factor;\n    const vidH = 300 * factor;\n\n    const coinW = 80;\n    const coinSpace = 15;\n\n    const totalW = vidW + vidW * .7 + (coinW + coinSpace) * 2;\n    const totalH = vidH + 26 + (coinW + 26 + coinSpace);\n\n    const vid = { x: (window.innerWidth - totalW) / 2 + coinW + coinSpace, y: (window.innerHeight - totalH) / 2, w: vidW, h: vidH };\n    const pit = { x: vid.x + vid.w * .7, y: vid.y + coinW + 26 + coinSpace, w: vidW, h: vidH };\n    const waterfall = { x: pit.x + 330 * factor, y: vid.y, w: constrain(100 * factor, 80, 100), h: constrain(300 * factor, .8 * 300, 300) };\n\n    if (ui.width < 700) {\n        waterfall.y = mapVal(ui.width, 700, 300, vid.y, vid.y - 60);\n        waterfall.x = Math.min(waterfall.x, pit.x + pit.w - waterfall.w)\n    }\n\n    //\n    return (\n        <div className=\"Mine Sketch pickCursor\" onClick={playSound}>\n            {/* <Cloud y={100} /> */}\n            {/* <Cloud y={200} /> */}\n            <div className=\"threeCanvas\" ref={ref => (mount = ref)} />\n            {/* <StackedMine x={200} y={50} /> */}\n            <Heli x={50} y={30} classN={\"Cloud\"} speed={1} />\n            <Heli x={520} y={100} classN={\"Cloud\"} speed={2.2} />\n\n            <Coins ui={ui} w={coinW} h={coinW} coinSpace={coinSpace} x={vid.x} y={vid.y} pitX={pit.x} vidW={vid.w} totalW={totalW} totalH={totalH} playSound={playSound} />\n\n            <Frame\n                title={\"\"}\n                content={\n                    <img src={window.AWS + \"/mine/pit.jpeg\"} className=\"fullImg\" onClick={playSound} />\n                }\n                width={pit.w}\n                height={pit.h}\n                x={pit.x}\n                y={pit.y}\n            />\n            <Frame\n                title={\"\"}\n                content={\n                    <img src={window.AWS + \"/mine/waterfall.gif\"} className=\"fullImg\" onClick={playSound} />\n                }\n                width={waterfall.w}\n                height={waterfall.h}\n                x={waterfall.x}\n                y={waterfall.y}\n            />\n            <Frame title={\"\"} content={\n                <a href=\"https://www.youtube.com/watch?v=eClDkXzKdGM\" target=\"_blank\" rel=\"noopener noreferrer\">\n                    <video\n                        ref={vidRef}\n                        width={vid.w}\n                        height={vid.h}\n                        loop\n                        playsInline\n                        muted={!audioOn || !hasLoadedRoom}\n                    >\n                        <source src={window.AWS + \"/mine/quarry2.mp4\"} type=\"video/mp4\"></source>\n                    </video>\n                </a>\n            }\n                width={vid.w}\n                height={vid.h}\n                x={vid.x}\n                y={vid.y}\n            />\n\n        </div>\n    )\n}\n","import React from \"react\";\nimport Sketch from \"react-p5\";\nimport Roomba from './components/Roomba';\n\n\nlet roombas = [];\nlet roombaImg;\nlet txtImg;\nlet folder;\nlet dogica;\n\nexport default (props) => {\n\n\n    const preload = (p5) => {\n        const url = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches\";\n        const netURL = \"https://netscapes.s3.us-east-2.amazonaws.com/roomba\";\n        txtImg = p5.loadImage(url + \"/waveforms/txt.png\");\n        folder = p5.loadImage(url + \"/loop/folder.png\");\n        roombaImg = p5.loadImage(netURL + \"/roomba.png\");\n\n        dogica = p5.loadFont(url + '/shared/fonts/dogica.ttf');\n    }\n\n    ////////////////////////////////////////////////////////////////////////\n    // INITIALIZE\n    ////////////////////////////////////////////////////////////////////////\n    const setup = (p5, canvasParentRef) => {\n        // use parent to render the canvas in this ref\n        // (without that p5 will render the canvas outside of your component)\n\n        const cnv = p5.createCanvas(p5.windowWidth, p5.windowHeight);\n        cnv.parent(canvasParentRef);\n        cnv.mousePressed(() => canvasPressed(p5));\n\n        for (let i = 0; i < 6; i++) {\n            roombas.push(new Roomba(i, roombaImg, p5));\n        }\n\n        p5.textFont(dogica);\n    };\n\n    ////////////////////////////////////////////////////////////////////////\n    // DRAW\n    ////////////////////////////////////////////////////////////////////////\n    const draw = (p5) => {\n        // p5.background(0, 255, 0);\n       randomTxtFiles(p5);\n       \n\n        displayRoombas(p5);\n\n        checkDimensions(p5);\n    }\n\n    const displayRoombas = (p5) => {\n        for (const r of roombas) {\n            r.display(p5);\n            r.update(roombas, p5);\n        }\n    }\n\n    const randomTxtFiles = (p5) => {\n        if (Math.random() < .4) {\n            // p5.noErase();\n            // let factor = p5.random(.6, 1);\n            let factor = 1;\n            const x = Math.random()*p5.windowWidth;\n            const y = Math.random()*p5.windowHeight;\n\n            // if (Math.random() < .5)\n            // p5.image(folder, x, y, 80, 60);\n            // else\n            p5.image(txtImg, x, y, 80*factor, 80*factor);\n            // p5.fill(255);\n            // p5.stroke(0);\n            // p5.textSize(12);\n            // let str = \"abstract\";\n            // p5.text(str, x + 80 / 2 - p5.textWidth(str) / 2, y + 80 + 18);\n        }\n    }\n\n    const checkDimensions = (p5) => {\n        if (p5.windowWidth !== window.innerWidth || p5.windowHeight !== window.innerHeight) {\n            p5.windowWidth = window.innerWidth;\n            p5.windowHeight = window.innerHeight;\n            windowResized(p5);\n        }\n    }\n\n\n\n    const mouseDragged = (p5) => {\n    }\n\n    const keyPressed = (p5) => {\n\n    }\n\n    const vacuum = (p5) => {\n        for (const r of roombas) {\n            r.vacuum(p5);\n        }\n    }\n\n \n\n    const canvasPressed = (p5) => {\n        for (const r of roombas) {\n            r.checkMouse();\n        }\n    }\n\n\n    const mouseReleased = (p5) => {\n        for (const r of roombas) {\n            r.endDrag();\n        }\n    }\n\n    const windowResized = (p5) => {\n        p5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n    }\n\n    const doubleClicked = (p5) => {\n        for (const r of roombas) {\n            // r.checkDoubleClicked(p5);\n        }\n    }\n\n\n\n    return <Sketch preload={preload} setup={setup} draw={draw} windowResized={windowResized} keyPressed={keyPressed} mouseReleased={mouseReleased} mouseDragged={mouseDragged} doubleClicked={doubleClicked} />;\n};\n","import ShadowDraggable from '../../Hurricane/components/Draggable/ShadowDraggable';\n\nexport default class RoombaDraggable extends ShadowDraggable {\n\n    constructor(id, x, y, w, h, img, p5) {\n\n        super(id, x, y, w, h, p5);\n        this.content = img;\n    }\n\n    update(dx, dy) {\n        if (this.dragging) {\n            super.update();\n        }\n        else {\n            this.x += dx;\n            this.y += dy;\n        }\n    }\n\n    maximizeWindow() {\n        //\n    }\n\n    displayContent(rot) {\n        // this.displayShadow();\n        // this.displaySolidBack(this.p5.color(0, 0, 255));\n        // this.p5.fill(255);\n        this.p5.push();\n        this.p5.translate(this.w / 2, this.barH + this.h / 2);\n        this.p5.rotate(rot)\n        this.p5.image(this.content, -this.w / 2, -this.h / 2, this.w, this.h);\n        this.p5.pop();\n        // this.p5.ellipse(0, 0, 200);\n        // this.displayFrame();\n    }\n\n  \n    displayToolBar() {\n        this.p5.push();\n        this.p5.translate(this.x, this.y);\n        if (!this.closed) {\n          this.p5.fill(0);\n          this.p5.noStroke();\n          if (!this.minimized) this.p5.rect(0, 10, this.w, (this.barH - 10));\n          this.p5.rect(0, 0, this.w, this.barH, this.bRad);\n    \n          // let gx = globalConfig.x * globalConfig.scaler;\n          // let gy = globalConfig.y * globalConfig.scaler;\n          // let mx = this.p5.mouseX + userX - gx - this.p5.windowWidth / 2 - this.x;\n          // let my = this.p5.mouseY + userY - gy - this.p5.windowHeight / 2 - this.y;\n          // let mx = this.p5.mouseX;\n          // let my = this.p5.mouseY;\n          this.closeButton.display(this.x, this.y);\n          this.minButton.display(this.x, this.y);\n          this.maxButton.display(this.x, this.y);\n        }\n        this.p5.pop();\n      }\n    \n\n}\n","\n// force pulled to center of hurricane falls off with r^2\n// no force > than a particular distance\n\nimport RoombaDraggable from \"./RoombaDraggable\";\nimport { getDegrees, rectanglesOverlap } from '../../../shared/Helpers/Helpers';\n\nconst RIGHT = 0;\nconst UP = 1;\nconst DOWN = 2;\nconst LEFT = 3;\n\n// angular momentum = \nexport default class Roomba {\n\n    constructor(id, img, p5) {\n\n        this.y = Math.random() * p5.windowHeight / 2;\n        this.w = 130;\n        this.x = p5.windowWidth / 2 - (id * this.w + 10);\n        this.h = this.w;\n        this.dir = p5.random([UP, DOWN, LEFT, RIGHT]);\n        this.angle = this.getTarget();\n        this.speed = 2;\n        this.isStopped = false;\n        this.id = id;\n        // this.img = p5.loadImage(process.env.PUBLIC_URL + \"/local_images/hurricane.png\");\n        this.div = new RoombaDraggable(0, this.x, this.y, this.w, this.h, img, p5);\n        this.pattern = p5.loadImage(\"https://netscapes.s3.us-east-2.amazonaws.com/roomba/grass1.jpeg\");\n        this.buffer = p5.createGraphics(this.w + 4, this.h + 26 + 4);\n        this.isMini = false;\n        this.closed = false;\n    }\n\n    isVisible = () => {\n        return !this.div.closed;\n    }\n\n    getPos = () => {\n        return { x: this.div.x, y: this.div.y };\n    }\n\n    update = (roombas, p5) => {\n        if (!this.div.dragging) {\n            this.checkCollisions(roombas);\n            this.checkBoundaries(p5);\n\n            this.checkRandomMove(p5);\n            this.setDir();\n            if (this.isStopped) {\n                this.rotateRoomba();\n            }\n        }\n        this.div.update(this.dirX, this.dirY);\n\n    }\n\n    checkRandomMove = (p5) => {\n        if (!this.isStopped) {\n            if (Math.random() < .002) {\n                this.dir += p5.random([-1, 1]);\n                if (this.dir > 3)\n                    this.dir = 0;\n                else if (this.dir < 0)\n                    this.dir = 3;\n                this.isStopped = true;\n            }\n        }\n    }\n\n    checkCollisions = (roombas) => {\n        if (!this.isStopped) {\n            let rmbs = roombas.filter((roomba) => roomba.id !== this.id);\n            for (const roomba of rmbs) {\n                if (this.willCollide(roomba)) {\n                    this.dir++;\n                    this.dir %= 4;\n                    this.isStopped = true;\n                    return;\n                }\n            }\n        }\n\n    }\n\n    willCollide(roomba) {\n        const x0 = this.div.x + Math.cos(this.getTarget()) * this.speed;\n        const y0 = this.div.y + Math.sin(this.getTarget()) * this.speed;\n        const x1 = roomba.div.x;\n        const y1 = roomba.div.y;\n        const w = this.w;\n        const h = this.h + 26;\n        return rectanglesOverlap(x0, y0, w, h, x1, y1, w, h);\n    }\n\n    checkBoundaries = (p5) => {\n        if (this.div.x > p5.windowWidth - this.w) {\n            this.div.x = p5.windowWidth - this.w;\n            this.dir = p5.random([UP, DOWN, LEFT]);\n            this.isStopped = true;\n        }\n        else if (this.div.x < 0) {\n            // this.div.x = 0;\n            // this.dirX = 1;\n            this.div.x = 0;\n            this.dir = p5.random([UP, DOWN, RIGHT]);\n            this.isStopped = true;\n        }\n        if (this.div.y > p5.windowHeight - this.h - 26 - 30) {\n            // this.div.y = p5.windowHeight-this.h-26;\n            // this.dirY = -1;\n            this.div.y = p5.windowHeight - this.h - 26 - 30;\n            this.dir = p5.random([LEFT, RIGHT, UP]);\n            this.isStopped = true;\n        }\n        else if (this.div.y < 0) {\n            // this.div.y = 0;\n            // this.dirY = 1;\n            this.div.y = 0;\n            this.dir = p5.random([LEFT, RIGHT, DOWN]);\n            this.isStopped = true;\n        }\n    }\n\n    rotateRoomba = () => {\n        this.dirX = 0;\n        this.dirY = 0;\n        this.setAngle();\n    }\n\n    setDir = () => {\n        if (this.isStopped) {\n            this.dirX = 0;\n            this.dirY = 0;\n        }\n        else if (this.dir === LEFT) {\n            this.dirX = -this.speed;\n            this.dirY = 0;\n        }\n        else if (this.dir === RIGHT) {\n            this.dirX = this.speed;\n            this.dirY = 0;\n        }\n        else if (this.dir === UP) {\n            this.dirX = 0;\n            this.dirY = -this.speed;\n        }\n        else {\n            this.dirX = 0;\n            this.dirY = this.speed;\n        }\n    }\n\n    resetPosition = (p5) => {\n        this.x = Math.random() * p5.windowWidth;\n        this.y = Math.random() * p5.windowHeight;\n    }\n\n    display = (p5) => {\n        if (this.div.closed) {\n            if(this.div.closed !== this.closed) {\n                this.setPattern(p5);\n                p5.image(this.buffer, this.div.x - 2, this.div.y - 2);\n                console.log(this.closed, this.div.closed);\n            }\n        }\n        else if (this.div.dragging) {\n            this.setPattern(p5);\n            p5.image(this.buffer, this.div.x - 2, this.div.y - 2);\n            this.div.displayToolBar(0, 0);\n        }\n        else if (this.pattern && this.div.content && this.buffer) {\n            this.setPattern(p5);\n            if (this.mini && this.mini !== this.div.minimized) {\n                p5.image(this.buffer, this.div.x - 2, this.div.y - 2);\n                // this.div.display(this.angle + Math.PI / 2);\n                this.div.displayToolBar(0, 0);\n            }\n            if (this.div.minimized) {\n                p5.image(this.buffer, this.div.x - 2, this.div.y - 2);\n                this.div.display(this.angle + Math.PI / 2);\n                this.div.displayToolBar(0, 0);\n            }\n            else {\n                p5.image(this.buffer, this.div.x - 2, this.div.y - 2);\n                this.div.display(this.angle + Math.PI / 2);\n                this.div.displayToolBar(0, 0);\n            }\n\n        }\n\n\n        this.mini = this.div.minimized;\n        this.closed = this.div.closed;\n    }\n\n    setPattern = (p5) => {\n        if (this.mini) {\n            this.buffer.clear();\n            const iX = this.div.x % (this.pattern.width - this.buffer.width);\n            const iY = this.div.y % (this.pattern.height - this.buffer.height);\n            this.buffer.copy(this.pattern, iX, iY, this.buffer.width, 26 + 4, 0, 0, this.buffer.width, 26 + 4);\n        }\n\n        else {\n            const iX = this.div.x % (this.pattern.width - this.buffer.width);\n            const iY = this.div.y % (this.pattern.height - this.buffer.height);\n            this.buffer.copy(this.pattern, iX, iY, this.buffer.width, this.buffer.height, 0, 0, this.buffer.width, this.buffer.height);\n\n        }\n\n    }\n\n    vacuum = (p5) => {\n        p5.erase();\n        p5.rect(this.div.x, this.div.y, this.w, this.h + 26, this.div.bRad);\n    }\n\n    getTarget = () => {\n        switch (this.dir) {\n            case UP:\n                return Math.PI * 3 / 2;\n            case DOWN:\n                return Math.PI / 2;\n            case LEFT:\n                return Math.PI;\n            case RIGHT:\n                return 0;\n            default:\n                return 0;\n        }\n    }\n\n    setAngle = () => {\n        const angAmt = .03;\n        const dr = angAmt + .001;\n        const target = this.getTarget();\n        this.angle %= 2 * Math.PI;\n        if (this.angle < 0) {\n            this.angle += 2 * Math.PI;\n        }\n\n        if (this.isCloseToRange(target, this.angle, dr)) {\n            this.setTarget(target);\n        }\n        else if (target === 0) {\n            if (this.angle > 2 * Math.PI - dr || this.angle < dr) {\n                this.setTarget(target);\n            }\n            else if (this.angle > Math.PI)\n                this.angle += angAmt;\n            else\n                this.angle -= angAmt;\n        }\n        else if (target === Math.PI / 2) {\n            if (this.angle > Math.PI / 2 && this.angle < 3 / 2 * Math.PI)\n                this.angle -= angAmt;\n            else\n                this.angle += angAmt;\n        }\n        else if (target === Math.PI) {\n            if (this.angle > Math.PI)\n                this.angle -= angAmt;\n            else\n                this.angle += angAmt;\n        }\n\n        else if (target === 3 * Math.PI / 2) {\n            if (this.angle > 3 * Math.PI / 2 || this.angle < Math.PI / 2)\n                this.angle -= angAmt;\n            else\n                this.angle += angAmt;\n        }\n    }\n\n    isCloseToRange = (target, start, dr) => {\n        return Math.abs(start - target) < dr;\n    }\n\n    setTarget = (target) => {\n        this.angle = target;\n        this.isStopped = false;\n    }\n\n    checkMouse = () => {\n        this.div.checkMouse();\n    }\n\n    endDrag = () => {\n        this.div.endDrag();\n    }\n}\n","\n\nimport Sketch from './Sketch';\nimport './Wallpaper.scss';\n\nexport default function Roomba(props) {\n\n   \n\n    return (\n        <div className=\"Wallpaper Sketch\">\n            <Sketch className=\"p5sketch\" />\n        </div>\n    )\n}","import React from \"react\";\nimport { FreeCamera, Vector3, HemisphericLight, Mesh, MeshBuilder, CubeTexture, StandardMaterial, Color3, Texture,Vector2 } from \"@babylonjs/core\";\nimport {WaterMaterial} from  \"@babylonjs/materials\";\n// import Babylon from \"../../shared/3D/Babylon\"; // uses above component in same directory\nimport SceneComponent from 'babylonjs-hook'; // if you install 'babylonjs-hook' NPM.\n\nlet box, ground, skybox;\n\nconst onSceneReady = (scene) => {\n    // This creates and positions a free camera (non-mesh)\n    var camera = new FreeCamera(\"camera1\", new Vector3(0, 5, -10), scene);\n\n    // This targets the camera to scene origin\n    camera.setTarget(Vector3.Zero());\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n\n    // This attaches the camera to the canvas\n    camera.attachControl(canvas, true);\n\n    // This creates a light, aiming 0,1,0 - to the sky (non-mesh)\n    var light = new HemisphericLight(\"light\", new Vector3(0, 1, 0), scene);\n\n    // Default intensity is 1. Let's dim the light a small amount\n    light.intensity = 0.7;\n\n    // Our built-in 'box' shape.\n    box = MeshBuilder.CreateBox(\"box\", { size: 2 }, scene);\n\n    // Move the box upward 1/2 its height\n    box.position.y = 1;\n\n    // Our built-in 'ground' shape.\n    MeshBuilder.CreateGround(\"ground\", { width: 6, height: 6 }, scene);\n\n    addSkybox(scene);\n    // addGround(scene);\n    addWater(scene);\n};\n\nconst addSkybox = (scene) => {  \n    skybox = MeshBuilder.CreateBox(\"skyBox\", { size: 1000.0 }, scene);\n    var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n    skyboxMaterial.backFaceCulling = false;\n    skyboxMaterial.reflectionTexture = new CubeTexture(process.env.PUBLIC_URL + \"/local_images/skybox/mountain/mossymountains\", scene);\n    // skyboxMaterial.reflectionTexture = new CubeTexture(process.env.PUBLIC_URL + \"/local_images/skybox/sunset/sunset\", scene);\n\n    skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n    skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n    skyboxMaterial.specularColor = new Color3(0, 0, 0);\n    skybox.material = skyboxMaterial;\n}\n\nconst addWater = (scene) => {\n    var waterMesh = Mesh.CreateGround(\"waterMesh\", 512, 512, 32, scene, false);\n\tvar water = new WaterMaterial(\"water\", scene, new Vector2(512, 512));\n\twater.backFaceCulling = true;\n\twater.bumpTexture = new Texture(process.env.PUBLIC_URL + \"/textures/water/waterbump.png\", scene);\n\twater.windForce = -5;\n\twater.waveHeight = 0.1;\n\twater.bumpHeight = 0.1;\n\twater.waterColor = new Color3(0.6, 0.9, 0.9);\n\twater.colorBlendFactor = 0.5;\n\twater.addToRenderList(skybox);\n\t// water.addToRenderList(ground);\n\twaterMesh.material = water;\n}\n\nconst addGround = (scene) => {\n    // Ground\n\t// var groundTexture = new Texture(process.env.PUBLIC_URL + \"/textures/grass.dds\", scene);\n\t// groundTexture.vScale = groundTexture.uScale = 8.0;\n\t\n\tvar groundMaterial = new StandardMaterial(\"groundMaterial\", scene);\n\t// groundMaterial.diffuseTexture = groundTexture;\n\t\n\tground = Mesh.CreateGround(\"ground\", 512, 512, 32, scene, false);\n\tground.position.y = -1;\n\tground.material = groundMaterial;\n}\n/**\n * Will run on every frame render.  We are spinning the box on y-axis.\n */\nconst onRender = (scene) => {\n    if (box !== undefined) {\n        var deltaTimeInMillis = scene.getEngine().getDeltaTime();\n\n        const rpm = 10;\n        box.rotation.y += (rpm / 60) * Math.PI * 2 * (deltaTimeInMillis / 1000);\n    }\n};\n\nexport default () => (\n    <div className=\"Home Sketch\">\n        <SceneComponent antialias onSceneReady={onSceneReady} onRender={onRender} id=\"babylon-canvas\" />\n    </div>\n);","\nimport './About.scss';\n\nexport default () => {\n    return (\n        <div className=\"About\">\n            <div className=\"backgroundCover\" />\n            <div className=\"container\">\n\n                <h1>About</h1>\n                <hr />\n                <h3>statement</h3>\n                <hr />\n                <p>As online worlds increasingly infuse or supplant analog realities, the meaning of “exterior” in digital spaces finds new relevance. Netscapes examines cyber-environments, and in particular, the extent to which digital representations of natural landscapes reflect existing values and attitudes towards nature.</p> \n                <p>Desktop wallpapers serve as a salient and sardonic example of the Anthropocene’s ethics. While climate change threatens to collapse global ecosystems and unravel the fabric of civilization, we paper desktops with uncannily-idyllic Caribbean beaches and rolling mountain ranges. We build captivating virtual worlds and mine cryptocurrencies on digital platforms that are abstracted away from the petrochemical infrastructure upon which they run.</p>\n                <p>Through interactive web vignettes built with recognizable user interfaces, I hope to subvert digital escape by injecting anthropogenic detritus into online spaces. Simultaneously, I hope to expose modes of extraction endemic to cyberspace (and late stage capitalism more broadly) so that we might arrive at a more responsible visual language for the web.</p>\n                <hr />\n                <h3>bio</h3>\n                <hr />\n                <p>\n                    <a href=\"https://www.instagram.com/jdeboi/\" target=\"_blank\" rel=\"noopener noreferrer\">Jenna deBoisblanc</a> is a New Orleans native, a creative coder, and a teacher. She received her undergraduate degree in physics from Pomona College and her MFA in digital art from Tulane University in New Orleans. She has shown work locally at Good Children Gallery, The Front, and at Luna Fete, as well as at light festivals in the SouthWest. Her clients include Toyota, the Aloft Hotel, the Florida Aquarium, and NASA.</p>\n            </div>\n        </div>\n    )\n}","const padding = 15;\n// const heading = 60; // top header\n// const barBot = 60; // mobile footer / landscape menu\nconst minW = 540;\nconst minH = 400;\nconst borderW = 2;\nconst buffer = 40;\n\nexport function getCenterModalDim(ui, isRelative) {\n    \n\n    if (getWidthTooSmall(ui) || getHeightTooSmall(ui)) {\n        if (ui.orientation === \"portrait\")\n            return getPortraitSmall(ui, isRelative);\n        return getLandscapeSmall(ui, isRelative);\n    }\n\n    else {\n        const { contentW, contentH, toolbarH, headerH} = ui;\n\n        let w = minW;\n        let h = minH;\n        let y = (contentH - h - toolbarH) / 2;\n        if (!isRelative)\n            y += headerH;\n\n        // if (width < 600) {\n        //     w = width - padding * 2;\n        //     h = height - padding * 2 - headerH - barBot - heading;\n        //     let y = padding; // + heading;\n        //     if (!isRelative)\n        //         y += heading;\n        // }\n        // else if (height < 400) {\n        //     w = 540;\n        //     h = height - padding * 2 - headerH - barBot;\n        //     let y = padding; // + heading;\n        //     if (!isRelative)\n        //         y += heading;\n        // }\n\n        let x = (contentW - w) / 2 - borderW;\n        return { w, h, x, y };\n        // console.log(w, h, x, y);\n    }\n    \n\n// return {w: 100, h: 100, x: 100, y: 100}\n}\n\n\nfunction getWidthTooSmall(ui) {\n    const {contentW} = ui;\n    return contentW < minW + padding * 2+buffer;\n}\n\nfunction getHeightTooSmall(ui) {\n    const {toolbarH, contentH} = ui;\n    return contentH < minH + padding * 2 + toolbarH + buffer;\n}\n\n\nfunction getLandscapeSmall(ui, isRelative) {\n    const {toolbarH, contentW, contentH, headerH} = ui;\n    const w = contentW - padding * 2; // 60 = width of menu on left\n    const h = contentH - padding - toolbarH;\n    // const x = barBot + padding;\n    const x = padding;\n    let y = padding/2;\n    if (!isRelative)\n        y += headerH;\n    return { w, h, x, y };\n    // console.log(x, y, x, h);\n    // return {w: 200, h: 100, x: 300, y: 300};\n}\n\nfunction getPortraitSmall(ui, isRelative) {\n    const {toolbarH, contentW, contentH, headerH} = ui;\n    const w = contentW - padding * 2 ; // 60 = width of menu on left\n    const h = contentH - padding * 2 - toolbarH;\n    const x = padding - borderW;\n    let y = padding; // + heading;\n    if (!isRelative)\n        y += headerH;\n    return { w, h, x, y };\n    // return {w: 200, h: 100, x: 300, y: 300};\n}","import React, { MouseEvent } from 'react';\nimport Frame from '../Frame/Frame';\nimport './CenterModal.css';\nimport { getCenterModalDim } from './Helper';\n\ninterface CenterModalProps {\n  title: string,\n  classN: string,\n  content: JSX.Element,\n  buttons: JSX.Element,\n  width: number,\n  height: number,\n  isHidden: boolean,\n  z: number,\n  ui: any,\n  isRelative: boolean,\n  onHide(): any\n}\n\n\nexport default function CenterModal({ title, classN, ui, z, height, width, isHidden, content, buttons, isRelative, onHide }: CenterModalProps) {\n\n\n  let { w, h, x, y } = getCenterModalDim(ui, isRelative);\n\n  if (height && width) {\n    h = Math.min(h, height);\n    w = Math.min(w, width);\n    y = (ui.contentH - h - ui.toolbarH) / 2;\n    if (!isRelative)\n      y += ui.headerH;\n    x = (ui.contentW - w) / 2;\n  }\n  const classT = (!isHidden ? \" GrayedOut\" : \"\");\n\n\n  // const handleMouse = (e: MouseEvent) => {\n  //   e.stopPropagation();\n  // }\n\n  const handleDoubleClick = (e: MouseEvent) => {\n    e.stopPropagation();\n  }\n\n  return (\n    <React.Fragment>\n      <div className={classT} onDoubleClick={handleDoubleClick} style={{ visibility: (isHidden ? \"hidden\" : \"visible\"), zIndex: z }} />\n      <Frame title={title} isHidden={isHidden} bounded={true} onHide={onHide} windowStyle={{ background: \"white\" }} content={\n        <div className={classN + \" CenterModal SignInForm\"} style={{ width: w, height: h }}>\n          <div className=\"CenterModal-Container\" style={{ padding: 20, width: w - 40, height: h - 40 }}>\n            {content}\n            {buttons}\n          </div>\n        </div>\n      }\n        width={w} height={h} x={x} y={y} z={z + 1}\n      />\n    </React.Fragment>\n  );\n\n\n}\n","import React, { useEffect } from 'react';\n\nimport './RoomDecal.css';\n\nimport { getSketchFromTitle } from '../../sketches/Sketches';\n\nimport CenterModal from '../CenterModal/CenterModal';\n\n\nexport default function RoomDecal(props) {\n\n    const { ui, room, startMedia, hasLoadedRoom } = props;\n    const sketch = getSketchFromTitle(room);\n    \n\n    const buttonClicked = () => {\n        startMedia();\n        // this.props.startComposition();\n    }\n\n    const getButtons = () => {\n        return (\n            <div className=\"center-buttons\">\n                <button className=\"standardButton primary\" onClick={buttonClicked}>ok</button>\n            </div>\n        );\n    }\n\n    const onHide = () => {\n        startMedia();\n    }\n\n\n\n    if (sketch) {\n        const buttons = getButtons();\n        const { title, about, year } = sketch;\n\n        return (\n            <CenterModal\n                title={\"\"}\n                isHidden={hasLoadedRoom}\n                onHide={onHide}\n                ui={ui}\n                z={2500}\n                height={300}\n                width={400}\n                isRelative={false}\n                classN=\"RoomDecal\"\n                content={\n                    <div className=\"decal-content\">\n                        <div className=\"identify\">\n                            {/* <p className=\"\" style={{ fontSize: 12, paddingBottom: 0 }}>Jenna deBoisblanc</p>\n                                <p style={{ paddingBottom: 20 }}>\n                                    <span style={{ fontSize: 24 }}>🇺🇸⚜️</span>\n                                    <span style={{ fontSize: 12 }}>, born 1989</span>\n                                </p> */}\n                            <p style={{ fontSize: 20, paddingBottom: 0, fontWeight: 900 }}>\n                                <span className=\"\">{title}</span>\n                            </p>\n                            {/* <p style={{ fontSize: 12 }}>{year}</p> */}\n                            <p style={{ fontSize: 12 }}>Jenna deBoisblanc</p>\n                            <p style={{ fontSize: 12 }}>Custom Software</p>\n                            <p style={{ fontSize: 12 }}>Variable Dimensions</p>\n\n                            <p style={{ fontSize: 12 }}>{about}</p>\n                        </div>\n\n                    </div>\n                }\n                buttons={buttons}\n            />\n        );\n    }\n\n\n    return null;\n\n\n\n}\n\n","\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport useSound from \"use-sound\";\nimport { getRoomTitle } from \"../components/sketches/Sketches\";\n\nexport default function useAudio(audioOn, hasLoadedRoom) {\n\n    const currentPage = getRoomTitle(useLocation().pathname);\n    const [volume, setVolume] = useState(0);\n\n    const onLoad = () => {\n        playCurrentPage();\n    }\n\n    const sources = [\n        {\n            title: \"out of site\", \n            player: useSound(window.AWS + \"/infrastructure/server.mp3\", {\n                volume: .5,\n                interrupt: false,\n                autoplay: false,\n                preload:true,\n                onload: onLoad,\n                loop: true,\n            })\n        },\n        {\n            title: \"mojave\", \n            player: useSound(window.LMD + \"/yosemite/fire.mp3\", {\n                volume: .2,\n                interrupt: false,\n                autoplay: false,\n                preload:true,\n                onload: onLoad,\n                loop: true,\n            })\n        },\n        {\n            title: \"yosemite\", \n            player: useSound(window.LMD + \"/yosemite/fire.mp3\", {\n                volume: volume,\n                interrupt: false,\n                autoplay: false,\n                onload: onLoad,\n                loop: true,\n            })\n        },\n        {\n            title: \"cat 5\", \n            player: useSound( window.AWS + \"/hurricane/hurricane.mp3\", {\n                volume: .5,\n                interrupt: false,\n                autoplay: false,\n                onload: onLoad,\n                loop: true,\n            })\n        },\n        {\n            title: \"hard drives on seashores\", \n            player: useSound( window.LMD + \"/hardDrives/seagulls.mp3\", {\n                volume: .5,\n                interrupt: false,\n                autoplay: false,\n                onload: onLoad,\n                loop: true,\n            })\n        },\n    ];\n\n    \n    \n\n    const [currentSource, setCurrentSource] = useState(sources[0])\n\n    const setNewPage = (title) =>{\n        // console.log(\"setting new page\", title);\n        stopCurrentPage();\n        let nextSource = sources.find((source) => title === source.title);\n        if  (nextSource &&  nextSource.player) {\n            const [play, {stop}] = nextSource.player;\n            stop();\n        }\n        setCurrentSource(nextSource);\n        // console.log(\"nextsource\", nextSource?nextSource.title:\"null\");\n    }\n\n    const playCurrentPage = () => {\n        if (currentSource && currentSource.player) {\n            const [play, {stop}] = currentSource.player;\n           // only for yosemite\n            setVolume(0);\n            play();\n            // console.log(\"play\", currentSource.title)\n        }\n    }\n\n    const stopCurrentPage = () => {\n        if  (currentSource && currentSource.player) {\n            const [play, {stop}] = currentSource.player;\n            stop();\n            // console.log(\"stop\", currentSource.title)\n        }\n    }\n\n    // if the audio is set to auto play\n    // turn on playing when the page loads\n    useEffect(() => {\n        if (audioOn && hasLoadedRoom) {\n            playCurrentPage();\n        }\n        else {\n            stopCurrentPage();\n        }\n    },\n    [hasLoadedRoom]\n    );\n\n    useEffect(() => {\n        if (audioOn && hasLoadedRoom) {\n            playCurrentPage();\n        }\n        else {\n            stopCurrentPage();\n        }\n    },\n    [audioOn]\n    );\n\n    useEffect(() => {\n        // console.log(volume, currentSource);\n    },\n    [volume]\n    );\n\n    useEffect(() => {\n        setNewPage(currentPage);\n    },\n    [currentPage]\n    );\n\n\n    return [setVolume];\n};\n\n","\nimport React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport { Route, useLocation } from 'react-router-dom';\n\nimport Header from '../components/shared/Header/Header';\n\n// sketches\nimport { getUrl, getRoomTitle } from '../components/sketches/Sketches';\nimport Yosemite from '../components/sketches/Yosemite/Yosemite';\nimport HardDrives from '../components/sketches/HardDrives/HardDrives';\nimport JungleGyms from '../components/sketches/JungleGyms/JungleGyms';\nimport Hurricane from '../components/sketches/Hurricane/Hurricane';\nimport Mojave from '../components/sketches/Mojave/Mojave';\nimport Infrastructure from '../components/sketches/Infrastructure/Infrastructure';\nimport Mine from '../components/sketches/Mine/Mine';\nimport Wallpaper from '../components/sketches/Wallpaper/Wallpaper';\n// import Beached from '../components/sketches/Beached/Beached';\n// import Melt from '../components/sketches/Melt/Melt';\n\nimport Home from '../components/sketches/Home/Home';\n\n// import NotFound from '../components/shared/NotFound/NotFound';\n\n// other components\nimport About from '../components/About/About';\nimport FPSStats from \"react-fps-stats\";\nimport RoomDecal from '../components/shared/RoomDecal/RoomDecal';\n\n// hooks\nimport useDimensions from '../hooks/useDimensions';\n// import useSound from 'use-sound';\nimport useMultiPlayer from '../hooks/useMultiPlayer';\n\nwindow.AWS = \"https://netscapes.s3.us-east-2.amazonaws.com\";\nwindow.LMD = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches\";\n\n\nfunction App(props) {\n\n  const currentPage = getRoomTitle(useLocation().pathname);\n  const ui = useDimensions();\n  const [hasLoadedRoom, setLoadedRoom] = useState(false);\n  const [audioOn, setAudioOn] = useState(true);\n\n  const [setVolume] = useMultiPlayer(audioOn, hasLoadedRoom);\n\n\n  useEffect(\n    () => {\n      return () => {\n        // pause();\n      }\n    },\n    [ui]\n  );\n\n\n   // if we change audio or the room loads, play\n  //  useEffect(\n  //   () => {\n  //     if (hasLoadedRoom && audioOn) {\n  //       play();\n  //       // console.log(\"play\", audioSource, volume, hasLoadedRoom, audioOn)\n  //     }\n  //     else {\n  //       pause();\n  //       // console.log(\"stop\", audioSource, volume, hasLoadedRoom, audioOn)\n  //     }  \n  //   },\n  //   [audioOn, hasLoadedRoom, audioSource]\n  // );\n\n\n  // if there's a new page, reset the audio\n  useEffect(() => {\n    // setAudioSource(\"\");\n    setLoadedRoom(false);\n    // pause();\n  },\n    [currentPage]\n  );\n\n\n  const sketchProps = {\n    ui,\n    hasLoadedRoom,\n    audioOn,\n    setVolume,\n    // setAudioSource,\n    currentPage\n  }\n\n\n  return (\n    <div className=\"App\">\n      <Header\n        ui={ui}\n        currentPage={currentPage}\n        isMenuOn={true}\n        audioOn={audioOn}\n        toggleAudio={() => setAudioOn(v => !v)}\n      />\n\n      {/* sketches */}\n      <Route exact path=\"/\" render={() => (<Mine {...sketchProps}/>)} />\n      <Route exact path={getUrl(\"yosemite\")} render={() => (<Yosemite {...sketchProps} />)} />\n      <Route exact path={getUrl(\"hard\")} render={() => (<HardDrives {...sketchProps} />)} />\n      <Route exact path={getUrl(\"jungle\")} render={() => (<JungleGyms {...sketchProps} />)} />\n      <Route exact path={getUrl(\"cat\")} render={() => (<Hurricane {...sketchProps} />)} />\n      <Route exact path={getUrl(\"mojave\")} render={() => (<Mojave {...sketchProps} />)} />\n      <Route exact path={getUrl(\"mine\")} render={() => (<Mine {...sketchProps} />)} />\n      <Route exact path={getUrl(\"out\")} render={() => (<Infrastructure {...sketchProps} />)} />\n      {/* <Route exact path={getUrl(\"beached\")} component={Beached} /> */}\n      <Route exact path={getUrl(\"roomba\")} render={() => (<Wallpaper {...sketchProps} />)} />\n\n      <Route exact path=\"/home\" component={Home} />\n      <Route exact path=\"/about\" component={About} />\n\n      {/* other components */}\n      <RoomDecal\n        startMedia={() => setLoadedRoom(true)}\n        hasLoadedRoom={hasLoadedRoom}\n        ui={ui}\n        room={currentPage}\n      />\n      {/* {<FPSStats top={window.innerHeight - 255} left={10} />} */}\n\n    </div>\n  );\n}\n\n\nexport default App;\n\n","// hook\nimport React, { useState, useEffect } from 'react';\n\nexport default function useDimensions() {\n\n    const footerMobileH = 60;\n    const headerMobileH = 60;\n    const headerH = 34;\n    const toolbarH = 26;\n\n\n    const getHasFooter = (w, h) => {\n        //788\n        return (w < 835 || h < 600);\n        // return false;\n    }\n\n    const getOrientation = (w, h) => {\n        return w > h ? \"landscape\" : \"portrait\";\n    }\n\n    const getIsMobile = () => {\n        return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n    }\n\n    const getWindowSize = (w) => {\n        if (!w)\n            return 'medium';\n        else if (w < 340)\n            return 'xxsmall';\n        else if (w < 480)\n            return 'xsmall';\n        else if (w < 788)\n            return 'small';\n        else if (w < 992)\n            return 'medium';\n        else if (w < 1200)\n            return 'large';\n        return 'xlarge';\n    }\n\n    const getContentW = (w, h) => {\n        if (getHasFooter(w, h) || getIsMobile(w, h)) {\n            // if (getOrientation(w, h) === \"portrait\") {\n            //     return w;\n            // }\n            // return w - footerMobileH; // right hand menu\n            return w;\n        }\n        return w;\n    }\n\n    const getContentH = (w, h) => {\n        if (getHasFooter(w, h) || getIsMobile(w, h)) {\n            // if (getOrientation(w, h) === \"portrait\") {\n            //     return h - footerMobileH - headerMobileH;\n            // }\n            return h - headerMobileH;\n        }\n        return h - headerH;\n    }\n\n    const getHeaderH = (w, h) => {\n        return (getHasFooter(w, h) || getIsMobile()) ? headerMobileH : headerH;\n    }\n\n    const getEdgeSpacing = (w, h) => {\n        if (w < 800)\n            return 10;\n        else if (w >= 1920)\n            return 30;\n        return 20;\n    }\n\n\n    const getWindowObject = () => {\n        let initW = typeof window === 'object' ? window.innerWidth : null;\n        let initH = typeof window === 'object' ? window.innerHeight : null;\n\n        if (!initW || !initH)\n            return null;\n\n        return {\n            width: initW,\n            height: initH,\n            isMobile: getIsMobile(),\n            orientation: getOrientation(initW, initH),\n            size: getWindowSize(initW),\n            hasFooter: getHasFooter(initW, initH),\n            headerH: getHeaderH(initW, initH),\n            toolbarH: toolbarH,\n            contentW: getContentW(initW, initH),\n            contentH: getContentH(initW, initH),\n            edgeSpacing: getEdgeSpacing(initW, initH)\n        };\n    }\n\n    const [windowDimensions, setWindowDimensions] = useState(getWindowObject());\n\n    const handleWindowResize = () => {\n        setWindowDimensions(getWindowObject());\n    }\n\n    useEffect(\n        () => {\n            window.addEventListener('resize', handleWindowResize);\n\n            return () => {\n                window.removeEventListener('resize', handleWindowResize);\n            }\n        },\n        []\n    );\n\n    return windowDimensions;\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './App/App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter basename='/'>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}