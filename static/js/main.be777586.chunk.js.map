{"version":3,"sources":["components/shared/3D/AnaglyphEffect.js","components/shared/Header/components/ListItem.js","components/shared/Header/components/FinderSubmenu.js","components/shared/Header/components/Clock.js","components/sketches/Sketches.js","components/shared/Header/Header.js","components/shared/Frame/Toolbar.js","components/shared/Frame/Frame.js","components/shared/DesktopIcon/DesktopIcon.js","hooks/useInterval.js","components/shared/Helpers/Helpers.js","components/sketches/Yosemite/Yosemite.js","components/shared/3D/Water2.js","components/shared/Frame/FrameSimple.js","components/sketches/HardDrives/Birds.js","components/sketches/HardDrives/HardDrives.js","components/sketches/JungleGyms/Pipe.js","components/sketches/JungleGyms/JungleGyms.js","components/sketches/Hurricane/HurricaneSketch.js","components/sketches/Hurricane/components/Draggable/Button.js","components/sketches/Hurricane/components/Draggable/ShadowDraggable.js","components/sketches/Hurricane/components/Draggable/Draggable.js","components/sketches/Hurricane/components/Boid/BoidDraggable.js","components/sketches/Hurricane/components/Boid/Boid.js","components/sketches/Hurricane/components/HurricaneDraggable.js","components/sketches/Hurricane/components/Hurricane.js","components/sketches/Hurricane/Hurricane.js","components/sketches/Mojave/Sketch.js","components/sketches/Mojave/components/Drapes/Drapes.js","components/sketches/Mojave/components/Candle/Candle.js","components/sketches/Mojave/components/Candle/Candles.js","components/sketches/Mojave/Mojave.js","components/sketches/Infrastructure/Sketch.js","components/sketches/Infrastructure/components/Part.js","components/sketches/Infrastructure/components/Parts.js","components/sketches/Infrastructure/components/Fan/Fan.js","components/sketches/Infrastructure/Infrastructure.js","components/sketches/Mine/components/Coins.js","components/sketches/Mine/components/Heli.js","components/sketches/Melt/Melt.js","components/sketches/Mine/Mine.js","components/sketches/Home/Home.js","components/About/About.js","components/shared/CenterModal/Helper.js","components/shared/CenterModal/CenterModal.tsx","components/shared/RoomDecal/RoomDecal.js","hooks/useMultiPlayer.js","App/App.js","hooks/useDimensions.js","reportWebVitals.ts","index.tsx"],"names":["module","exports","THREE","useOGMatrices","renderer","width","height","this","colorMatrixLeft","Matrix3","fromArray","colorMatrixRight","_camera","OrthographicCamera","_scene","Scene","_stereo","StereoCamera","_params","minFilter","LinearFilter","magFilter","NearestFilter","format","RGBAFormat","undefined","_renderTargetL","WebGLRenderTarget","_renderTargetR","_material","ShaderMaterial","uniforms","value","texture","vertexShader","join","fragmentShader","_mesh","Mesh","PlaneBufferGeometry","add","setSize","pixelRatio","getPixelRatio","render","scene","camera","currentRenderTarget","getRenderTarget","updateMatrixWorld","parent","update","setRenderTarget","clear","cameraL","cameraR","dispose","geometry","ListItem","getMenuItem","title","shortcut","className","props","link","classN","callback","DOMParser","parseFromString","body","innerHTML","getShortcut","classn","to","React","PureComponent","FinderSubmenu","getPageTitle","id","isXXSmall","getMainTitle","Fragment","getMobile","state","isVisible","toggleHidden","bind","setWrapperRef","handleClickOutside","document","addEventListener","removeEventListener","node","wrapperRef","event","contains","target","setState","prevState","icon","specialClass","ulSpecialClass","listItems","onClick","ref","map","item","i","classLN","t","Clock","currentTimeString","updateClock","interval","setInterval","clearInterval","currentTime","Date","currentHours","getHours","currentMinutes","getMinutes","timeOfDay","getDay","getClassN","sketches","short","year","homeSketch","getUrl","find","sketch","getRoomTitle","path","substring","length","sk","Header","getMainMenuSub","homeIcon","isSimpleHeader","getCurrentDirectory","currentPage","ui","isMobile","hasFooter","getInstaLi","openInNewTab","getAboutLi","url","newWindow","window","open","opener","getMainTitleLi","getVolumeLi","toggleAudio","getVolumeIcon","audioOn","Toolbar","toggleClosed","toggleMinimzed","toggleMaximized","Frame","onControlledDrag","e","position","x","y","controlledPosition","onDrag","onControlledDragStop","onStop","onHide","stopPropagation","isMinimized","onMinimized","origCoords","console","log","onMaximized","onStart","activeDrags","handleStart","newFrameToTop","handleClick","toolBarH","deltaPosition","wrapper","createRef","prevProps","dx","dy","parser","isHidden","isMaximized","contentVisibility","display","frameH","bounds","bounded","frameStyle","Math","floor","zIndex","z","axis","handle","defaultPosition","positionOffset","grid","scale","cancel","handleStop","nodeRef","style","windowStyle","content","Component","DesktopIcon","onDblClick","newIconToTop","onClickMobile","getDesktopDesktop","onDoubleClick","zIcon","disableWindow","getFrame","getMobileDesktop","top","left","box","zFrame","w","h","frameContent","useInterval","delay","savedCallback","useRef","useEffect","current","mapVal","val","in_min","in_max","out_min","out_max","constrain","min","max","randomInRange","start","end","diff","random","Yosemite","useState","numPops","setNumPops","popTime","setPopTime","numFrames","setNumFrames","popW","setPopW","_numPops","_popups","contentH","push","getPopUps","popups","setPopUps","setVolume","popUp","hasLoadedRoom","pop","p","vol","clicked","getFolderList","titles","frame","background","contentW","alt","src","LMD","frames","framesW","startX","getFrames","Water","options","type","scope","color","Color","textureWidth","textureHeight","clipBias","flowDirection","Vector2","flowSpeed","reflectivity","shader","WaterShader","encoding","LinearEncoding","textureLoader","TextureLoader","flowMap","normalMap0","load","process","normalMap1","cycle","halfCycle","textureMatrix","Matrix4","clock","Reflector","error","Refractor","reflector","refractor","updateTextureMatrix","set","multiply","projectionMatrix","matrixWorldInverse","matrixWorld","updateFlow","delta","getDelta","config","material","matrixAutoUpdate","UniformsUtils","merge","UniformsLib","transparent","fog","defines","USE_FLOWMAP","wrapS","wrapT","RepeatWrapping","onBeforeRender","visible","copy","prototype","isWater","Vector4","FrameSimple","px","py","sty","notAbsolute","Birds","initBirds","birdInitialsX","birdInitialsY","num","x0","y0","flyDirection","updateBirds","maxW","windowWidth","flyIndex","numVisibleBirds","getBird","index","bird","getBirdLocation","sin","pos","AnaglyphEffect","require","HardDrives","mount","effect","requestID","water","floorMaterial","trees","bottles","seed","svFrame","f","ogW","ogH","orientation","wTemp","handleWindowResize","setupScene","startAnimationLoop","cancelAnimationFrame","innerWidth","innerHeight","aspect","updateProjectionMatrix","lookAt","alpha","antialias","appendChild","domElement","ambientLight","addLight","addPalms","addSkybox","addBottles","addWater","addFloor","requestAnimationFrame","sign","rotation","waterGeometry","params","PI","intensity","light","floorTexture","repeat","side","floorGeometry","modelPath","model","onProgress","xhr","lengthComputable","loaded","total","onError","manager","addHandler","DDSLoader","MTLLoader","setPath","materials","preload","OBJLoader","setMaterials","tree","positions","clone","bottle","bottleVectors","getRandom","frameBorder","allowFullScreen","aria-hidden","tabIndex","Pipe","nodes","pipeRadius","ballJointRadius","gridBounds","currentPosition","randomInteger","object3d","addTexture","setAt","makeBallJoint","fromPoint","toPoint","deltaVector","subVectors","arrow","normalize","mesh","setFromQuaternion","quaternion","addVectors","multiplyScalar","updateMatrix","ball","fromPosition","toPosition","tangentVector","elball","texUrl","pipeTexture","emissive","specular","shininess","lastPosition","lastDirectionVector","directionVector","chooseFrom","newPosition","containsPoint","getAt","equals","makeCylinderBetweenPoints","values","x1","x2","round","JungleGyms","hurricane","dogica","beach","beachGraphics","controls","firstLoad","setLoad","pipes","vines","videoSwings","videoGym","reset","OrbitControls","enableZoom","addScreenCube","addWallPaper","addVines","look","chance","getTime","remove","video","pW","pH","fac","rot","boxLen","videoTex","plane","opacity","cube","edges","line","linewidth","wall","vine","newVine","newVine2","vector","angle","matrix","makeRotationAxis","applyMatrix4","center","gymUrl","playsInline","crossOrigin","autoPlay","muted","loop","Button","p5","r","stroke","strokeWeight","noFill","mouseOver","fill","ellipse","dist","mouseX","mouseY","ShadowDraggable","shadow","loadImage","displayShadow","backW","backH","translate","barH","image","origX","origY","offsetX","offsetY","toolbarH","startDrag","startDragCoords","dragging","locked","closed","minimized","bRad","closeButton","minButton","xp","maxButton","mask","createGraphics","noStroke","displayContent","rect","displayFrame","col","closeWindow","toggleMinimze","maximizeWindow","checkButtons","checkDragging","overToolBar","mx","my","div","minimizeWindow","BoidDraggable","txt","rat","displaySolidBack","text","Boid","hurricanePos","imgs","distToH","cos","angleAmt","ratio","resetPosition","windowHeight","displayToolBar","img","textSize","str","textWidth","checkMouse","endDrag","checkDoubleClicked","HurricaneDraggable","rotate","millis","Hurricane","getPos","dirX","dirY","speed","dir","boids","boidImgs","checkDimensions","windowResized","canvasPressed","resizeCanvas","setBeachGraphics","getCoverBackground","tint","zoom","imgRatio","factor","netURL","loadFont","loadGif","setup","canvasParentRef","cnv","createCanvas","mousePressed","textFont","draw","noErase","colorMode","HSB","boid","erase","keyPressed","mouseReleased","mouseDragged","doubleClicked","desert","desert2","moon","joshua","fire","pg","dune","Counter","MX","MY","drawDunes","drawMarsStrip","codeNumber","unitSize","k","pow","randomSeed","noiseX","noiseY","noiseZ","mag","noise","drawJoshua","initializePG","pgtemp","imageMode","CORNER","rectMode","CENTER","noiseSeed","noCursor","startAmt","dA","drapesStyle","wOG","Candle","Candles","startCandleY","startCandleX","candles","y1","y2","candleDY","candleDX","Mojave","vidRef","play","vw","vid","Sketch","href","rel","_myObject","Part","startY","startZ","endX","endY","endZ","totalTime","partCount","direction","AWS","currentX","currentY","currentZ","drawPart","angAxisZ","atan2","distXY","angAxisY","distXYZ","rotateZ","rotateY","ambientMaterial","drawText","per","Parts","numPart","maxArea","maxL","parts","aryEndXYZ","randomDirection","abs","int","isGenerate","shift","_aryInitRot","setAttributes","WEBGL","frameRate","ang","frameCount","directionalLight","c","tan","Fan","mousePosition","setFanAngle","velocity","setFanVelocity","maxVel","vel","bladesStyle","transform","transformOrigin","Infrastructure","setAudioSource","setMousePosition","mouseQuadrant","setMouseQuadrant","onMouseMove","pageX","pageY","dim","sep","fanParams","getDesktop","Coins","ids","pitX","vidW","totalW","totalH","coinSpace","playSound","idsLG","idsSM","idsXSM","Heli","setX","moveHeli","prevX","newX","skybox","Mine","data","worldWidth","worldDepth","mouse","useSound","volume","interrupt","autoplay","pause","handleMouseMove","initScene","generateHeight","pxGeometry","attributes","uv","array","nxGeometry","pyGeometry","rotateX","pzGeometry","nzGeometry","geometries","getY","makeTranslation","worldHalfWidth","worldHalfDepth","nx","pz","nz","BufferGeometryUtils","mergeBufferGeometries","computeBoundingSphere","FirstPersonControls","lookSpeed","lookVertical","perlin","ImprovedNoise","size","quality","j","vidH","coinW","pit","waterfall","onSceneReady","FreeCamera","Vector3","setTarget","Zero","canvas","getEngine","getRenderingCanvas","attachControl","HemisphericLight","MeshBuilder","CreateBox","CreateGround","skyboxMaterial","StandardMaterial","backFaceCulling","reflectionTexture","CubeTexture","coordinatesMode","Texture","SKYBOX_MODE","diffuseColor","Color3","specularColor","waterMesh","WaterMaterial","bumpTexture","windForce","waveHeight","bumpHeight","waterColor","colorBlendFactor","addToRenderList","onRender","deltaTimeInMillis","getDeltaTime","padding","getCenterModalDim","isRelative","minW","getWidthTooSmall","minH","getHeightTooSmall","headerH","getPortraitSmall","getLandscapeSmall","CenterModal","buttons","classT","visibility","RoomDecal","room","startMedia","getSketchFromTitle","buttonClicked","about","fontSize","paddingBottom","fontWeight","useAudio","useLocation","pathname","onLoad","playCurrentPage","sources","player","onload","currentSource","setCurrentSource","stop","stopCurrentPage","nextSource","source","setNewPage","App","getHasFooter","getIsMobile","test","navigator","userAgent","getWindowSize","getContentW","getContentH","getHeaderH","getEdgeSpacing","getWindowObject","initW","initH","edgeSpacing","windowDimensions","setWindowDimensions","useDimensions","setLoadedRoom","setAudioOn","useMultiPlayer","sketchProps","isMenuOn","v","exact","component","Melt","Home","About","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","basename","getElementById"],"mappings":"+GACAA,EAAOC,QAAU,SAAUC,EAAOC,GA0MjC,OAhMqB,SAAUC,EAAUC,EAAOC,GAS3CH,GACHI,KAAKC,iBAAkB,IAAIN,EAAMO,SAAUC,UAAU,CACpD,oBAAsB,qBAAuB,sBAC3C,qBAAwB,uBAA0B,sBAClD,mBAAqB,uBAA2B,wBAGnDH,KAAKI,kBAAmB,IAAIT,EAAMO,SAAUC,UAAU,EACnD,mBAAsB,mBAAqB,qBAC3C,mBAAqB,mBAAsB,mBAC7C,sBAAyB,oBAAsB,qBAsBhDH,KAAKC,iBAAkB,IAAIN,EAAMO,SAAUC,UAAU,CACpD,MAAO,MAAO,KACd,MAAO,MAAO,IACd,MAAO,MAAO,OAIfH,KAAKI,kBAAmB,IAAIT,EAAMO,SAAUC,UAAU,EACpD,KAAO,MAAQ,MACf,KAAO,MAAQ,MACf,KAAO,KAAM,SAKhB,IAAIE,EAAU,IAAIV,EAAMW,oBAAqB,EAAG,EAAG,GAAK,EAAG,EAAG,GAE1DC,EAAS,IAAIZ,EAAMa,MAEnBC,EAAU,IAAId,EAAMe,aAEpBC,EAAU,CAAEC,UAAWjB,EAAMkB,aAAcC,UAAWnB,EAAMoB,cAAeC,OAAQrB,EAAMsB,iBAE/EC,IAAVpB,IAAqBA,EAAQ,UAClBoB,IAAXnB,IAAsBA,EAAS,KAEnC,IAAIoB,EAAiB,IAAIxB,EAAMyB,kBAAkBtB,EAAOC,EAAQY,GAC5DU,EAAiB,IAAI1B,EAAMyB,kBAAkBtB,EAAOC,EAAQY,GAE5DW,EAAY,IAAI3B,EAAM4B,eAAe,CAExCC,SAAU,CAET,QAAW,CAAEC,MAAON,EAAeO,SACnC,SAAY,CAAED,MAAOJ,EAAeK,SAEpC,gBAAmB,CAAED,MAAOzB,KAAKC,iBACjC,iBAAoB,CAAEwB,MAAOzB,KAAKI,mBAInCuB,aAAc,CAEb,oBAEA,gBAEA,8BACA,8EAEA,KAECC,KAAK,MAEPC,eAAgB,CAEf,6BACA,8BACA,oBAEA,gCACA,iCAIA,yBACA,6CACA,qDACA,IAEA,uBACA,4DACA,IAEA,yBACA,sCACA,6CACA,IAGA,gBAEA,mBAEA,mDACA,oDAEA,wBACA,uCACA,iDAEA,yBACA,wDACA,qCAEA,KAECD,KAAK,QAIJE,EAAQ,IAAInC,EAAMoC,KAAK,IAAIpC,EAAMqC,oBAAoB,EAAG,GAAIV,GAChEf,EAAO0B,IAAIH,GAEX9B,KAAKkC,QAAU,SAAUpC,EAAOC,GAE/BF,EAASqC,QAAQpC,EAAOC,GAExB,IAAIoC,EAAatC,EAASuC,gBAE1BjB,EAAee,QAAQpC,EAAQqC,EAAYpC,EAASoC,GACpDd,EAAea,QAAQpC,EAAQqC,EAAYpC,EAASoC,IAIrDnC,KAAKqC,OAAS,SAAUC,EAAOC,GAE9B,IAAIC,EAAsB3C,EAAS4C,kBAEnCH,EAAMI,oBAEgB,OAAlBH,EAAOI,QAAiBJ,EAAOG,oBAEnCjC,EAAQmC,OAAOL,GAEf1C,EAASgD,gBAAgB1B,GACzBtB,EAASiD,QACTjD,EAASwC,OAAOC,EAAO7B,EAAQsC,SAE/BlD,EAASgD,gBAAgBxB,GACzBxB,EAASiD,QACTjD,EAASwC,OAAOC,EAAO7B,EAAQuC,SAE/BnD,EAASgD,gBAAgB,MACzBhD,EAASwC,OAAO9B,EAAQF,GAExBR,EAASgD,gBAAgBL,IAI1BxC,KAAKiD,QAAU,WAEV9B,GAAgBA,EAAe8B,UAC/B5B,GAAgBA,EAAe4B,UAC/BnB,GAAOA,EAAMoB,SAASD,UACtB3B,GAAWA,EAAU2B,c,2hBCxJbE,M,4MAnBbC,YAAc,SAACC,EAAOC,GACpB,OACE,sBAAKC,UAAU,UAAf,UACE,qBAAKA,UAAU,cAAf,SAA8BF,IAC9B,qBAAKE,UAAU,WAAf,SAA2BD,Q,4CArBjC,WACE,MAA0CtD,KAAKwD,MAAvCH,EAAR,EAAQA,MAAOI,EAAf,EAAeA,KAAgBC,GAA/B,EAAqBC,SAArB,EAA+BD,QACzBJ,EAyBV,SAAqBA,GACnB,OAAiB,OAAbA,GAAkC,KAAbA,EAChB,MAEM,IAAIM,WACSC,gBAAgBP,EAAU,aAClCQ,KAAKC,UA/BNC,CAAYhE,KAAKwD,MAAMF,UAEpCW,EAASP,EAEb,OADAO,GAAwB,KAAbX,GAAgC,OAAbA,EAAqB,cAAgB,YAC/DG,GAAiB,KAATA,EAER,oBAAIF,UAAWU,EAAf,SAAuB,cAAC,IAAD,CAAMC,GAAIT,EAAV,SAAiBzD,KAAKoD,YAAYC,EAAOC,OAKlE,oBAAIC,UAAWU,EAAQX,SAAUA,EAAjC,SAA4CD,Q,GAnB3Bc,IAAMC,eC2JdC,E,kDAxJb,WAAYb,GAAQ,IAAD,8BACjB,cAAMA,IAwGRc,aAAe,WASb,OACE,sBAAMC,GAAG,YAAT,SAAsB,EAAKf,MAAMH,SAnHlB,EAwHnBmB,UAAY,WAEV,OAAO,GA1HU,EA6HnBC,aAAe,WAEb,MAAyB,wBAArB,EAAKjB,MAAMH,OACT,EAAKmB,YAKA,KAMT,cAAC,IAAME,SAAP,UAAiB,EAAKlB,MAAMH,SA3Ib,EAiJnBsB,UAAY,WAEV,OAAO,GAhJP,EAAKC,MAAQ,CACXC,WAAW,GAGb,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKC,cAAgB,EAAKA,cAAcD,KAAnB,gBACrB,EAAKE,mBAAqB,EAAKA,mBAAmBF,KAAxB,gBATT,E,qDAYnB,WACEG,SAASC,iBAAiB,YAAanF,KAAKiF,sB,kCAG9C,WACEC,SAASE,oBAAoB,YAAapF,KAAKiF,sB,2BAGjD,SAAcI,GACZrF,KAAKsF,WAAaD,I,gCAGpB,SAAmBE,GACbvF,KAAKsF,aAAetF,KAAKsF,WAAWE,SAASD,EAAME,SACrDzF,KAAK0F,SAAS,CACZb,WAAW,M,0BAKjB,WACE7E,KAAK0F,UAAS,SAAAC,GAAS,MAAK,CAC1Bd,WAAYc,EAAUd,gB,oBAI1B,WAKE,IAAMxB,EACJ,eAAC,IAAMqB,SAAP,WACE,mBAAGnB,UAAWvD,KAAKwD,MAAMoC,OACzB,qCACC5F,KAAKwD,MAAMH,SAGVwC,EAAe7F,KAAKwD,MAAMqC,aAC5BC,EAAiB9F,KAAKwD,MAAMsC,eAAiB9F,KAAKwD,MAAMsC,eAAiB,GACzE9F,KAAK2E,cACPmB,GAAkB,WACpB,IAAMC,EAAY/F,KAAKwD,MAAMuC,UAGzBrC,EAASmC,EAAgB,IAAMA,EAAgB,GAQnD,OAPK7F,KAAK2E,cACRjB,GAAU,cACVA,GAAU1D,KAAK4E,MAAMC,UAAY,YAAc,IAM/C,qBAAItB,UAAWG,EAAQsC,QAAShG,KAAK8E,aAAcmB,IAAKjG,KAAKgF,cAA7D,UAA6E3B,EAC3E,qBAAKE,UAAS,kBAAavD,KAAK4E,MAAMC,UAAY,UAAY,IAA9D,SACE,oBAAItB,UAAWuC,EAAf,SACGC,EAAUG,KAAI,SAACC,EAAMC,GACpB,IAAIC,EAAUF,EAAKzC,OAASyC,EAAKzC,OAAS,GACtC4C,EAAIH,EAAK9C,MAEb,MAAgB,aAAZgD,GACFC,EAAI,cAEF,cAAC,EAAD,CAEEhD,SAAU6C,EAAK7C,SACfD,MAAOiD,EACP7C,KAAM,KACNE,SAAUwC,EAAKxC,SACfD,OAAQ2C,GALHD,KAQQ,6BAAfD,EAAK9C,QACPiD,EAAI,eAEJ,cAAC,EAAD,CAEEhD,SAAU6C,EAAK7C,SACfD,MAAOiD,EACP7C,KAAI,WAAM0C,EAAK1C,MACfE,SAAUwC,EAAKxC,SACfD,OAAQ2C,GALHD,kB,GA3FKjC,IAAMC,eC6DnBmC,E,kDA7Db,WAAY/C,GAAQ,IAAD,8BACjB,cAAMA,IAEDoB,MAAQ,CACX4B,kBAAmB,GAGrB,EAAKC,YAAc,EAAKA,YAAY1B,KAAjB,gBAPF,E,qDAUnB,WACE/E,KAAKyG,cACLzG,KAAK0G,SAAWC,YAAY3G,KAAKyG,YAAa,O,kCAGhD,WACEG,cAAc5G,KAAK0G,Y,yBAIrB,WACE,IAAIG,EAAc,IAAIC,KAClBC,EAAeF,EAAYG,WAC3BC,EAAiBJ,EAAYK,aACjCD,GAAkBA,EAAiB,GAAK,IAAM,IAAMA,EAKpD,IAAIE,EAAaJ,EAAe,GAAM,KAAO,KAE7CA,EAAiC,KADjCA,EAAgBA,EAAe,GAAMA,EAAe,GAAKA,GACnB,GAAKA,EAE3C,IAYIP,EAZY,CACd,MACA,MACA,MACA,MACA,MACA,MACA,OAEMK,EAAYO,UAGU,IAAML,EAAe,IAAME,EAAiB,IAAME,EAEhFnH,KAAK0F,SAAS,CAACc,kBAAmBA,M,oBAIpC,WACE,OACE,sBAAMjC,GAAG,QAAT,SAAkBvE,KAAK4E,MAAM4B,wB,GAvDfrC,IAAMC,e,oCCApBiD,EAAY,SAAC9C,GAEf,OAAIA,GADe,EAER,GACJ,YAEE+C,EAAW,CACpB,CAAE/C,GAAI,EAAGgD,MAAO,OAAQ9D,KAAM,OAAQJ,MAAO,OAAQC,SAAU,YAAakE,KAAM,KAAM9D,OAAQ,IAChG,CAAEa,GAAI,EAAGgD,MAAO,MAAO9D,KAAM,cAAeJ,MAAO,eAAWC,SAAU,YAAakE,KAAM,KAAM9D,OAAQ2D,EAAU,IACnH,CAAE9C,GAAI,EAAGgD,MAAO,MAAO9D,KAAM,QAASJ,MAAO,QAASC,SAAU,YAAakE,KAAM,KAAM9D,OAAQ2D,EAAU,IAE3G,CAAE9C,GAAI,EAAGgD,MAAO,SAAU9D,KAAM,SAAUJ,MAAO,SAAUC,SAAU,YAAakE,KAAM,KAAM9D,OAAQ2D,EAAU,IAChH,CAAE9C,GAAI,EAAGgD,MAAO,WAAY9D,KAAM,WAAYJ,MAAO,WAAYC,SAAU,YAAakE,KAAM,KAAM9D,OAAQ2D,EAAU,IAEtH,CAAE9C,GAAI,EAAGgD,MAAO,SAAU9D,KAAM,cAAeJ,MAAO,cAAeC,SAAU,YAAakE,KAAM,KAAM9D,OAAQ2D,EAAU,IAG1H,CAAE9C,GAAI,EAAGgD,MAAO,OAAQ9D,KAAM,2BAA4BJ,MAAO,2BAA4BC,SAAU,YAAakE,KAAM,KAAM9D,OAAQ2D,EAAU,IAElJ,CAAE9C,GAAI,EAAGgD,MAAO,OAAQ9D,KAAM,OAAQJ,MAAO,OAAQC,SAAU,YAAakE,KAAM,KAAM9D,OAAQ2D,EAAU,KAIxGI,EAAaH,EAAS,GAIfI,EAAS,SAACH,GAEnB,MAAO,IADED,EAASK,MAAK,SAACC,GAAD,OAAYA,EAAOL,QAAUA,KACpC9D,MAGPoE,EAAe,SAACC,GACzB,IAAMrE,EAAOqE,EAAKC,UAAU,EAAGD,EAAKE,QACpC,GAAa,KAATvE,EACA,OAAOgE,EAAWpE,MACjB,GAAa,UAATI,EACL,MAAO,QAEX,IAAIwE,EAAKX,EAASK,MAAK,SAACC,GAAD,OAAYA,EAAOnE,OAASA,KACnD,OAAKwE,EAEEA,EAAG5E,MADC,ICxBA,SAAS6E,EAAO1E,GAM7B,IAAM2E,EAAiB,WACrB,IAAMC,EAAWC,IAAmB,cAAgB,gBAC9ChF,EAAQgF,IAAmB,GAAKC,IAEtC,OACE,cAAC,EAAD,CACEC,YAAa/E,EAAM+E,YACnBlF,MAAOA,EACPuC,KAAMwC,EACNvC,aAAa,QACbE,UAAWuB,KA2CXe,EAAiB,WACrB,IAAQG,EAAOhF,EAAPgF,GACR,OAAQA,EAAGC,UAAYD,EAAGE,WAatBC,EAAa,WACjB,OACE,oBAAIpF,UAAU,YAAYyC,QAAS,kBAAM4C,EAAa,sCAAtD,SACE,mBAAGrF,UAAU,wBAKbsF,EAAa,WACjB,OACE,oBAAItF,UAAU,YAAd,SACE,cAAC,IAAD,CAAMW,GAAG,SAAT,SAAkB,mBAAGX,UAAU,yBAK/BqF,EAAe,SAACE,GACpB,IAAMC,EAAYC,OAAOC,KAAKH,EAAK,SAAU,uBACzCC,IACFA,EAAUG,OAAS,OAGjBC,EAAiB,WACrB,OACE,6BAAI,sBAAM5E,GAAG,YAAT,0BAIF+D,EAAsB,WAC1B,OACE,cAAC,IAAM5D,SAAP,UACE,sBAAMH,GAAG,YAAT,0BAOA6E,EAAc,WAElB,OACE,oBAAI7F,UAFW,yBAEUyC,QAASxC,EAAM6F,YAAxC,SAEGC,OAKDA,EAAgB,WAEpB,OADoB9F,EAAZ+F,QAEC,cAAC,IAAD,IACF,cAAC,IAAD,KAGT,OAAIlB,IAlFA,yBAAQ9E,UAHU,0BAGlB,UACE,oBAAIA,UAAU,OAAd,SACG4F,MAEH,oBAAI5F,UAAU,QAAd,SACG4E,SA1BL,yBAAQ5E,UAHQ,mBAGhB,UACE,oBAAIA,UAAU,OAAd,SACG4E,MAEH,qBAAI5E,UAAU,QAAd,UACGsF,IACAF,IACD,uBACA,6BAAI,cAAC,EAAD,MACHS,U,oCC5BII,MAxBf,SAAiBhG,GACf,OACE,sBAAKD,UAAU,4BAAf,UACE,sBAAKA,UAAU,UAAf,UACE,qBAAKA,UAAU,qBAAqByC,QAASxC,EAAMiG,aAAnD,SACE,qBAAKlG,UAAU,cAAf,SAA6B,qBAAKA,UAAU,eAG9C,qBAAKA,UAAU,wBAAwByC,QAASxC,EAAMkG,eAAtD,SACE,qBAAKnG,UAAU,iBAAf,SAAgC,qBAAKA,UAAU,eAGjD,qBAAKA,UAAU,oBAAoByC,QAASxC,EAAMmG,gBAAlD,SACE,qBAAKpG,UAAU,aAAf,SAA4B,qBAAKA,UAAU,kBAI/C,qBAAKA,UAAU,oBAAf,SAAoCC,EAAMH,YC2NjCuG,E,kDApOb,WAAYpG,GAAQ,IAAD,uBACjB,cAAMA,IAmCRqG,iBAAmB,SAACC,EAAGC,GACrB,IAAQC,EAASD,EAATC,EAAGC,EAAMF,EAANE,EACX,EAAKvE,SAAS,CAAEwE,mBAAoB,CAAEF,IAAGC,OACrC,EAAKzG,MAAM2G,QAAQ,EAAK3G,MAAM2G,OAAOJ,IAvCxB,EA2CnBK,qBAAuB,SAACN,EAAGC,GACzB,EAAKF,iBAAiBC,EAAGC,GACzB,EAAKM,UA7CY,EAgDnBZ,aAAe,SAACK,GAEd,EAAKpE,SAAS,CACZb,WAAW,IAGT,EAAKrB,MAAM8G,QAAQ,EAAK9G,MAAM8G,SAClCR,EAAES,mBAvDe,EA0DnBb,eAAiB,SAACI,GAChB,EAAKpE,UAAS,SAAAC,GAAS,MAAK,CAC1B6E,aAAc7E,EAAU6E,gBACtB,WACE,EAAKhH,MAAMiH,aAAa,EAAKjH,MAAMiH,iBAGzCX,EAAES,mBAjEe,EAoEnBZ,gBAAkB,SAACG,GACjB,IAAMI,EAAkB,eAAQ,EAAKtF,MAAMsF,oBAC3CA,EAAmBF,EAAI,EAAKU,WAAWV,EACvCE,EAAmBD,EAAI,EAAKS,WAAWT,EACvCU,QAAQC,IAAI,EAAKF,YACjB,EAAKhF,SAAS,CAAEwE,uBAAsB,WAChC,EAAK1G,MAAMqH,aAAa,EAAKrH,MAAMqH,iBAEzCf,EAAES,mBA5Ee,EAiFnBO,QAAU,WACR,EAAKpF,SAAS,CAAEqF,YAAa,EAAKnG,MAAMmG,YAAc,IAClD,EAAKvH,MAAMsH,SAAS,EAAKtH,MAAMsH,WAnFlB,EAsFnBT,OAAS,WACP,EAAK3E,SAAS,CAAEqF,YAAa,EAAKnG,MAAMmG,YAAc,IAClD,EAAKvH,MAAM6G,QAAQ,EAAK7G,MAAM6G,UAxFjB,EA2FnBW,YAAc,WACR,EAAKxH,MAAMyH,eAAe,EAAKzH,MAAMyH,iBA5FxB,EA+FnBC,YAAc,SAACpB,GACT,EAAKtG,MAAMyH,eAAe,EAAKzH,MAAMyH,gBACzCnB,EAAES,mBA9FF,EAAKY,SAAW,GAGhB,MAAiB,EAAK3H,MAAdwG,EAAR,EAAQA,EAAGC,EAAX,EAAWA,EANM,OAOjB,EAAKS,WAAa,CAChBV,EAAGA,EACHC,EAAGA,GAIL,EAAKrF,MAAQ,CACXC,WAAW,EACX2F,aAAa,EACbY,cAAe,CACbpB,EAAG,EAAGC,EAAG,GAEXC,mBAAoB,CAClBF,EAAGA,EAAGC,EAAGA,IAIb,EAAKoB,QAAUlH,IAAMmH,YAxBJ,E,sDA2BnB,SAAmBC,GACjB,GAAIvL,KAAKwD,MAAMwG,IAAMuB,EAAUvB,GAAKhK,KAAKwD,MAAMyG,IAAMsB,EAAUtB,EAAG,CAChE,IAAMuB,EAAKxL,KAAKwD,MAAMwG,EAAIuB,EAAUvB,EAC9ByB,EAAKzL,KAAKwD,MAAMyG,EAAIsB,EAAUtB,EAC9BC,EAAkB,eAAQlK,KAAK4E,MAAMsF,oBAC3ClK,KAAK0F,SAAS,CAAEwE,mBAAoB,CAAEF,EAAGE,EAAmBF,EAAIwB,EAAIvB,EAAGC,EAAmBD,EAAIwB,Q,oBA8ElG,WACE,IAAMC,EAAS,IAAI9H,UACfP,EAAQrD,KAAKwD,MAAMH,MAEf6G,EAAuBlK,KAAK4E,MAA5BsF,mBAKM,KAAV7G,IAEFA,EADqBqI,EAAO7H,gBAAgB7D,KAAKwD,MAAMoC,KAAM,aACxC9B,KAAKC,WAG5B,IAAIE,EAAS,QACc,MAAvBjE,KAAKwD,MAAMmI,UAAqB3L,KAAK4E,MAAMC,UAGtC7E,KAAKwD,MAAMmI,SAClB1H,GAAU,UAEHjE,KAAKwD,MAAMgH,YAAcxK,KAAK4E,MAAM4F,cAC3CvG,GAAU,cANVA,GAAU,UASRjE,KAAK4E,MAAMgH,cACb3H,GAAU,cAGRjE,KAAKwD,MAAMD,YAAWU,GAAU,IAAMjE,KAAKwD,MAAMD,WAGrD,IAAIsI,EAAoB,CACtBC,QAAS9L,KAAK4E,MAAM4F,YAAc,OAAS,QAC3CzK,OAAQC,KAAKwD,MAAMzD,OACnBD,MAAOE,KAAKwD,MAAM1D,OAQhBiM,EAAS/L,KAAKmL,UAAYnL,KAAK4E,MAAM4F,YAAc,EAAIxK,KAAKwD,MAAMzD,QAKhEiM,EAAShM,KAAKwD,MAAMyI,QAAU,eAAiB,KAC/CC,EAAa,CAAEpM,MAAOqM,KAAKC,MAAMpM,KAAKwD,MAAM1D,OAAS,EAAGuM,OAAQrM,KAAKwD,MAAM8I,EAAItM,KAAKwD,MAAM8I,EAAI,GAGpG,OAFIP,IACFG,EAAWnM,OAASoM,KAAKC,MAAML,IAG/B,cAAC,IAAD,CACEQ,KAAK,OACLC,OAAQxM,KAAKwD,MAAMgJ,OAAS,YAAcxM,KAAKwD,MAAMgJ,OAAS,UAC9DC,gBAAiB,CAAEzC,EAAGhK,KAAKwD,MAAMwG,EAAGC,EAAGjK,KAAKwD,MAAMyG,GAClDF,SAAUG,EACVwC,eAAgB,KAChBC,KAAM,CAAC,EAAG,GACVC,MAAO,EACPZ,OAAQA,EACRa,OAAO,2BACP/B,QAAS9K,KAAKgL,YACdb,OAAQnK,KAAK6J,iBACbQ,OAAQrK,KAAK8M,WACbC,QAAS/M,KAAKqL,QAbhB,SAeE,qBAAKpF,IAAKjG,KAAKqL,QAASrF,QAAShG,KAAKkL,YAAa3H,UAAWU,EAAQ+I,MAAOd,EAA7E,SACE,sBAAK3I,UAAWvD,KAAKwD,MAAMwF,OAAS,UAAYhJ,KAAKwD,MAAMwF,OAAS,SAAUgE,MAAOhN,KAAKwD,MAAMyJ,YAAhG,UACE,cAAC,EAAD,CAAS5J,MAAOrD,KAAKwD,MAAMH,MAAOoG,aAAczJ,KAAKyJ,aAAcC,eAAgB1J,KAAK0J,eAAgBC,gBAAiB3J,KAAK2J,kBAC9H,qBAAKpG,UAAU,UAAUyJ,MAAOnB,EAAhC,SACG7L,KAAKwD,MAAM0J,mB,wBASxB,gB,GAlMkB/I,IAAMgJ,WCwKXC,G,yDArKb,WAAY5J,GAAQ,IAAD,8BACjB,cAAMA,IAqBRqG,iBAAmB,SAACC,EAAGC,GACrB,IAAQC,EAASD,EAATC,EAAGC,EAAMF,EAANE,EACX,EAAKvE,SAAS,CAAEwE,mBAAoB,CAAEF,IAAGC,QAxBxB,EA2BnBG,qBAAuB,SAACN,EAAGC,GACzB,EAAKF,iBAAiBC,EAAGC,GACzB,EAAKM,UA7BY,EAiCnBgD,WAAa,WAGX1C,QAAQC,IAAI,OACZ,EAAKlF,SAAS,CAAEiG,UAAU,IACtB,EAAKnI,MAAM6J,YAAY,EAAK7J,MAAM6J,WAAW,EAAK7J,MAAMe,KAtC3C,EAyCnByB,QAAU,WACJ,EAAKxC,MAAM8J,cAAc,EAAK9J,MAAM8J,eACpC,EAAK9J,MAAM+J,gBACb,EAAK/J,MAAM+J,gBACX5C,QAAQC,IAAI,UACZ,EAAKyC,eA9CU,EAkDnB/C,OAAS,WACP,EAAK5E,SAAS,CAAEiG,UAAU,KAnDT,EAiEnB6B,kBAAoB,WAClB,IAAQtD,EAAuB,EAAKtF,MAA5BsF,mBAIJjG,EAAS,cACT,EAAKT,MAAMD,YAAWU,GAAU,IAAM,EAAKT,MAAMD,WAUrD,IAAM0I,EAAU,EAAKzI,MAAMyI,QAAU,eAAiB,KACtD,OACE,sBAAK1I,UAAU,aAAf,UACE,cAAC,IAAD,CACEgJ,KAAK,OACLC,OAAQ,eACRC,gBAAiB,CAAEzC,EAAG,EAAKxG,MAAMwG,EAAGC,EAAG,EAAKzG,MAAMyG,GAClDF,SAAUG,EACVyC,KAAM,CAAC,EAAG,GACVC,MAAO,EACPZ,OAAQC,EACRY,OAAO,2BACP/B,QAAS,EAAKE,YACdb,OAAQ,EAAKN,iBACbQ,OAAQ,EAAKyC,WACbC,QAAS,EAAK1B,QAZhB,SAcE,sBAAKpF,IAAK,EAAKoF,QAASoC,cAAe,EAAKJ,WAAYrH,QAAS,EAAKA,QAASzC,UAAWU,EAAQ+I,MAAO,CAAElN,MAAO,EAAK0D,MAAM1D,MAAQ,KAAMC,OAAQ,EAAKyD,MAAMzD,OAAS,KAAMsM,OAAQ,EAAK7I,MAAMkK,MAAQ,EAAKlK,MAAMkK,MAAQ,GAA3N,UACE,qBAAKnK,UAAU,UAAf,SACG,EAAKC,MAAM0J,UAEd,qBAAK3J,UAAU,eAAf,SAA+B,EAAKC,MAAMH,aAG7C,EAAKG,MAAMmK,cAAgB,KAAO,EAAKC,eAzG3B,EA8GnBC,iBAAmB,WAQjB,OACE,sBAAKtK,UAAU,mBACbyC,QAAS,EAAKqH,WACdL,MAAO,CACLc,IAAK,EAAKtK,MAAMyG,EAChB8D,KAAM,EAAKvK,MAAMwG,EACjBlK,MAAO,EAAK0D,MAAM1D,MAClBC,OAAQ,EAAKyD,MAAMzD,OACnBsM,OAAQ,EAAK7I,MAAMkK,MAAQ,EAAKlK,MAAMkK,MAAQ,GAPlD,UASE,qBAAKnK,UAAU,UAAf,SACG,EAAKC,MAAM0J,UAEd,qBAAK3J,UAAU,eAAf,SAA+B,EAAKC,MAAMH,YA/H9C,EAAKuB,MAAQ,CACX+G,UAAU,EACVzB,mBAAoB,CAAEF,EAAGxG,EAAMwG,EAAGC,EAAGzG,EAAMyG,IAG7C,EAAKoB,QAAUlH,IAAMmH,YATJ,E,sDAYnB,SAAmBC,GACjB,GAAIvL,KAAKwD,MAAMwG,IAAMuB,EAAUvB,GAAKhK,KAAKwD,MAAMyG,IAAMsB,EAAUtB,EAAG,CAChE,IAAMuB,EAAKxL,KAAKwD,MAAMwG,EAAIuB,EAAUvB,EAC9ByB,EAAKzL,KAAKwD,MAAMyG,EAAIsB,EAAUtB,EAC9BC,EAAkB,eAAQlK,KAAK4E,MAAMsF,oBAE3ClK,KAAK0F,SAAS,CAAEwE,mBAAoB,CAAEF,EAAGE,EAAmBF,EAAIwB,EAAIvB,EAAGC,EAAmBD,EAAIwB,Q,oBAsClG,WAKE,OAAOzL,KAAKwN,sB,sBA4Ed,WACE,IAAQ7B,EAAa3L,KAAK4E,MAAlB+G,SAER,OACE,cAAC,EAAD,CAAOpI,UAAU,kBAAkBF,MAAOrD,KAAKwD,MAAMH,MAAOsI,SAAUA,EAAUrB,OAAQtK,KAAKsK,OAAOvF,KAAK/E,MAAOgK,EAAGhK,KAAKwD,MAAMwK,IAAIhE,EAAGC,EAAGjK,KAAKwD,MAAMwK,IAAI/D,EAAGqC,EAAGtM,KAAKwD,MAAMyK,OAASjO,KAAKwD,MAAMyK,OAAS,EAAGnO,MAAOE,KAAKwD,MAAMwK,IAAIE,EAAGnO,OAAQC,KAAKwD,MAAMwK,IAAIG,EAAGjB,QAASlN,KAAKwD,MAAM4K,aAAcnD,cAAejL,KAAKwD,MAAMyH,oB,GAhJnS9G,IAAMgJ,Y,SCejBkB,MArBf,SAAqB1K,EAAU2K,GAC7B,IAAMC,EAAgBC,iBAAO7K,GAG7B8K,qBAAU,WACRF,EAAcG,QAAU/K,IACvB,CAACA,IAGJ8K,qBAAU,WAER,GAAc,OAAVH,EAAJ,CAIA,IAAM/J,EAAKoC,aAAY,kBAAM4H,EAAcG,YAAWJ,GAEtD,OAAO,kBAAM1H,cAAcrC,OAC1B,CAAC+J,KCEC,SAASK,EAAOC,EAAKC,EAAQC,EAAQC,EAASC,GACnD,OAAQJ,EAAMC,IAAWG,EAAUD,IAAYD,EAASD,GAAUE,EAG7D,SAASE,EAAUL,EAAKM,EAAKC,GAClC,OAAIP,EAAMM,EACDA,EACAN,EAAMO,EACNA,EACFP,EAGF,SAASQ,EAAcC,EAAOC,GACnC,IAAIC,EAAOD,EAAID,EACf,OAAOlD,KAAKqD,SAASD,EAAKF,EClBb,SAASI,EAASjM,GAE/B,IAqBA,EAA8BkM,mBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,mBAAS,KAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAkCJ,mBAAS,GAA3C,mBAAOK,EAAP,KAAkBC,EAAlB,KACA,EAAwBN,mBAAS,IAAjC,mBAAOO,EAAP,KAAaC,EAAb,KACA,EAA4BR,mBAzBV,WAMhB,IALA,IAAQlH,EAAOhF,EAAPgF,GAEJ2H,EAAWlB,EAAUzG,EAAG1I,MAAQ,GAAI,GAAI,IAExCsQ,EAAU,GACLhK,EAAI,EAAGA,EAAI+J,EAAU/J,IAAK,CACjC,IACI4D,EAAIoF,EAAc,EAAG5G,EAAG1I,MADpB,IAKJmK,EAAImF,EADG,GAFE5G,EAAG6H,SAFR,GAGgB,IAGpB/D,EAAIlG,EAGRgK,EAAQE,KAAK,CAAEtG,IAAGC,IAAGqC,IAAG4B,EAThB,GASmBvC,UAFZ,EAEsBjI,OADxB,KAGf,OAAO0M,EAO4BG,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KASAhC,qBAAU,WACRjL,EAAMkN,UAAU,KAGhB,IAIFrC,GACE,WACEsC,MAEFnN,EAAMoN,cAAgBf,EAAU,MAMlC,IAAMc,EAAQ,WAEZ,IAAQnI,EAAOhF,EAAPgF,GAERsH,EAAW3D,KAAKgD,IAAIU,EAAU,IAAK,MACnCD,GAAYD,EAAU,GAAKa,EAAOxI,QAClCkI,EAAQ/D,KAAK+C,IAAIe,EAAO,GAAI,MAE5BQ,EACED,EAAOtK,KAAI,SAAC2K,EAAKzK,GACf,GAAIA,IAAMuJ,EAAS,CACjB,IAAImB,EAAC,eAAQD,GAKb,OAJAC,EAAE5C,EAAI+B,EACNa,EAAEnF,UAAW,EACbmF,EAAE9G,EAAIoF,EAAc,EAAG5G,EAAG1I,MAAQmQ,GAClCa,EAAE7G,EAAImF,EAAc,GAAI5G,EAAG6H,SAAWJ,EAAO,IACtCa,EAET,OAAOD,MAIX,IAAIE,EAAMpC,EAAOsB,EAAM,GAAI,IAAK,EAAG,GACnCc,EAAM9B,EAAU8B,EAAK,EAAG,GACxBvN,EAAMkN,UAAUK,IAwBZC,EAAU,SAACzM,GACfyL,EAAaD,EAAY,IAsDrBkB,EAAgB,SAACC,EAAQzI,EAAU0I,GACvC,OAEED,EAAOhL,KAAI,SAAC7C,EAAO+C,GACjB,OAAIqC,EAEA,sBAAKlF,UAAU,cAAsByC,QAAS,SAACT,GAAD,OAAWyL,KAAzD,UACE,qBAAKzN,UAAU,eACf,qBAAKA,UAAU,eAAf,SAA+BF,MAFC+C,GAOpC,sBAAK7C,UAAU,cAAsBkK,cAAe,SAAClI,GAAD,OAAWyL,KAA/D,UACE,qBAAKzN,UAAU,eAEf,qBAAKA,UAAU,eAAf,SAA+BF,MAHC+C,OAclCoC,EAAOhF,EAAPgF,GAER,OACE,cAAC,IAAM9D,SAAP,UACE,sBAAKnB,UAAU,kBAAf,UAGIiN,EAAOtK,KAAI,SAAC2K,EAAKzK,GAEf,OACE,cAAC,EAAD,CACE6G,YAAa,CAAEmE,WAAY,qBAC3BlE,QACE,qBAAK3J,UAAU,SAGjB+G,OAAQ,kBAtHN/F,EAsHmB6B,OApHjCqK,EACED,EAAOtK,KAAI,SAAC2K,EAAKzK,GACf,GAAIA,IAAM7B,EAAI,CACZ,IAAIuM,EAAC,eAAQD,GAEb,OADAC,EAAEnF,UAAW,EACNmF,EAET,OAAOD,MATE,IAACtM,GAuHFoH,SAAUkF,EAAIlF,SACdM,SAAS,EACTnM,MAAO+Q,EAAI3C,EACXnO,OAAQ8Q,EAAI3C,EACZ3K,UAAU,OACVyG,EAAG6G,EAAI7G,EACPC,EAAG4G,EAAI5G,EACPqC,EAAGlG,IAAMuJ,EAAUa,EAAOxI,OAAS5B,GAT9BA,MAeb,cAAC,EAAD,CACEuH,eAAe,EACfN,WAAY,kBAvHAjH,EAuHiB,EAtHnCuE,QAAQC,IAAIxE,QACZ4J,EAAaD,EAAY,GAFR,IAAC3J,GAwHZ4D,EAAGxB,EAAG6I,SAAW,IACjBpH,EAAG,IACHnK,MAAO,GACPC,OAAQ,GACRiO,IAtCE,CAAEhE,EAAG,IAAKC,EAAG,IAAKiE,EAAG,IAAKC,EAAG,KAuC/B9K,MAAO,OACP6J,QACE,qBAAKoE,IAAI,cAAcC,IAAKvI,OAAOwI,IAAM,uBAAwB1R,MAAO,GAAIC,OAAQ,KAEtFqO,aACE,qBAAK7K,UAAU,OAAf,oBAzHQ,WAIhB,IAHA,IAAQiF,EAAOhF,EAAPgF,GAEJiJ,EAAS,GACJrL,EAAI,EAAGA,EAAI2J,EAAW3J,IAC7BqL,EAAOrL,GAAKA,EAGd,OACE,qBAAK7C,UAAU,eAAf,SACGkO,EAAOvL,KAAI,SAACiL,EAAO/K,GAClB,IAAIsL,EAAU,GACVC,EAAS,IACTnJ,EAAG6I,SAAW,MAChBK,EAAU,EACVC,EAAS,IAGX,IAEI3H,EAAI,EAMR,OAJEA,EAJcmC,KAAKC,MAAM+E,EAAQO,GAGnB,IAAM,EAChBC,EAASR,EAAQO,EAAU,GAE3BC,EAAmB,GAAVD,EAAeP,EAAQO,EAAU,GAG9C,cAAC,EAAD,CACElF,OAAQ,OAGRxC,EAAGA,EACHC,EAAG,IAAc,GAARkH,EACTrR,MAAO,IACPC,OAAQ,IACRsD,MAAO,GACP4J,YAAa,CAAEmE,WAAY,SAC3BlE,QACE,qBAAK3J,UAAU,iBAAf,SACG0N,EAAc,CAAC,WAAa7K,EAAI,IAAKoC,EAAGC,SAAU0I,MAVlDA,QAgGVS,Q,yECjOHC,E,kDAEL,WAAa3O,GAA0B,IAAD,EAAf4O,EAAe,uDAAL,GAAK,qBAErC,cAAO5O,IAEF6O,KAAO,QAEZ,IAAMC,EAAK,eAELC,OAA4B/Q,IAAlB4Q,EAAQG,MAAwB,IAAIC,QAAOJ,EAAQG,OAAU,IAAIC,QAAO,UAClFC,EAAeL,EAAQK,cAAgB,IACvCC,EAAgBN,EAAQM,eAAiB,IACzCC,EAAWP,EAAQO,UAAY,EAC/BC,EAAgBR,EAAQQ,eAAiB,IAAIC,UAAS,EAAG,GACzDC,EAAYV,EAAQU,WAAa,IACjCC,EAAeX,EAAQW,cAAgB,IACvC7F,EAAQkF,EAAQlF,OAAS,EACzB8F,EAASZ,EAAQY,QAAUb,EAAMc,YACjCC,OAAgC1R,IAArB4Q,EAAQc,SAAyBd,EAAQc,SAAWC,iBAE/DC,EAAgB,IAAIC,gBAEpBC,EAAUlB,EAAQkB,cAAW9R,EAC7B+R,EAAanB,EAAQmB,YAAcH,EAAcI,KAAMC,kDACvDC,EAAatB,EAAQsB,YAAcN,EAAcI,KAAMC,kDAEvDE,EAAQ,IACRC,EAAoB,GAARD,EACZE,EAAgB,IAAIC,UACpBC,EAAQ,IAAIlN,QAIlB,QAAmBrF,IAAdwS,IAGJ,OADA/I,QAAQgJ,MAAO,wDACf,eAID,QAAmBzS,IAAd0S,IAGJ,OADAjJ,QAAQgJ,MAAO,wDACf,eAID,IAAME,EAAY,IAAIH,IAAWxQ,EAAU,CAC1CiP,aAAcA,EACdC,cAAeA,EACfC,SAAUA,EACVO,SAAUA,IAGLkB,EAAY,IAAIF,IAAW1Q,EAAU,CAC1CiP,aAAcA,EACdC,cAAeA,EACfC,SAAUA,EACVO,SAAUA,IA6DX,SAASmB,EAAqBxR,GAE7BgR,EAAcS,IACb,GAAK,EAAK,EAAK,GACf,EAAK,GAAK,EAAK,GACf,EAAK,EAAK,GAAK,GACf,EAAK,EAAK,EAAK,GAGhBT,EAAcU,SAAU1R,EAAO2R,kBAC/BX,EAAcU,SAAU1R,EAAO4R,oBAC/BZ,EAAcU,SAAUjC,EAAMoC,aAI/B,SAASC,IAER,IAAMC,EAAQb,EAAMc,WACdC,EAASxC,EAAMyC,SAASjT,SAAf,OAEfgT,EAAO/S,MAAMuI,GAAKwI,EAAY8B,EAC9BE,EAAO/S,MAAMwI,EAAIuK,EAAO/S,MAAMuI,EAAIsJ,EAM7BkB,EAAO/S,MAAMuI,GAAKqJ,GAEtBmB,EAAO/S,MAAMuI,EAAI,EACjBwK,EAAO/S,MAAMwI,EAAIqJ,GAENkB,EAAO/S,MAAMwI,GAAKoJ,IAE7BmB,EAAO/S,MAAMwI,EAAIuK,EAAO/S,MAAMwI,EAAIoJ,GAxJC,OA4DrCQ,EAAUa,kBAAmB,EAC7BZ,EAAUY,kBAAmB,EAI7B,EAAKD,SAAW,IAAIlT,iBAAgB,CACnCC,SAAUmT,gBAAcC,MAAO,CAC9BC,cAAW,IACXnC,EAAOlR,WAERG,aAAc+Q,EAAO/Q,aACrBE,eAAgB6Q,EAAO7Q,eACvBiT,aAAa,EACbC,KAAK,SAGW7T,IAAZ8R,GAEJ,EAAKyB,SAASO,QAAQC,YAAc,GACpC,EAAKR,SAASjT,SAAd,SAAuC,CACtCuQ,KAAM,IACNtQ,MAAOuR,IAKR,EAAKyB,SAASjT,SAAd,cAA4C,CAC3CuQ,KAAM,KACNtQ,MAAO6Q,GAOTW,EAAWiC,MAAQjC,EAAWkC,MAAQC,iBACtChC,EAAW8B,MAAQ9B,EAAW+B,MAAQC,iBAEtC,EAAKX,SAASjT,SAAd,eAA2CC,MAAQoS,EAAUpR,kBAAkBf,QAC/E,EAAK+S,SAASjT,SAAd,eAA2CC,MAAQqS,EAAUrR,kBAAkBf,QAC/E,EAAK+S,SAASjT,SAAd,YAAwCC,MAAQwR,EAChD,EAAKwB,SAASjT,SAAd,YAAwCC,MAAQ2R,EAIhD,EAAKqB,SAASjT,SAAd,MAAkCC,MAAQwQ,EAC1C,EAAKwC,SAASjT,SAAd,aAAyCC,MAAQgR,EACjD,EAAKgC,SAASjT,SAAd,cAA0CC,MAAQ8R,EAIlD,EAAKkB,SAASjT,SAAd,OAAmCC,MAAMuI,EAAI,EAC7C,EAAKyK,SAASjT,SAAd,OAAmCC,MAAMwI,EAAIqJ,EAC7C,EAAKmB,SAASjT,SAAd,OAAmCC,MAAM6K,EAAIgH,EAC7C,EAAKmB,SAASjT,SAAd,OAAmCC,MAAMyM,EAAItB,EA8C7C,EAAKyI,eAAiB,SAAWxV,EAAUyC,EAAOC,GAEjDwR,EAAqBxR,GACrB8R,IAEArC,EAAMsD,SAAU,EAEhBzB,EAAUO,YAAYmB,KAAMvD,EAAMoC,aAClCN,EAAUM,YAAYmB,KAAMvD,EAAMoC,aAElCP,EAAUwB,eAAgBxV,EAAUyC,EAAOC,GAC3CuR,EAAUuB,eAAgBxV,EAAUyC,EAAOC,GAE3CyP,EAAMsD,SAAU,GA7KoB,E,UAFnBvT,QAuLpB8P,EAAM2D,UAAUC,SAAU,EAE1B5D,EAAMc,YAAc,CAEnBnR,SAAU,CAET,MAAS,CACRuQ,KAAM,IACNtQ,MAAO,MAGR,aAAgB,CACfsQ,KAAM,IACNtQ,MAAO,GAGR,eAAkB,CACjBsQ,KAAM,IACNtQ,MAAO,MAGR,eAAkB,CACjBsQ,KAAM,IACNtQ,MAAO,MAGR,YAAe,CACdsQ,KAAM,IACNtQ,MAAO,MAGR,YAAe,CACdsQ,KAAM,IACNtQ,MAAO,MAGR,cAAiB,CAChBsQ,KAAM,KACNtQ,MAAO,MAGR,OAAU,CACTsQ,KAAM,KACNtQ,MAAO,IAAIiU,YAKb/T,aAAY,ynBA4BZE,eAAc,21E,ICvNA8T,E,4JAjDb,WACE,IAII3L,EAAImC,KAAKC,MAAMpM,KAAKwD,MAAMoS,IAC1B3L,EAAIkC,KAAKC,MAAMpM,KAAKwD,MAAMqS,IAC1BC,EAAM,CACRhW,MAAOE,KAAKwD,MAAM1D,MAClBC,OAAQC,KAAKwD,MAAMzD,OARN,GASbgO,KAAM/D,EACN8D,IAAK7D,GAIHvG,EAAS,oBAQZ,OAPG1D,KAAKwD,MAAMuS,cAAarS,GAAU,WAQpC,qBAAKH,UAAWG,EAAQsJ,MAAO8I,EAA/B,SACE,sBAAKvS,UAAU,SAASyJ,MAAOhN,KAAKwD,MAAMyJ,YAA1C,UACE,cAAC,EAAD,CAAS5J,MAAOrD,KAAKwD,MAAMH,MAAOoG,aAAczJ,KAAKyJ,aAAcC,eAAgB1J,KAAK0J,eAAgBC,gBAAiB3J,KAAK2J,kBAE9H,qBAAKpG,UAAU,UAAf,SACGvD,KAAKwD,MAAM0J,iB,4BAStB,c,0BAIA,gB,GAxDwB/I,IAAMgJ,WC6GjB6I,E,kDA7Gb,WAAYxS,GAAQ,IAAD,8BACjB,cAAMA,IA8BRyS,UAAY,WAUV,IATA,IAMMC,EAAgB,GAChBC,EAAgB,GAEb/P,EAAI,EAAGA,EADJ,EACaA,IAAK,CAC5B,IAEIoF,EAXO,IAWFpF,EAA2B,GAAd+F,KAAKqD,SACvBpJ,GAHMgQ,MAGI5K,EAZH,KAOD,EAKgBpF,GAA4B,GAAd+F,KAAKqD,UAG7C,IAEI6G,EAAK7K,EAAG,IACR8K,EAjBO,GAcFlQ,EAA2B,GAAd+F,KAAKqD,SAI3B0G,EAAc9P,GAAKiQ,EACnBF,EAAc/P,GAAKkQ,EAErB,EAAK5Q,SAAS,CAACwQ,gBAAeC,gBAAeI,cAlBjC,KArCK,EA0DnBC,YAAc,WACZ,IAAMC,EAAO,EAAK7R,MAAM8R,YAAY,IACpC,EAAiC,EAAK9R,MAA/B+R,EAAP,EAAOA,SAAP,EAAiBJ,aACjB,GAAII,EAAWF,EACb,EAAK/Q,UAAS,SAAAC,GAAS,MAAK,CAC1B4Q,aAAcpK,KAAKqD,SAAS,GAC5BmH,SAAU,EACVC,gBAAiBzK,KAAKC,MAAM,EAAED,KAAKqD,SAAS,WAG3C,CAEH,EAAK9J,SAAS,CAACiR,SAAU,EAAK/R,MAAM+R,SADxB,MArEG,EA0EnBE,QAAU,SAACC,GACT,IAAMC,EAAO,EAAKC,gBAAgBF,GAClC,OACE,cAAC,EAAD,CAAazT,MAAM,GAAG6J,QAClB,qBAAK3J,UAAW,SAAW,EAAKqB,MAAM2R,aAAa,WAAW,MAEhEzW,MAAO,GAAkBmN,YAAa,CAACmE,WAAY,eAAgBrR,OAAQ,GAAI6V,GAAImB,EAAK/M,EAAG6L,GAAIkB,EAAK9M,GAAlF6M,IAhFL,EAqFnBE,gBAAkB,SAACF,GACjB,MAA6F,EAAKlS,MAA3FgS,EAAP,EAAOA,gBAAiBD,EAAxB,EAAwBA,SAAUJ,EAAlC,EAAkCA,aAAcL,EAAhD,EAAgDA,cAAeC,EAA/D,EAA+DA,cAAeO,EAA9E,EAA8EA,YACxEK,EAAO,GAgBb,OAfID,EAAQF,EACNL,GACFQ,EAAK/M,EAAI2M,EAAWT,EAAcY,GAClCC,EAAK9M,EAAIkM,EAAcW,GAAO,GAAG3K,KAAK8K,IAAIF,EAAK/M,EAAE,KACjD+M,EAAK9M,EAAIkC,KAAKC,MAAM2K,EAAK9M,KAEzB8M,EAAK/M,EAAK0M,EAAY,KAAQC,EAAWT,EAAcY,IACvDC,EAAK9M,EAAIkM,EAAcW,GAAO,GAAG3K,KAAK8K,IAAIF,EAAK/M,EAAE,KACjD+M,EAAK9M,EAAIkC,KAAKC,MAAM2K,EAAK9M,KAI3B8M,EAAK/M,GAAK,IACV+M,EAAK9M,GAAK,KAEL8M,GApGP,EAAKnS,MAAQ,CACXsR,cAAe,GACfC,cAAe,GACfS,gBAAkB,EAClBD,SAAU,EACVJ,cAAc,GARC,E,qDAYnB,WACEvW,KAAKiW,YACLjW,KAAK0G,SAAWC,YAAY3G,KAAKwW,YAAa,M,kCAGhD,WACE5P,cAAc5G,KAAK0G,Y,oBAGrB,WAAU,IAAD,OACP,OACE,qBAAKnD,UAAU,QAAf,SACGvD,KAAK4E,MAAMsR,cAAchQ,KAAI,SAACgR,EAAKJ,GAClC,OAAQ,EAAKD,QAAQC,Y,GA3BX3S,IAAMgJ,WCmBtBgK,EAAiBC,EAAQ,IAARA,CAA0CzX,GAAO,GASvD,SAAS0X,EAAW7T,GAE/B,IAAIlB,EAAiBgV,EAAO/U,EAAQ1C,EAAU0X,EAAQC,EAClDC,EAAOC,EACLC,EAAQ,GACRC,EAAU,GAEZC,EAAO,GAGHrP,EAAOhF,EAAPgF,GACFsP,EAAU,GACZC,EAAI,GACJvP,EAAG6I,UAAY,OACf0G,EAAI,KACR,IAAMC,EAAM,IAAMD,EACZE,EAAM,IAAWF,EAMvB,GALAD,EAAQ5J,EAAI8J,EACZF,EAAQ3J,EAAI8J,EACZH,EAAQ9N,EAAgC,KAA3BxB,EAAG6I,SAAWyG,EAAQ5J,GACnC4J,EAAQ7N,EAAqC,IAAhCzB,EAAG6H,SAAWyH,EAAQ3J,EAAI,IAEnC3F,EAAGE,WAAaF,EAAGC,SACnB,GAAuB,aAAnBD,EAAG0P,YAA4B,CAC/B,IAAIC,EAAQ3P,EAAG1I,MAAQ,GACnBqY,EAAQH,GACRF,EAAQ5J,EAAIiK,EACZL,EAAQ3J,EAAI2J,EAAQ3J,GAAK2J,EAAQ5J,EAAI8J,GACrCF,EAAQ7N,EAAI,GACZ6N,EAAQ9N,EAAI,IAGZ8N,EAAQ9N,GAAKxB,EAAG1I,MAAQgY,EAAQ5J,EAAI,GAAK,EAG7C4J,EAAQ7N,EAAIzB,EAAGzI,OAAS,EAAgB,GAAZ+X,EAAQ3J,MAEnC,CACc3F,EAAGzI,OAAS,IAEd,IACT+X,EAAQ3J,GAAK3F,EAAGzI,OAAS,IACzB+X,EAAQ5J,GAAK1F,EAAGzI,OAAS,IACzB+X,EAAQ7N,EAAI,GACZ6N,EAAQ9N,EAAI,IASxByE,qBACI,WAQI,OAJAzF,OAAO7D,iBAAiB,SAAUiT,GAClCC,IACAC,IAEO,WAEHtP,OAAO5D,oBAAoB,SAAUgT,GACrCpP,OAAOuP,qBAAqBf,MAOpC,IAKJ,IAAMY,EAAqB,WACvB,IAAMtY,EAAQkJ,OAAOwP,WACfzY,EAASiJ,OAAOyP,YACtB5Y,EAASqC,QAAQpC,EAAOC,GACxBwX,EAAOrV,QAAQpC,EAAOC,GACtBwC,EAAOmW,OAAS5Y,EAAQC,EACxBwC,EAAOoW,0BAGLN,EAAa,WAMf/V,EAAQ,IAAI3C,SACZ4C,EAAS,IAAI5C,oBAAwB,GAAIqJ,OAAOwP,WAAaxP,OAAOyP,YAAa,EAAG,MAE7E1O,SAASiK,IAAI,EAAG,IAAY,IACnCzR,EAAOqW,OAAO,IAAIjZ,UAAc,EAAG,GAAY,KAE/CE,EAAW,IAAIF,gBAAoB,CAAEkZ,OAAO,EAAMC,WAAW,KACpD5W,QAAQ8G,OAAOwP,WAAYxP,OAAOyP,aAG3CnB,EAAMyB,YAAYlZ,EAASmZ,aAG3BzB,EAAS,IAAIJ,EAAetX,IACrBqC,QAAQ8G,OAAOwP,WAAYxP,OAAOyP,aAOzC,IAAIQ,EAAe,IAAItZ,eAAmB,UAC1C2C,EAAML,IAAIgX,GACVC,GAAU,GAAI,EAAG,GACjBA,EAAS,GAAI,IAAK,GAGlBC,IACAC,IACAC,IACAC,IACAC,KAIEjB,EAAqB,SAArBA,IAKFf,EAAOlV,OAAOC,EAAOC,GACrBiV,EAAYxO,OAAOwQ,sBAAsBlB,GAEzC,IAAK,IAAIlS,EAAI,EAAGA,EAAIuR,EAAM3P,OAAQ5B,IAAK,CACnC,IAAIqT,EAAOrT,EAAI,IAAM,EAAI,GAAK,EAC9BuR,EAAMvR,GAAGsT,SAASzP,GAAK,KAAOwP,EAGlC,IAAK,IAAIrT,EAAI,EAAGA,EAAIwR,EAAQ5P,OAAQ5B,IAChCwR,EAAQxR,GAAG2D,SAASE,EAAI,GAAKkC,KAAK8K,IAAI,IAAInQ,KAAS,IAAM8Q,EAAQxR,GAAG2D,SAASC,EAAI,KAInFsP,EAAW,WACb,IAAMK,EAAgB,IAAIha,gBAAoB,KAAc,MAEtDia,EAGK,IAHLA,EAIK,KAGXnC,EAAQ,IAAI5F,EAAM8H,EAAe,CAC7B1H,MAPO,UAQPrF,MAPO,EAQP0F,cAAe,IAAI3S,UAAcia,EAAcA,GAC/CzH,aAAc,KACdC,cAAe,QAGbrI,SAASE,EAAI,EACnBwN,EAAMiC,SAAS1P,GAAgB,GAAZmC,KAAK0N,GASxBvX,EAAML,IAAIwV,IAGRyB,EAAW,WAAa,IAAD,EACnBjH,EAAQ,SACR6H,EAAY,EACZC,EAAQ,IAAIpa,mBAAuBsS,EAAO6H,IAChD,EAAAC,EAAMhQ,UAASiK,IAAf,mBACA1R,EAAML,IAAI8X,IAGRX,EAAY,WACd,IACM1X,GADS,IAAI/B,qBACIuT,KAAK,CACxBlK,OAAOwI,IAAM,mCACbxI,OAAOwI,IAAM,mCACbxI,OAAOwI,IAAM,mCACbxI,OAAOwI,IAAM,mCACbxI,OAAOwI,IAAM,mCACbxI,OAAOwI,IAAM,qCAEjBlP,EAAM8O,WAAa1P,GAGjB6X,EAAW,WAEb,IAAIS,GAAe,IAAIra,iBAAsBuT,KAAKlK,OAAOwI,IAAM,0BAC/DwI,EAAa9E,MAAQ8E,EAAa7E,MAAQxV,iBAC1Cqa,EAAaC,OAAOjG,IAAI,GAAM,IAC9B0D,EAAgB,IAAI/X,oBAAwB,CAAEuG,IAAK8T,EAAcE,KAAMva,aACvE,IAAIwa,EAAgB,IAAIxa,gBAAoB,IAAM,KAAM,GAAI,IACxDyM,EAAQ,IAAIzM,OAAWwa,EAAezC,GAC1CtL,EAAMrC,SAASE,GAAK,EACpBmC,EAAMsN,SAAS1P,EAAImC,KAAK0N,GAAK,EAC7BzN,EAAMrC,SAASuC,GAAM,IACrBhK,EAAML,IAAImK,IAIR+M,EAAW,WACb,IAAIiB,EAAYpR,OAAOwI,IAAM,oBACzB6I,EAAQ,gBACRC,EAAa,SAAUC,GACvB,GAAIA,EAAIC,iBACkBD,EAAIE,OAASF,EAAIG,OAI3CC,EAAU,aACVC,EAAU,IAAIjb,iBAClBib,EAAQC,WAAW,UAAW,IAAIC,KAClC,IAAIC,IAAUH,GACTI,QAAQZ,GACRlH,KAAKmH,EAAQ,QAAQ,SAAUY,GAE5BA,EAAUC,UAEV,IAAIC,IAAUP,GACTQ,aAAaH,GACbD,QAAQZ,GACRlH,KAAKmH,EAAQ,QAAQ,SAAUgB,GAC5B,IAAIC,EAAY,CAAC,CAAEtR,GAAI,EAAGC,EAAG,EAAGqC,GAAI,GAAK,CAAEtC,EAAG,EAAGC,EAAG,EAAGqC,GAAI,GAAK,CAAEtC,EAAG,EAAGC,EAAG,EAAGqC,GAAI,IAAM,CAAEtC,GAAI,EAAGC,EAAG,EAAGqC,GAAI,KAE3G+O,EAAK3B,SAASzP,EAAI,EAClBoR,EAAKzO,MAAMoH,IAvOhB,OAwOKqH,EAAKtR,SAASC,EAxOnB,EAwOuBsR,EAAU,GAAGtR,EAC/BqR,EAAKtR,SAASE,EAzOnB,EAyOuBqR,EAAU,GAAGrR,EAC/BoR,EAAKtR,SAASuC,EA1OnB,EA0OuBgP,EAAU,GAAGhP,EAC/BqL,EAAMrH,KAAK+K,GACX/Y,EAAML,IAAIoZ,GAEV,IAAK,IAAIjV,EAAI,EAAGA,EAAIkV,EAAUtT,OAAQ5B,IAAK,CACvC,IAAImP,EAAO8F,EAAKE,QAChBhG,EAAKmE,SAASzP,EAAc,IAAVkC,KAAK0N,GACvBtE,EAAKxL,SAASC,EAjPvB,EAiP2BsR,EAAUlV,GAAG4D,EAC/BuL,EAAKxL,SAASuC,EAlPvB,EAkP2BgP,EAAUlV,GAAGkG,EAC/BqL,EAAMrH,KAAKiF,GACXjT,EAAML,IAAIsT,MAGf+E,EAAYK,OAOzBtB,EAAa,WAEf,IAAIe,EAAYpR,OAAOwI,IAAM,sBACzB6I,EAAQ,UACRC,EAAa,SAAUC,GACvB,GAAIA,EAAIC,iBACkBD,EAAIE,OAASF,EAAIG,OAI3CC,EAAU,SAAUhH,KAGpBiH,EAAU,IAAIjb,iBAClBib,EAAQC,WAAW,UAAW,IAAIC,KAClC,IAAIC,IAAUH,GACTI,QAAQZ,GACRlH,KAAKmH,EAAQ,QAAQ,SAAUY,GAE5BA,EAAUC,UAEV,IAAIC,IAAUP,GACTQ,aAAaH,GACbD,QAAQZ,GACRlH,KAAKmH,EAAQ,QAAQ,SAAUmB,GA8C5B,IA7CA,IAAIC,EAAgB,CAChB,GACA,CAAE,GAAM,EAAG,IAAO,CAAE,EAAK,GAAI,EAAK,EAAG,EAAK,KAAO,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAC/E,CAAE,GAAM,EAAG,IAAO,CAAE,EAAK,GAAI,EAAK,EAAG,EAAK,IAAM,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAC9E,CAAE,GAAM,EAAG,IAAO,CAAE,EAAK,GAAI,EAAK,EAAG,EAAK,KAAO,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAC/E,CAAE,GAAM,EAAG,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,KAAO,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAC9E,CAAE,GAAM,EAAG,IAAO,CAAE,GAAM,GAAI,EAAK,EAAG,EAAK,IAAM,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAC/E,CAAE,GAAM,EAAG,IAAO,CAAE,GAAM,GAAI,EAAK,EAAG,EAAK,IAAM,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAC/E,CAAE,GAAM,EAAG,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,KAAO,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAC9E,CAAE,GAAM,EAAG,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAAM,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAC7E,CAAE,GAAM,EAAG,IAAO,CAAE,GAAM,GAAI,EAAK,EAAG,GAAM,IAAM,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAChF,CAAE,GAAM,EAAG,IAAO,CAAE,GAAM,GAAI,EAAK,EAAG,EAAK,IAAM,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAG/E,CAAE,GAAM,EAAG,IAAO,CAAE,EAAK,GAAI,EAAK,EAAG,GAAM,KAAO,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAChF,CAAE,GAAM,EAAG,IAAO,CAAE,EAAK,GAAI,EAAK,EAAG,GAAM,IAAM,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAC/E,CAAE,GAAM,EAAG,IAAO,CAAE,EAAK,GAAI,EAAK,EAAG,GAAM,KAAO,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAChF,CAAE,GAAM,EAAG,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,GAAM,KAAO,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAC/E,CAAE,GAAM,EAAG,IAAO,CAAE,GAAM,GAAI,EAAK,EAAG,GAAM,IAAM,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAChF,CAAE,GAAM,EAAG,IAAO,CAAE,GAAM,GAAI,EAAK,EAAG,GAAM,IAAM,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAChF,CAAE,GAAM,EAAG,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,GAAM,KAAO,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAI/E,CAAE,GAAM,EAAG,IAAO,CAAE,EAAK,IAAK,EAAK,EAAG,EAAK,IAAM,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAC/E,CAAE,GAAM,EAAG,IAAO,CAAE,EAAK,IAAK,EAAK,EAAG,EAAK,IAAM,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAC/E,CAAE,GAAM,EAAG,IAAO,CAAE,EAAK,IAAK,EAAK,EAAG,EAAK,GAAK,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAC9E,CAAE,GAAM,EAAG,IAAO,CAAE,EAAK,IAAK,EAAK,EAAG,GAAM,IAAM,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAIhF,CAAE,GAAM,EAAG,IAAO,CAAE,GAAM,IAAK,EAAK,EAAG,EAAK,IAAM,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAChF,CAAE,GAAM,EAAG,IAAO,CAAE,GAAM,IAAK,EAAK,EAAG,EAAK,IAAM,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAChF,CAAE,GAAM,EAAG,IAAO,CAAE,GAAM,IAAK,EAAK,EAAG,EAAK,GAAK,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,IAC/E,CAAE,GAAM,EAAG,IAAO,CAAE,GAAM,IAAK,EAAK,EAAG,GAAM,IAAM,IAAO,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,KAW5ErV,EAAI,EAAGA,EAAIqV,EAAczT,OAAQ5B,IAAK,CAC3C,IAAImP,EAAOiG,EAAOD,QAClBhG,EAAKmE,SAASzP,EAAIyR,IAAcvP,KAAK0N,GAAK,EAC1CtE,EAAKmE,SAAS1P,EAAImC,KAAK0N,GACvBtE,EAAKmE,SAASpN,EAAyB,GAAdoP,IAAL,GACpBnG,EAAKxL,SAASE,EAAI,EAElBsL,EAAKxL,SAASC,EAAIyR,EAAcrV,GAAG8Q,IAAIlN,EAEvCuL,EAAKxL,SAASuC,EAAImP,EAAcrV,GAAG8Q,IAAI5K,EAEvCsL,EAAQtH,KAAKiF,GACbjT,EAAML,IAAIsT,MAIf+E,EAAYK,OAOzBe,EAAY,WACd,IAAI1R,EAAuB,IAAnBmC,KAAK8K,IAAIY,KACjB,OAAO7N,EAAImC,KAAKC,MAAMpC,IAI1B,OACI,sBAAKzG,UAAU,oBAAf,UAEI,qBAAKA,UAAU,cAAc0C,IAAK,SAAAA,GAAG,OAAKqR,EAAQrR,KAClD,cAAC,EAAD,CAAO5C,MAzTD,GAyTe6J,QACjB,wBAAQ7J,MAAM,cAAckO,IApWzB,iOAoWsCzR,MAAOgY,EAAQ5J,EAAGnO,OAAQ+X,EAAQ3J,EAAGwN,YAAY,IAAIC,gBAAgB,GAAGC,cAAY,QAAQC,SAAS,MAE9Ihc,MAAOgY,EAAQ5J,EAAGnO,OAAQ+X,EAAQ3J,EAAGnE,EAAG8N,EAAQ9N,EAAGC,EAAG6N,EAAQ7N,IAElE,cAAC,EAAD,O,gCC7YS8R,G,WACnB,WAAYC,EAAO1Z,GAqJrB,IAAuC0L,EArJV,oBAEzBhO,KAAKic,WAAa,GAClBjc,KAAKkc,gBAAoC,IAAlBlc,KAAKic,WAC5Bjc,KAAKmc,WAAa,IAAIxc,OACpB,IAAIA,WAAe,IAAK,IAAK,IAC7B,IAAIA,UAAc,GAAI,GAAI,KAG5BK,KAAKsC,MAAQA,EACbtC,KAAKgc,MAAQA,EAEbhc,KAAKoc,iBAyI8BpO,EAzIkBhO,KAAKmc,WA0IrD,IAAIxc,UACT0c,GAAcrO,EAAIkB,IAAIlF,EAAGgE,EAAImB,IAAInF,GACjCqS,GAAcrO,EAAIkB,IAAIjF,EAAG+D,EAAImB,IAAIlF,GACjCoS,GAAcrO,EAAIkB,IAAI5C,EAAG0B,EAAImB,IAAI7C,KA5IjCtM,KAAKsb,UAAY,CAACtb,KAAKoc,iBACvBpc,KAAKsc,SAAW,IAAI3c,WAEpBK,KAAKsC,MAAML,IAAIjC,KAAKsc,UACpBtc,KAAKuc,aACLvc,KAAKwc,MAAMR,EAAOhc,KAAKoc,gBAAiBpc,MACxCA,KAAKyc,cAAczc,KAAKoc,iB,6DAG1B,SAA0BM,EAAWC,EAASlI,GAC5C,IAAImI,GAAc,IAAIjd,WAAgBkd,WAAWF,EAASD,GACtDI,EAAQ,IAAInd,cACdid,EAAYrB,QAAQwB,YACpBL,GAEExZ,EAAW,IAAIvD,mBACjBK,KAAKic,WACLjc,KAAKic,WACLW,EAAY5U,SACZ,GACA,GACA,GAEEgV,EAAO,IAAIrd,OAAWuD,EAAUuR,GAEpCuI,EAAKtD,SAASuD,kBAAkBH,EAAMI,YACtCF,EAAKjT,SAASoT,WAAWT,EAAWE,EAAYQ,eAAe,KAC/DJ,EAAKK,eAELrd,KAAKsc,SAASra,IAAI+a,K,2BAGpB,SAAcjT,GACZ,IAAIuT,EAAO,IAAI3d,OACb,IAAIA,iBAAqBK,KAAKkc,gBAAiB,EAAG,GAClDlc,KAAKyU,UAEP6I,EAAKvT,SAASwL,KAAKxL,GACnB/J,KAAKsc,SAASra,IAAIqb,K,4BAGpB,SAAeC,EAAcC,EAAYC,GACvC,IAAIC,EAAS,IAAI/d,OACf,IAAIA,iBAAqBK,KAAKic,WAAY,EAAG,GAC7Cjc,KAAKyU,UAEPiJ,EAAO3T,SAASwL,KAAKgI,GACrBvd,KAAKsc,SAASra,IAAIyb,K,wBAGpB,WACE,IAAMC,EAAS3U,OAAOwI,IAAM,0BACxBoM,GAAc,IAAIje,iBAAsBuT,KAAOyK,GAGnD,GAFAC,EAAY1I,MAAQ0I,EAAYzI,MAAQxV,iBACxCie,EAAY3D,OAAOjG,IAAI,GAAI,IACvB4J,EACF5d,KAAKyU,SAAW,IAAI9U,sBAA0B,CAC5CuG,IAAK0X,QAEF,CACL,IACIC,EAAW,IAAIle,QADP,OAC0Byd,eAAe,IACrDpd,KAAKyU,SAAW,IAAI9U,oBAAwB,CAC1Cme,SAAU,SACV7L,MAJU,MAKV4L,SAAUA,EACVE,UAAW,S,oBAKjB,WACE,GAAI/d,KAAKsb,UAAUtT,OAAS,EAC1B,IAAIgW,EAAehe,KAAKsb,UAAUtb,KAAKsb,UAAUtT,OAAS,GACtDiW,GAAsB,IAAIte,WAAgBkd,WAC5C7c,KAAKoc,gBACL4B,GAGJ,GAAI7R,KAAKqD,OAAO,IAAMyO,EACpB,IAAIC,EAAkBD,OAElBC,EAAkB,IAAIve,WACVwe,GAAW,SAAWA,GAAW,CAAC,GAAK,IAEzD,IAAIC,GAAc,IAAIze,WAAgBwd,WACpCnd,KAAKoc,gBACL8B,GAMGle,KAAKmc,WAAWkC,cAAcD,KAG/Bpe,KAAKse,MAAMF,KAGfpe,KAAKwc,MAAM4B,EAAape,MAIpBie,IAAwBA,EAAoBM,OAAOL,IACrDle,KAAKyc,cAAczc,KAAKoc,iBAI1Bpc,KAAKwe,0BAA0Bxe,KAAKoc,gBAAiBgC,EAAape,KAAKyU,UAGvEzU,KAAKoc,gBAAkBgC,EACvBpe,KAAKsb,UAAUhL,KAAK8N,O,mBAGtB,SAAMrU,EAAUtI,GACdzB,KAAKgc,MAAM,IAAMjS,EAASC,EAAI,KAAOD,EAASE,EAAI,KAAOF,EAASuC,EAAI,KAAO7K,I,mBAG/E,SAAMsI,EAAUtI,GACd,OAAOzB,KAAKgc,MAAM,IAAMjS,EAASC,EAAI,KAAOD,EAASE,EAAI,KAAOF,EAASuC,EAAI,S,KAOjF,SAAS6R,GAAWM,GAClB,OAAOA,EAAOtS,KAAKC,MAAMD,KAAKqD,SAAWiP,EAAOzW,SAKlD,SAASqU,GAAcqC,EAAIC,GACzB,OAAOxS,KAAKyS,MAJd,SAAgBF,EAAIC,GAClB,OAAOxS,KAAKqD,UAAYmP,EAAKD,GAAMA,EAGjBlP,CAAOkP,EAAIC,IClI/B,IAAIxH,GAAiBC,EAAQ,IAARA,CAA0CzX,GAAO,GA6SvDkf,IC3TXC,GAEAC,GAEAC,GACAC,GDsTWJ,GAzSf,WAGE,IAEIvc,EAAOzC,EAAU0C,EAAQgV,EAAQ2H,EAAU1H,EAC3CF,EAHJ,EAA6B5H,oBAAS,GAAtC,mBAAOyP,EAAP,KAAkBC,EAAlB,KAIIC,EAAQ,GACRC,EAAQ,GACRtD,EAAQ,GACRuD,EAAcpb,IAAMmH,YACpBkU,EAAWrb,IAAMmH,YAGrBmD,qBACE,WAEE,IAAM/H,EAAWC,YAAY8Y,EAAO,KAMpC,OALAzW,OAAO7D,iBAAiB,SAAUiT,GAElCC,IACAC,IAEO,WAELtP,OAAO5D,oBAAoB,SAAUgT,GACrCpP,OAAOuP,qBAAqBf,GAC5B0H,EAASjc,UACT2D,cAAcF,MAKlB,IAIF,IAAM0R,EAAqB,WACzB,IAAMtY,EAAQkJ,OAAOwP,WACfzY,EAASiJ,OAAOyP,YACtB5Y,EAASqC,QAAQpC,EAAOC,GACxBwC,EAAOmW,OAAS5Y,EAAQC,EACxBwC,EAAOoW,0BAGHN,EAAa,WACjB/V,EAAQ,IAAI3C,QACZ4C,EAAS,IAAI5C,oBAAwB,GAAIqJ,OAAOwP,WAAaxP,OAAOyP,YAAa,EAAG,MACpF5Y,EAAW,IAAIF,gBAAoB,CAAEkZ,OAAO,EAAMC,WAAW,KACpD5W,QAAQ8G,OAAOwP,WAAYxP,OAAOyP,aAG3CnB,EAAMyB,YAAYlZ,EAASmZ,aAG3BzB,EAAS,IAAIJ,GAAetX,IACrBqC,QAAQ8G,OAAOwP,WAAYxP,OAAOyP,cAEzCyG,EAAW,IAAIQ,KAAcnd,EAAQ1C,EAASmZ,aACrC2G,YAAa,EAItB,IAAI1G,EAAe,IAAItZ,eAAmB,UAC1C2C,EAAML,IAAIgX,GACVC,GAAU,GAAI,EAAG,GACjBA,EAAS,GAAI,IAAK,GAElB0G,EAAcJ,EAAS9Q,QAAS,KAAM,KAAM,IAAK,CAAC,EAAG,GAAI,GAAI,CAAC,EAAG,EAAG,GAAI,IACxEkR,EAAcL,EAAY7Q,QAAS,KAAM,KAAM,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,GAAIvC,KAAK0N,GAAK,EAAG,GAAI,IAEvFwF,EAAQ,GACRC,EAAQ,GACRtD,EAAQ,GAER6D,IACAC,IACAC,KAGIzH,EAAqB,SAArBA,IAEJ,IAAK,IAAIlS,EAAI,EAAGA,EAAIiZ,EAAMrX,OAAQ5B,IAChCiZ,EAAMjZ,GAAGxD,SAEX,GAAqB,IAAjByc,EAAMrX,OACR,IAAK,IAAI5B,EAAI,EAAGA,EAAI,GAAK,EAAI4Z,EAAO,KAAU5Z,IAC5CiZ,EAAM/O,KAAK,IAAIyL,GAAKC,EAAO1Z,IAG/B,IAAK,IAAI8D,EAAI,EAAGA,EAAI,EAAGA,IACjBkZ,EAAMlZ,KAAIkZ,EAAMlZ,GAAG2D,SAASE,GAAK,GAAS,EAAJ7D,EAAQ+F,KAAK8K,KAAI,IAAInQ,MAAOmZ,UAAY,MAGhFf,GAAUA,EAAStc,SACvB2U,EAAOlV,OAAOC,EAAOC,GACrBiV,EAAYxO,OAAOwQ,sBAAsBlB,IAKrCmH,EAAQ,WAEZ5f,EAASiD,QACT,IAAK,IAAIsD,EAAI,EAAGA,EAAIiZ,EAAMrX,OAAQ5B,IAChC9D,EAAM4d,OAAOb,EAAMjZ,GAAGkW,UAExB+C,EAAQ,GACRrD,EAAQ,GACR+D,KAGI7G,EAAW,WAAa,IAAD,EACrBjH,EAAQ,SACR6H,EAAY,EACZC,EAAQ,IAAIpa,mBAAuBsS,EAAO6H,IAChD,EAAAC,EAAMhQ,UAASiK,IAAf,mBACA1R,EAAML,IAAI8X,IAGN6F,EAAgB,SAACO,EAAOC,EAAIC,EAAIC,EAAKpJ,EAAKqJ,EAAKC,GAAY,IAAD,YAC1DC,EAAW,IAAI9gB,eAAmBwgB,GACtCC,GAAME,EACND,GAAMC,EAENG,EAAS7f,UAAYjB,eACrB8gB,EAAS3f,UAAYnB,eACrB8gB,EAASzf,OAASrB,YAClB,IAAIuD,EAAW,IAAIvD,gBAAoBygB,EAAIC,EAAI,GAC3C5L,EAAW,IAAI9U,oBAAwB,CAAEsS,MAAO,SAAUiI,KAAMva,aAAkBuG,IAAKua,IACvFC,EAAQ,IAAI/gB,OAAWuD,EAAUuR,IACrC,EAAAiM,EAAM3W,UAASiK,IAAf,oBAAsBkD,KACtB,EAAAwJ,EAAMhH,UAAS1F,IAAf,oBAAsBuM,IACtBje,EAAML,IAAIye,GAGNxd,EAAW,IAAIvD,cAAkBygB,EAAIC,EAAIG,GACzC/L,EAAW,IAAI9U,oBAAwB,CAAEsS,MAAO,MAAU0O,QAAS,GAAI7L,aAAa,EAAMoF,KAAMva,eADpG,IAEIihB,EAAO,IAAIjhB,OAAWuD,EAAUuR,IACpC,EAAAmM,EAAK7W,UAASiK,IAAd,oBAAqBkD,KACrB,EAAA0J,EAAKlH,UAAS1F,IAAd,oBAAqBuM,IACrBje,EAAML,IAAI2e,GAEN1d,EAAW,IAAIvD,oBAAwBygB,EAAIC,EAAIG,GAAnD,IACIK,EAAQ,IAAIlhB,gBAAoBuD,GAChC4d,EAAO,IAAInhB,eAAmBkhB,EAAO,IAAIlhB,oBAAwB,CAAEsS,MAAO,MAAU8O,UAAW,OACnG,EAAAD,EAAK/W,UAASiK,IAAd,oBAAqBkD,KACrB,EAAA4J,EAAKpH,UAAS1F,IAAd,oBAAqBuM,IACrBje,EAAML,IAAI6e,IAGNjB,EAAe,WACnB,IAAM/W,EAAME,OAAOwI,IAAM,6BACrBwP,GAAO,IAAIrhB,iBAAsBuT,KAAKpK,GAC1CkY,EAAK9L,MAAQvV,iBACbqhB,EAAK7L,MAAQxV,iBACbqhB,EAAK/G,OAAOjG,IAAI,EAAG,GACnB,IAAI9Q,EAAW,IAAIvD,gBAAoB,IAAK,IAAK,GAC7C8U,EAAW,IAAI9U,oBAAwB,CAAEsS,MAAO,SAAUiI,KAAMva,aAAkBuG,IAAK8a,IAC/E,IAAIrhB,OAAWuD,EAAUuR,GAC/B1K,SAASiK,IAAI,EAAG,GAAI,IAE1B1R,EAAM8O,WAAa4P,GAGflB,EAAW,WAEf,IAAI1F,EAAYpR,OAAOwI,IAAM,qBAEzB8I,EAAa,SAAUC,GACzB,GAAIA,EAAIC,iBACgBD,EAAIE,OAASF,EAAIG,OAIvCC,EAAU,aACVC,EAAU,IAAIjb,iBAClBib,EAAQC,WAAW,UAAW,IAAIC,KAClC,IAAIC,IAAUH,GACXI,QAAQZ,GACRlH,KAAKmH,aAAgB,SAAUY,GAE9BA,EAAUC,UAEV,IAAIC,IAAUP,GACXQ,aAAaH,GACbD,QAAQZ,GACRlH,KAAKmH,aAAgB,SAAU4G,GAC9BA,EAAKvH,SAAS1F,IAAI,EAAG7H,KAAK0N,GAAI,GAC9BoH,EAAKlX,SAASiK,KAAK,IAAK,IAAK,IAC7BiN,EAAKrU,MAAMoH,IAAI,EAAG,EAAG,GACrBsL,EAAMhP,KAAK2Q,GAEX,IAAIC,EAAUD,EAAK1F,QACnB2F,EAAQnX,SAASiK,IAAI,GAAI,GAAI,GAC7BiN,EAAKvH,SAAS1F,IAAI,EAAG,EAAG,GACxBsL,EAAMhP,KAAK4Q,GAEX,IAAIC,EAAWF,EAAK1F,QACpB4F,EAASzH,SAAS1F,IAAI,GAAI7H,KAAK0N,GAAK,EAAG,GACvCyF,EAAMhP,KAAK6Q,GACX7e,EAAML,IAAIgf,GACV3e,EAAML,IAAIif,GACV5e,EAAML,IAAIkf,KAET7G,EAAYK,OAOjBoF,EAAO,WAEX,GAAIZ,GAAaa,EAAO,IAGtBzd,EAAOwH,SAASiK,IAAI,EAAG,EAAG,IAC1BoL,GAAQ,OACH,CAGL,IAAIgC,EAAS,IAAIzhB,UAAc,GAAI,EAAG,GAElC4M,EAAO,IAAI5M,UAAc6P,GAAQ,EAAG,GAAIA,GAAQ,EAAG,GAAIA,GAAQ,EAAG,IAClE6R,EAAQlV,KAAK0N,GAAK,EAClByH,GAAS,IAAI3hB,WAAgB4hB,iBAAiBhV,EAAM8U,GAExDD,EAAOI,aAAaF,GACpB/e,EAAOwH,SAASwL,KAAK6L,GAGvB,IAAIK,EAAS,IAAI9hB,UAAc,EAAG,EAAG,GACrC4C,EAAOqW,OAAO6I,GAEdvC,EAAStc,UAIL4M,EAAS,SAACkP,EAAIC,GAClB,OAAOxS,KAAKqD,UAAYmP,EAAKD,GAAMA,GAG/BsB,EAAS,SAACve,GACd,OAAO0K,KAAKqD,SAAW/N,GAInBigB,EAAS1Y,OAAOwI,IAAM,sBAC5B,OACE,sBAAKjO,UAAU,oBAAf,UACE,qBAAKA,UAAU,cAAc0C,IAAK,SAAAA,GAAG,OAAKqR,EAAQrR,KAClD,wBACE0b,aAAW,EACXC,YAAY,YACZ3b,IAAKuZ,EACLqC,UAAQ,EACRC,OAAK,EACLC,MAAI,EACJxe,UAAU,MAPZ,UAQE,wBAAQgO,IAAKmQ,EAAQ3P,KAAK,cAR5B,gDAWA,wBACE4P,aAAW,EACXC,YAAY,YACZ3b,IAAKsZ,EACLsC,UAAQ,EACRC,OAAK,EACLC,MAAI,EACJxe,UAAU,MAPZ,UAQE,wBAAQgO,IAAKvI,OAAOwI,IAAM,yBAA0BO,KAAK,cAR3D,oD,iDE/ReiQ,G,WAEjB,WAAYhY,EAAGC,EAAGgY,GAAK,oBACnBjiB,KAAKkiB,EAAI,GACTliB,KAAKgK,EAAIA,EACThK,KAAKiK,EAAIA,EACTjK,KAAKiiB,GAAKA,E,2CAGd,SAAQzW,EAAIC,GACRzL,KAAKiiB,GAAGE,OAAO,KACfniB,KAAKiiB,GAAGG,aAAa,GACrBpiB,KAAKiiB,GAAGI,SAEJriB,KAAKsiB,UAAU9W,EAAIC,IACnBzL,KAAKiiB,GAAGM,KAAK,KAEjBviB,KAAKiiB,GAAGO,QAAQxiB,KAAKgK,EAAGhK,KAAKiK,EAAGjK,KAAKkiB,K,uBAGzC,SAAU1W,EAAIC,GAIV,OAFQzL,KAAKiiB,GAAGQ,KAAKjX,EAAGxL,KAAKgK,EAAGyB,EAAGzL,KAAKiK,EAAGjK,KAAKiiB,GAAGS,OAAQ1iB,KAAKiiB,GAAGU,QAExD3iB,KAAKkiB,EAAE,M,KCtBLU,G,kDAEjB,WAAYre,EAAIyF,EAAGC,EAAGiE,EAAGC,EAAG8T,EAAI/U,GAAU,IAAD,6BAErC,cAAM3I,EAAIyF,EAAGC,EAAGiE,EAAGC,EAAG8T,EAAI/U,IAErB2V,OAASZ,EAAGa,UAAUha,+FAJU,E,kDASzC,WACI9I,KAAK+iB,gBACL,2E,2BAGJ,WAEI,IAAIC,EAAiB,KAAThjB,KAAKkO,EACb+U,EAAiB,IAATjjB,KAAKmO,EAIjBnO,KAAKiiB,GAAG3R,OACRtQ,KAAKiiB,GAAGiB,UAAU,EAAGljB,KAAKmjB,MAC1BnjB,KAAKiiB,GAAGmB,MAAMpjB,KAAK6iB,OAAQ,EAJf,EAIyBG,EAAOC,GAC5CjjB,KAAKiiB,GAAGpR,U,cCxBd,WAAYtM,EAAIyF,EAAGC,EAAGiE,EAAGC,EAAG8T,EAAI/U,GAAU,oBACxClN,KAAKiiB,GAAKA,EACVjiB,KAAKgK,EAAIA,EACThK,KAAKiK,EAAIA,EACTjK,KAAKkO,EAAIA,EACTlO,KAAKmO,EAAIA,EACTnO,KAAKuE,GAAKA,EACVvE,KAAKqjB,MAAQrjB,KAAKgK,EAClBhK,KAAKsjB,MAAQtjB,KAAKiK,EAClBjK,KAAKujB,QAAU,EACfvjB,KAAKwjB,QAAU,EACfxjB,KAAKyjB,SAAW,GAEhBzjB,KAAK0jB,UAAY,CAAE1Z,EAAG,EAAGC,EAAG,GAC5BjK,KAAK2jB,gBAAkB,CAAE3Z,EAAG,EAAGC,EAAG,GAElCjK,KAAK4jB,UAAW,EAChB5jB,KAAK6jB,QAAS,EAEd7jB,KAAK8jB,QAAS,EACd9jB,KAAK+jB,WAAY,EAEjB/jB,KAAKmjB,KAAO,GACZnjB,KAAKgkB,KAAO,GAKZhkB,KAAKikB,YAAc,IAAIjC,GAHd,GACA,GAE6BC,GACtCjiB,KAAKkkB,UAAY,IAAIlC,GAAOmC,GAHnB,GAGgClC,GACzCjiB,KAAKokB,UAAY,IAAIpC,GAAOmC,GAJnB,GAIoClC,GAE7CjiB,KAAKkN,QAAUA,E,4CAKjB,WACElN,KAAKqkB,KAAOrkB,KAAKiiB,GAAGqC,eAAetkB,KAAKkO,EAAGlO,KAAKmO,EAAInO,KAAKmjB,MACzDnjB,KAAKqkB,KAAKjT,WAAW,GACrBpR,KAAKqkB,KAAK9B,KAAK,KACfviB,KAAKqkB,KAAKE,WAEVvkB,KAAKqkB,KAAK7B,QAAQxiB,KAAKkO,EAAI,EAAGlO,KAAKmO,EAAI,EAAG,GAAI,IAC1CnO,KAAKkN,SAAWlN,KAAKkN,QAAQpN,MAAQ,GAEvCE,KAAKkN,QAAQmX,KAAKrkB,KAAKqkB,Q,qBAI3B,WACErkB,KAAKiiB,GAAG3R,OACRtQ,KAAKiiB,GAAGiB,UAAUljB,KAAKgK,EAAGhK,KAAKiK,GAC1BjK,KAAK8jB,QACH9jB,KAAK+jB,WACR/jB,KAAKwkB,iBAETxkB,KAAKiiB,GAAGpR,Q,4BAGV,WACE7Q,KAAKiiB,GAAG3R,OACRtQ,KAAKiiB,GAAGiB,UAAUljB,KAAKgK,EAAGhK,KAAKiK,GAC1BjK,KAAK8jB,SACR9jB,KAAKiiB,GAAGM,KAAK,GACbviB,KAAKiiB,GAAGsC,WACHvkB,KAAK+jB,WAAW/jB,KAAKiiB,GAAGwC,KAAK,EAAG,GAAIzkB,KAAKkO,EAAIlO,KAAKmjB,KAAO,IAC9DnjB,KAAKiiB,GAAGwC,KAAK,EAAG,EAAGzkB,KAAKkO,EAAGlO,KAAKmjB,KAAMnjB,KAAKgkB,MAQ3ChkB,KAAKikB,YAAYnY,QAAQ9L,KAAKgK,EAAGhK,KAAKiK,GACtCjK,KAAKkkB,UAAUpY,QAAQ9L,KAAKgK,EAAGhK,KAAKiK,GACpCjK,KAAKokB,UAAUtY,QAAQ9L,KAAKgK,EAAGhK,KAAKiK,IAEtCjK,KAAKiiB,GAAGpR,Q,4BAGV,WAEE7Q,KAAKiiB,GAAG3R,OAERtQ,KAAKiiB,GAAGiB,UAAU,EAAGljB,KAAKmjB,MAC1BnjB,KAAKiiB,GAAGmB,MAAMpjB,KAAKkN,QAAS,EAAG,EAAGlN,KAAKkO,EAAGlO,KAAKmO,GAC/CnO,KAAKiiB,GAAGpR,MACR7Q,KAAK0kB,iB,8BAIP,SAAiBC,GACf3kB,KAAKiiB,GAAGM,KAAKoC,GACb3kB,KAAKiiB,GAAGE,OAAO,GACfniB,KAAKiiB,GAAGG,aAAa,GACrBpiB,KAAKiiB,GAAGwC,KAAK,EAAG,EAAGzkB,KAAKkO,EAAGlO,KAAKmO,EAAInO,KAAKmjB,KAAMnjB,KAAKgkB,Q,0BAGtD,WACEhkB,KAAKiiB,GAAGI,SACRriB,KAAKiiB,GAAGE,OAAO,GACfniB,KAAKiiB,GAAGG,aAAa,GACrBpiB,KAAKiiB,GAAGwC,KAAK,EAAG,EAAGzkB,KAAKkO,EAAGlO,KAAKmO,EAAInO,KAAKmjB,KAAMnjB,KAAKgkB,Q,0BAGtD,WACE,GAAIhkB,KAAK8jB,OACP,OAAO,EAEQ9jB,KAAKiiB,GAAGS,OAAW1iB,KAAKiiB,GAAGU,OAG5C,OAAI3iB,KAAKikB,YAAY3B,UAAUtiB,KAAKgK,EAAGhK,KAAKiK,IAC1CjK,KAAK4kB,eACE,GAEA5kB,KAAKkkB,UAAU5B,UAAUtiB,KAAKgK,EAAGhK,KAAKiK,IAC7CjK,KAAK6kB,iBACE,KAEA7kB,KAAKokB,UAAU9B,UAAUtiB,KAAKgK,EAAGhK,KAAKiK,KAC7CjK,KAAK8kB,kBACE,K,wBAKX,WACE,QAAI9kB,KAAK+kB,kBAGA/kB,KAAKglB,kB,2BAMhB,WACE,OAAIhlB,KAAK8jB,WAKL9jB,KAAKilB,gBAGPjlB,KAAK4jB,UAAW,EAChB5jB,KAAK0jB,UAAU1Z,EAAIhK,KAAKiiB,GAAGS,OAC3B1iB,KAAK0jB,UAAUzZ,EAAIjK,KAAKiiB,GAAGU,OAC3B3iB,KAAK2jB,gBAAgB3Z,EAAIhK,KAAKgK,EAC9BhK,KAAK2jB,gBAAgB1Z,EAAIjK,KAAKiK,GACvB,M,yBAKX,WACE,IAAMib,EAAKllB,KAAKiiB,GAAGS,OACbyC,EAAKnlB,KAAKiiB,GAAGU,OAEnB,OAAOuC,EAAKllB,KAAKgK,GAAKkb,EAAKllB,KAAKgK,EAAIhK,KAAKkO,GAAKiX,EAAKnlB,KAAKiK,GAAKkb,EAAKnlB,KAAKiK,EAAIjK,KAAKmjB,O,qBASlF,WACEnjB,KAAK4jB,UAAW,I,oBAGlB,WACM5jB,KAAK4jB,WACP5jB,KAAKujB,QAAUvjB,KAAKiiB,GAAGS,OAAS1iB,KAAK0jB,UAAU1Z,EAC/ChK,KAAKwjB,QAAUxjB,KAAKiiB,GAAGU,OAAS3iB,KAAK0jB,UAAUzZ,EAE/CjK,KAAKgK,EAAIhK,KAAK2jB,gBAAgB3Z,EAAIhK,KAAKujB,QACvCvjB,KAAKiK,EAAIjK,KAAK2jB,gBAAgB1Z,EAAIjK,KAAKwjB,W,+BAI3C,SAAkB4B,GAChBplB,KAAK6jB,QAAU7jB,KAAK6jB,OACpB7jB,KAAK4kB,YAAYQ,K,wBAGnB,WACEplB,KAAK8jB,QAAS,EACd9jB,KAAK+jB,WAAY,EACjB/jB,KAAK6jB,QAAS,I,yBAGhB,WAEE7jB,KAAK8jB,QAAS,I,4BAGhB,WACE9jB,KAAKgK,EAAIhK,KAAKqjB,MACdrjB,KAAKiK,EAAIjK,KAAKsjB,MACdtjB,KAAKujB,QAAU,EACfvjB,KAAKwjB,QAAU,I,yBAGjB,WAA6B,IAAjB4B,EAAgB,uDAAVplB,KAAKolB,IACrBplB,KAAKgK,EAAIhK,KAAKqjB,MACdrjB,KAAKiK,EAAIjK,KAAKsjB,MACdtjB,KAAK6jB,QAAS,EACd7jB,KAAK4kB,YAAYQ,GACjBA,EAAIrb,SAAS/J,KAAKgK,EAAGhK,KAAKiK,GAC1Bmb,EAAIpY,MAAM,UAAW,SACrBhN,KAAK+jB,WAAY,EACjB/jB,KAAKqlB,eAAerlB,KAAKkN,SACzBlN,KAAKkC,QAAQ,O,2BAGf,WACElC,KAAK+jB,WAAa/jB,KAAK+jB,c,MC/NNuB,G,kDAEjB,WAAY/gB,EAAIyF,EAAGC,EAAGiE,EAAGC,EAAG8T,EAAIsD,GAAM,IAAD,8BAEjC,cAAMhhB,EAAIyF,EAAGC,EAAGiE,EAAGC,EAAG8T,IACjBsD,IAAMA,EAHsB,E,0CAOrC,SAAOvb,EAAGC,GACN,GAAKjK,KAAK4jB,SAMN,qEANgB,CAChB,IAAM4B,EAAM,IACZxlB,KAAKgK,EAAIhK,KAAKgK,EAAIwb,EAAMxb,GAAK,EAAIwb,GACjCxlB,KAAKiK,EAAIjK,KAAKiK,EAAIub,EAAMvb,GAAK,EAAIub,M,4BAMzC,WACIxlB,KAAK+iB,gBACL/iB,KAAKylB,iBAAiBzlB,KAAKiiB,GAAGhQ,MAAM,MAEpCjS,KAAKiiB,GAAG3R,OACRtQ,KAAKiiB,GAAGiB,UAAU,GAAIljB,KAAKmjB,KAAO,IAClCnjB,KAAKiiB,GAAGyD,KAAK1lB,KAAKulB,IAAK,EAAG,EAAGvlB,KAAKkO,EAAI,GAAIlO,KAAKmO,EAAI,IACnDnO,KAAKiiB,GAAGpR,MAER7Q,KAAK0kB,mB,GA5B8B9B,ICItB+C,GAEjB,WAAYphB,EAAIqhB,EAAcC,EAAM5D,GAAK,IAAD,gCAuDxCrf,OAAS,SAACgjB,EAAc3D,GAQpB,EAAK/K,IAAIlN,EAAI,EAAKyX,OAAOzX,EAAI,EAAK8b,QAAU3Z,KAAK4Z,IAAI,EAAK1E,OAC1D,EAAKnK,IAAIjN,EAAI,EAAKwX,OAAOxX,EAAI,EAAK6b,QAAU3Z,KAAK8K,IAAI,EAAKoK,OAC1D,EAAKA,OAAS,EAAK2E,SAEnB,IAAMC,EAAQ,IACd,EAAKxE,OAAOzX,EAAI,EAAKyX,OAAOzX,EAAIic,GAASL,EAAa5b,EAAI,MAAQ,EAAIic,GACtE,EAAKxE,OAAOxX,EAAI,EAAKwX,OAAOxX,EAAIgc,GAASL,EAAa3b,EAAI,MAAQ,EAAIgc,GAElE,EAAKb,KACL,EAAKA,IAAIxiB,OAAO,EAAKsU,IAAIlN,EAAG,EAAKkN,IAAIjN,IAxEL,KA2ExCic,cAAgB,SAACjE,GACb,EAAK/K,IAAIlN,EAAImC,KAAKqD,SAAWyS,EAAGvL,YAChC,EAAKQ,IAAIjN,EAAIkC,KAAKqD,SAAWyS,EAAGkE,aAC5B,EAAKf,KACL,EAAKA,IAAIxiB,OAAO,EAAKsU,IAAIlN,EAAG,EAAKkN,IAAIjN,IA/EL,KAkFxC6B,QAAU,SAACmW,GAGP,GAAI,EAAKmD,IACL,EAAKA,IAAItZ,UACT,EAAKsZ,IAAIgB,qBAER,CACDnE,EAAGM,KAAK,IAAK,EAAG,GAEhBN,EAAG3R,OACH2R,EAAGiB,UAAU,EAAKhM,IAAIlN,EAAG,EAAKkN,IAAIjN,GAElCgY,EAAGmB,MAAM,EAAKiD,IAAK,EAAG,EAAG,EAAKnY,EAAG,EAAKC,GAEtC8T,EAAGM,KAAK,KACRN,EAAGE,OAAO,GACVF,EAAGqE,SAAS,IACZ,IAAIC,EAAM,EAAKljB,MACf4e,EAAGyD,KAAKa,EAAK,EAAKrY,EAAI,EAAI+T,EAAGuE,UAAUD,GAAO,EAAG,EAAKpY,EAAI,IAC1D8T,EAAGpR,QAtG6B,KA2GxC4V,WAAa,SAACxE,GACN,EAAKmD,KACL,EAAKA,IAAIqB,cA7GuB,KAgHxCC,QAAU,WACF,EAAKtB,KACL,EAAKA,IAAIsB,WAlHuB,KAqHxCC,mBAAqB,SAAC1E,KArHkB,KA4HxCK,UAAY,SAACL,GACT,OAAOA,EAAGS,OAAS,EAAKxL,IAAIlN,GAAKiY,EAAGS,OAAS,EAAKxL,IAAIlN,EAAI,EAAKkE,GAAK+T,EAAGU,OAAS,EAAKzL,IAAIjN,GAAKgY,EAAGU,OAAS,EAAKzL,IAAIjN,EAAI,EAAKkE,GA5H5HnO,KAAKkX,IAAM,CACPlN,EAAGmC,KAAKqD,SAAWyS,EAAGvL,YACtBzM,EAAGkC,KAAKqD,SAAWyS,EAAGkE,cAG1BnmB,KAAKyhB,OAAS,CAAEzX,EAAG4b,EAAa5b,EAAI,IAAKC,EAAG2b,EAAa3b,EAAI,KAE7DjK,KAAKqhB,MAAQlV,KAAKqD,SAAWyS,EAAGpI,GAAK,EAKrC7Z,KAAK8lB,QAAU7D,EAAGQ,KAAKmD,EAAa5b,EAAG4b,EAAa3b,EAAGjK,KAAKkX,IAAIlN,EAAGhK,KAAKkX,IAAIjN,GAC5EjK,KAAK8lB,QAAU7D,EAAGhT,UAAUjP,KAAK8lB,QAAS,IAAsB,GAAjB7D,EAAGvL,aAClD1W,KAAKgmB,SAAW/D,EAAG/b,IAAIlG,KAAK8lB,QAAS,EAAG7D,EAAGvL,YAAc,EAAG,IAAK,MAEjE,IAAMwL,EAAI/V,KAAKqD,SA6Bf,GAzBAxP,KAAKqD,MAAQ4e,EAAGzS,OAFD,CAAC,MAAM,YAAa,WAAY,WAAY,IAAK,SAAU,eAAgB,SAAS,UAAW,QAAS,OAAQ,QAAS,UAAU,qBAAqB,WAAY,SAIxK,IAAPjL,GACAvE,KAAKqD,MAAQ,OACbrD,KAAKqmB,IAAMpE,EAAGa,UAAU,+EAMnBZ,EAAI,IACTliB,KAAKqmB,IAAMR,EAAK,GAChB7lB,KAAKqD,OAAS,QAET6e,EAAI,EACTliB,KAAKqmB,IAAMR,EAAK,IAIhB7lB,KAAKkX,IAAIlN,EAAIhK,KAAKyhB,OAAOzX,EAAIhK,KAAK8lB,QAAU3Z,KAAK4Z,IAAI/lB,KAAKqhB,OAC1DrhB,KAAKkX,IAAIjN,EAAIjK,KAAKyhB,OAAOxX,EAAIjK,KAAK8lB,QAAU3Z,KAAK8K,IAAIjX,KAAKqhB,OAC1DrhB,KAAKolB,IAAM,IAAIE,GAAc,EAAGtlB,KAAKkX,IAAIlN,EAAGhK,KAAKkX,IAAIjN,EAAG,IAAK,IAAKgY,EAAI,wDAIrEjiB,KAAKolB,IAAK,CACX,IACMa,EADK,GACQjmB,KAAKqmB,IAAIvmB,MAC5BE,KAAKkO,EAAIlO,KAAKqmB,IAAIvmB,MAAQmmB,EAC1BjmB,KAAKmO,EAAInO,KAAKqmB,IAAItmB,OAASkmB,ICxDlBW,G,kDAEjB,WAAYriB,EAAIyF,EAAGC,EAAGiE,EAAGC,EAAG8T,GAAK,IAAD,8BAE5B,cAAM1d,EAAIyF,EAAGC,EAAGiE,EAAGC,EAAG8T,IACjB/U,QAAU+U,EAAGa,UAAU3P,mDAHA,E,0CAMhC,SAAO3H,EAAIC,GACHzL,KAAK4jB,SACL,kEAGA5jB,KAAKgK,GAAKwB,EACVxL,KAAKiK,GAAKwB,K,4BAIlB,WAIIzL,KAAKiiB,GAAG3R,OACRtQ,KAAKiiB,GAAGiB,UAAUljB,KAAKkO,EAAE,EAAGlO,KAAKmjB,KAAKnjB,KAAKmO,EAAE,GAC7CnO,KAAKiiB,GAAG4E,QAAQ7mB,KAAKiiB,GAAG6E,SAAS,KACjC9mB,KAAKiiB,GAAGmB,MAAMpjB,KAAKkN,SAAUlN,KAAKkO,EAAE,GAAIlO,KAAKmO,EAAE,EAAGnO,KAAKkO,EAAGlO,KAAKmO,GAC/DnO,KAAKiiB,GAAGpR,MAER7Q,KAAK0kB,mB,GA5BmC9B,ICK3BmE,GAEjB,WAAY9E,GAAK,IAAD,gCAchBpd,UAAY,WACR,OAAQ,EAAKugB,IAAItB,QAfL,KAkBhBkD,OAAS,WACL,MAAO,CAAChd,EAAG,EAAKob,IAAIpb,EAAGC,EAAG,EAAKmb,IAAInb,IAnBvB,KAsBhBrH,OAAS,SAACqf,GACD,EAAKmD,IAAIxB,WACN,EAAKwB,IAAIpb,EAAIiY,EAAGvL,YAAY,EAAKxI,GACjC,EAAKkX,IAAIpb,EAAIiY,EAAGvL,YAAY,EAAKxI,EACjC,EAAK+Y,MAAQ,GAER,EAAK7B,IAAIpb,EAAI,IAClB,EAAKob,IAAIpb,EAAI,EACb,EAAKid,KAAO,GAGZ,EAAK7B,IAAInb,EAAIgY,EAAGkE,aAAa,EAAKhY,EAAE,IACpC,EAAKiX,IAAInb,EAAIgY,EAAGkE,aAAa,EAAKhY,EAAE,GACpC,EAAK+Y,MAAQ,GAER,EAAK9B,IAAInb,EAAI,IAClB,EAAKmb,IAAInb,EAAI,EACb,EAAKid,KAAO,IAGpB,EAAK9B,IAAIxiB,OAAO,EAAKqkB,KAAM,EAAKC,OA1CpB,KAuDhBhB,cAAgB,SAACjE,GACb,EAAKjY,EAAImC,KAAKqD,SAAWyS,EAAGvL,YAC5B,EAAKzM,EAAIkC,KAAKqD,SAAWyS,EAAGkE,cAzDhB,KA4DhBra,QAAU,SAACmW,GACP,EAAKmD,IAAItZ,QAAQ,EAAG,GACpB,EAAKsZ,IAAIgB,eAAe,EAAG,IA9Df,KAiEhBK,WAAa,WACT,EAAKrB,IAAIqB,cAlEG,KAqEhBC,QAAU,WACN,EAAKtB,IAAIsB,WArET1mB,KAAKgK,EAAIiY,EAAGvL,YAAY,EACxB1W,KAAKiK,EAAIgY,EAAGkE,aAAa,EACzBnmB,KAAKkO,EAAI,IACTlO,KAAKmO,EAAI,IACTnO,KAAKinB,KAAO,EACZjnB,KAAKknB,KAAO,EAEZlnB,KAAKmnB,MAAQ,EACbnnB,KAAKonB,IAAsB,OAAhBjb,KAAKqD,SAEhBxP,KAAKolB,IAAM,IAAIwB,GAAmB,EAAG5mB,KAAKgK,EAAGhK,KAAKiK,EAAGjK,KAAKkO,EAAGlO,KAAKmO,EAAG8T,IPbzEoF,GAAQ,GAMRC,GAAW,GAGA,YAAC9jB,GAGZ,IA0EM+jB,EAAkB,SAACtF,GACjBA,EAAGvL,cAAgB1N,OAAOwP,YAAcyJ,EAAGkE,eAAiBnd,OAAOyP,cACnEwJ,EAAGvL,YAAc1N,OAAOwP,WACxByJ,EAAGkE,aAAend,OAAOyP,YACzB+O,EAAcvF,KAahBwF,EAAgB,SAACxF,GACnBnD,GAAU2H,aADgB,qBAGPY,IAHO,IAG1B,2BAA0B,SACjBZ,cAJiB,gCAgBxBe,EAAgB,SAACvF,GACnBA,EAAGyF,aAAazF,EAAGvL,YAAauL,EAAGkE,cACnCwB,EAAiB1F,IAqCf0F,EAAmB,SAAC1F,GACtB,MAAuB2F,EAAmB5I,GAAO,EAAGiD,GAA5C/T,EAAR,EAAQA,EAAGC,EAAX,EAAWA,EAAGnE,EAAd,EAAcA,EAAGC,EAAjB,EAAiBA,GACjBgV,GAAgBgD,EAAGqC,eAAerC,EAAGvL,YAAauL,EAAGkE,eACvCrjB,QACdmc,GAAc4I,KAAK,IAAK,GACxB5I,GAAcmE,MAAMpE,GAAOhV,EAAGC,EAAGiE,EAAGC,IAQlCyZ,EAAqB,SAACvB,EAAKyB,EAAM7F,GACnC,IAAM8F,EAAY1B,EAAItmB,OAASsmB,EAAIvmB,MAC7BC,EAASkiB,EAAGkE,aACZrmB,EAAQmiB,EAAGvL,YAIjB,GAHwB3W,EAASD,EAGZioB,EACjB,IACI9d,GAAKlK,GADLoO,EAAIpO,EAAS+nB,IACM,EAGnB9d,GAAKlK,GADLoO,GADA8Z,EAAS7Z,EAAIkY,EAAItmB,QACJsmB,EAAIvmB,QACC,MAItB,CACIkK,GAAKlK,GADLoO,EAAIpO,EAAQgoB,IACM,EADtB,IAAI5Z,EAGAC,EADA6Z,EAAS9Z,EAAImY,EAAIvmB,MAEjBmK,GAAKlK,GADLoO,EAAIkY,EAAItmB,OAASioB,IACE,EAG3B,MAAO,CAAE9Z,IAAGC,IAAGnE,IAAGC,IAAG+d,WAKzB,OAAO,cAAC,KAAD,CAAQ9M,QA3LC,SAAC+G,GACb,IACMgG,EAAS,yDACflJ,GAASkD,EAAGiG,SAASpf,kFAErBwe,GAAS,GAAKrF,EAAGa,UAAU,4EAC3BwE,GAAS,GAAKrF,EAAGa,UAAU,0EAC3B9D,GAAQiD,EAAGa,UAAUmF,EAAS,eAEnBhG,EAAGkG,QAAQF,EAAS,gBAkLFG,MA3KnB,SAACnG,EAAIoG,GAIf,IAAMC,EAAMrG,EAAGsG,aAAatG,EAAGvL,YAAauL,EAAGkE,cAC/CmC,EAAI3lB,OAAO0lB,GACXC,EAAIE,cAAa,kBAAMf,EAAcxF,MAErCnD,GAAY,IAAIiI,GAAU9E,GAE1B0F,EAAiB1F,GAEjB,IAAK,IAAI7b,EAAI,EAAGA,EAAI,GAAIA,IACpBihB,GAAMjhB,GAAK,IAAIuf,GAAKvf,EAAG0Y,GAAUkI,SAAUM,GAAUrF,GAKzDA,EAAGwG,SAAS1J,KAyJ+B2J,KAlJlC,SAACzG,GACVA,EAAG0G,UACH1G,EAAG2G,UAAU3G,EAAG4G,IAAK,KAIrB5G,EAAG7Q,WAAW,IAAK,IAAK,IAAK,GAC7B6Q,EAAGmB,MAAMnE,GAAe,EAAG,GAU3B,IAAK,IAAI7Y,EAAIihB,GAAMrf,OAAS,EAAG5B,GAAK,EAAGA,IAAK,CACxC,IAAI0iB,EAAOzB,GAAMjhB,GACb0Y,GAAUja,aACVikB,EAAKlmB,OAAOkc,GAAUkI,SAAU/E,GACpC6G,EAAKhd,QAAQmW,GAGjBnD,GAAUhT,QAAQmW,GAClBnD,GAAUlc,OAAOqf,GAEjBA,EAAG8G,MAAM,GAAI,IACb9G,EAAGwC,KAAK,EAAG,EAAGxC,EAAGvL,YAAauL,EAAGkE,cAEjCoB,EAAgBtF,IAoHuCuF,cAAeA,EAAewB,WApGtE,SAAC/G,KAoG6FgH,cAvF3F,SAAChH,GACnBnD,GAAU4H,UADgB,qBAEPW,IAFO,IAE1B,2BAA0B,SACjBX,WAHiB,gCAuFiHwC,aAvG1H,SAACjH,KAuGqJkH,cA1ErJ,SAAClH,GAAQ,IAAD,iBACVoF,IADU,IAC1B,2BAAuB,SACjBV,mBAAmB1E,IAFC,mC,OQ/HnB,SAAS8E,GAAUvjB,GAI9B,OACI,qBAAKD,UAAU,mBAAf,SACI,cAAC,GAAD,CAAQA,UAAU,e,ICR1Bwb,GACAqK,GAAQC,GAASC,GAKjBC,GAAQC,GAMRC,GAEAjhB,GAEAkhB,G,6BARAC,GAAU,EAEVC,GAAK,GAAIC,GAAK,GAQH,YAACrmB,GACZgF,GAAKhF,EAAMgF,GAEX,IAgGMshB,EAAY,SAAC7H,GAEf,IADA,IAAI/T,EAAIwb,GAAK5pB,MACJkK,EAAI,EAAGA,EAAIiY,EAAGniB,MAAOkK,GAAKkE,EAC/B+T,EAAGmB,MAAMsG,GAAM1f,EAAGiY,EAAGliB,OAAS2pB,GAAK3pB,SAIrCgqB,EAAgB,SAAC9H,GAKnB,IAJA,IACInL,EAAQ,EACR5I,EAFS,GAELmb,GAAQvpB,MACZmK,GAAKgY,EAAGliB,OAAS,GAAK,IAAM,EACvBiK,EAAI,EAAGA,EAAIiY,EAAGniB,MAAOkK,GAAKkE,EAC3B4I,EAAQ,IAAM,GACdmL,EAAG3R,OACH2R,EAAGrV,OAAO,EAAG,GACbqV,EAAGmB,MAAMgG,GAAQpf,EAAIkE,EAAGjE,EAAGiE,EARtB,GAQyBmb,GAAQtpB,QACtCkiB,EAAGpR,OAGHoR,EAAGmB,MAAMgG,GAAQpf,EAAGC,EAAGiE,EAZlB,GAYqBmb,GAAQtpB,QACtC+W,KAKFlU,EAAS,SAAConB,EAAYC,EAAU3jB,EAAG2b,GACrC,IAAIiI,EAvIK,GAuID/d,KAAKge,IAAI,EAAGF,GACpBhI,EAAGmI,WAAW,GACd,IAAK,IAAIngB,EAAI,EAAGA,EAAIgY,EAAGliB,OAAQkK,GAAKigB,EAChC,IAAK,IAAIlgB,EAAI,EAAGA,EAAIiY,EAAGniB,MAAOkK,GAAKkgB,EAAG,CAClC,IAAIG,EAAa,EAAJrgB,EAAUiY,EAAGniB,MAAQ8pB,GAC9BU,EAAa,EAAJrgB,EAAUgY,EAAGliB,OAAS8pB,GAC/BU,EAAwB,EAAftI,EAAGuI,IAAIxgB,EAAGC,GAAWgY,EAAGniB,MAAQ6pB,GAE7C,GAAI1H,EAAGwI,MAAMJ,EAAQC,EAAQC,GAAUjkB,EAAG,CAEtC,IAAI4b,EAAID,EAAGzS,SACPya,EAAW,GACP/H,EAAI,GACJD,EAAGmB,MAAMoG,GAAMxf,EAAIkgB,EAAI,EAAGjgB,EAAIigB,EAAI,EAAO,IAAJA,EAAc,IAAJA,GAKnDQ,EAAW1gB,EAAIkgB,EAAI,EAAGjgB,EAAIigB,EAAI,EAAO,IAAJA,EAAc,IAAJA,EAAUjI,MAMnEyI,EAAa,SAAC1gB,EAAGC,EAAGiE,EAAGC,EAAG8T,GAC5BA,EAAGmB,MAAMiG,GAASrf,EAAGC,EAAGiE,EAAGC,GAC3B8T,EAAGmB,MAAMmG,GAAQvf,EAAGC,EAAGiE,EAAGC,GAE1B8T,EAAGE,OAAO,GAAI,GAAI,IAClBF,EAAGG,aAAaH,EAAG/b,IAAIgI,EAAG,GAAI,IAAK,EAAG,IACtC+T,EAAGM,KAAK,IAAK,IACbN,EAAGI,SACHJ,EAAGwC,KAAKza,EAAGC,EAAGiE,EAAGC,IAGfwc,EAAe,SAAC1I,GAClB,IAAI2I,EAAS3I,EAAGqC,eAAemF,GAAG3pB,MAAO2pB,GAAG1pB,QAC5C6qB,EAAO9nB,QAGP8nB,EAAOC,UAAU5I,EAAG6I,QAIpBF,EAAOta,OAGP,IAAK,IAAIrG,EAAI,EAAGA,EAAIwf,GAAG1pB,OAAQkK,GAAKqf,GAAKvpB,OACrC,IAAK,IAAIiK,EAAI,EAAGA,EAAIyf,GAAG3pB,MAAOkK,GAAKsf,GAAKxpB,MACpC8qB,EAAOxH,MAAMkG,GAAMtf,EAAGC,EAAGqf,GAAKxpB,MAAOwpB,GAAKvpB,QAIlD,IAAK,IAAIkK,EAAI,EAAGA,GAAKwf,GAAG1pB,OAAQkK,GAAsB,KAAjBof,GAAQtpB,OACzC,IAAK,IAAIiK,EAAI,EAAGA,EAAIyf,GAAG3pB,MAAOkK,GAAqB,KAAhBqf,GAAQvpB,MACvC8qB,EAAOxH,MAAMiG,GAASrf,EAAGC,EAAGof,GAAQvpB,MAAOupB,GAAQtpB,QAK3D6qB,EAAO7B,QACP,IAAK,IAAI3iB,EAAI,EAAGA,EAAI,GAAIA,IACpBwkB,EAAOrI,KAAK,KACZqI,EAAOnG,KAAK,EAAGxC,EAAGzS,OAAOia,GAAG1pB,QAAS6qB,EAAO9qB,MAAOmiB,EAAGzS,OAAO,EAAG,KAEpE,IAAK,IAAIpJ,EAAI,EAAGA,EAAI,GAAIA,IACpBwkB,EAAOrI,KAAK,KACZqI,EAAOnG,KAAKxC,EAAGzS,OAAOia,GAAG3pB,OAAQ,EAAGmiB,EAAGzS,OAAO,EAAG,IAAKyS,EAAGliB,QAI7D6qB,EAAO/Z,MAEP4Y,GAAG5B,KAAK,IAAK,IACb4B,GAAGrG,MAAMwH,EAAQ,EAAG,IAGlBrD,EAAkB,SAACtF,GACjBA,EAAGvL,cAAgB1N,OAAOwP,YAAcyJ,EAAGkE,eAAiBnd,OAAOyP,cACnEwJ,EAAGvL,YAAc1N,OAAOwP,WACxByJ,EAAGkE,aAAend,OAAOyP,YACzB+O,EAAcvF,KAahBwF,EAAgB,SAACxF,KAQjBuF,EAAgB,SAACvF,GACnBA,EAAGyF,aAAazF,EAAGvL,YAAauL,EAAGkE,cACnCsD,GAAKxH,EAAGqC,eAAerC,EAAGvL,YAAauL,EAAGkE,cAC1CwE,EAAa1I,IAqCjB,OAAO,cAAC,KAAD,CAAQ/G,QAzQC,SAAC+G,GACb,IACMgG,EAAS,sDACflJ,GAASkD,EAAGiG,SAASpf,kFAErBsgB,GAASnH,EAAGa,UAAUmF,EAAS,cAC/BoB,GAAUpH,EAAGa,UAAUmF,EAAS,cAEhCuB,GAAOvH,EAAGa,UAAUmF,EAAS,aAC7BsB,GAAStH,EAAGa,UAAUmF,EAAS,eAC/BqB,GAAOrH,EAAGa,UAAUmF,EAAS,eAE7ByB,GAAOzH,EAAGa,UAAUmF,EAAS,cA6PAG,MAvPnB,SAACnG,EAAIoG,GAIf,IAAMC,EAAMrG,EAAGsG,aAAatG,EAAGvL,YAAauL,EAAGkE,cAC/CmC,EAAI3lB,OAAO0lB,GACXC,EAAIE,cAAa,kBAAMf,EAAcxF,MAErCA,EAAGwG,SAAS1J,IAKZkD,EAAG8I,SAAS9I,EAAG+I,QACf/I,EAAG4I,UAAU5I,EAAG+I,QAEhB/I,EAAGgJ,UAAU,GAEbxB,GAAKxH,EAAGqC,eAAerC,EAAGvL,YAAauL,EAAGkE,cAE1ClE,EAAGiJ,WAEHP,EAAa1I,IAiO8ByG,KA3NlC,SAACzG,GAEVA,EAAG4I,UAAU5I,EAAG6I,QAChB7I,EAAGmB,MAAMqG,GAAI,EAAG,EAAGxH,EAAGniB,MAAOmiB,EAAGliB,QAGhCgqB,EAAc9H,GACd6H,EAAU7H,GAEVA,EAAG4I,UAAU5I,EAAG+I,QAEhB,IAAIG,EAAW,GACXC,EAAK,IACTxoB,EAAOqf,EAAGhQ,MAAM,GAAI,EAAGkZ,GAAYC,EAAInJ,GACvCrf,EAAOqf,EAAGhQ,MAAM,QAAW,EAAGkZ,GAAYC,EAAInJ,GAC9Crf,EAAOqf,EAAGhQ,MAAM,QAAW,EAAGkZ,GAAYC,EAAInJ,GAC9Crf,EAAOqf,EAAGhQ,MAAM,QAAW,EAAGkZ,EAAUlJ,GACxCrf,EAAOqf,EAAGhQ,MAAM,QAAW,EAAGkZ,EAAUlJ,GAE/BA,EAAGliB,OAERyI,GAAGC,UACHmhB,IAAM,IACNC,IAAM,MAGND,GAAiB,KAAZ3H,EAAGS,OACRmH,GAAiB,KAAZ5H,EAAGU,OACRgH,IAAW,KACXA,IAAW,KAkBfpC,EAAgBtF,IA4KuCuF,cAAeA,EAAewB,WApDtE,SAAC/G,KAoD6FgH,cA3C3F,SAAChH,KA2CwHiH,aAvD1H,SAACjH,KAuDqJkH,cAjCrJ,SAAClH,QC5PZ,I,OAAA,YAAa,IAAVzZ,EAAS,EAATA,GAKR6iB,EAAc,CAChBtrB,OAAQoM,KAAK+C,IAJL,IAIc1G,EAAG6H,SAAW,KAOxC,OAJAgb,EAAYvrB,MAAQwrB,OAAYD,EAAYtrB,OAC5CsrB,EAAYvd,KAAOtF,EAAG6H,SAAWgb,EAAYtrB,OAAS,IAAM,EAC5DsrB,EAAYtd,MAAQvF,EAAG6I,SAAWga,EAAYvrB,OAAS,EAGnD,qBAAKyD,UAAU,SAASyJ,MAAOqe,MCZxB,SAASE,GAAT,GAA+B,IAAdvhB,EAAa,EAAbA,EAAGC,EAAU,EAAVA,EAAGiE,EAAO,EAAPA,EAAGC,EAAI,EAAJA,EAErC,OACI,cAAC,EAAD,CAAO9K,MAAM,GACT4J,YAAa,CAAEmE,WAAY,eAC3B7N,UAAW,qBACX2J,QACI,qBAAKoE,IAAI,aAAaC,IAAI,8EAA8EzR,MAAM,OAAOC,OAAO,SAEhID,MAAOoO,EACPnO,OAAQoO,EACRnE,EAAGA,EACHC,EAAGA,ICZA,SAASuhB,GAAT,GAAsC,IAAnBhjB,EAAkB,EAAlBA,GAAIwB,EAAc,EAAdA,EAAGC,EAAW,EAAXA,EAAGiE,EAAQ,EAARA,EAElCud,EAAexhB,EAAQ,IAFmB,EAALkE,EAGrCud,GAAgB,GAGhBC,EAAU,CACZrV,GAAImV,EACJG,GAAIH,EAJS,GAKbI,GAAIJ,EAAeK,IACnB5d,EAAG,GACHC,EAAG,IAGP,OAAI3F,EAAG6I,SAAWnD,EAAgB,EAAZyd,EAAQzd,EACnB,KAIP,eAAC,IAAMxJ,SAAP,WACI,cAAC6mB,GAAD,CAAQvhB,EAAGA,EAAI2hB,EAAQzd,EAAIwd,EAAeK,IAAc9hB,EAAG0hB,EAAQrV,GAAIpI,EAAGyd,EAAQzd,EAAGC,EAAG,KACxF,cAACod,GAAD,CAAQvhB,EAAGA,EAAIkE,EAAIwd,EAAeK,IAAc9hB,EAAG0hB,EAAQrV,GAAIpI,EAAGyd,EAAQzd,EAAGC,EAAG,KAEhF,cAACod,GAAD,CAAQvhB,EAAGA,EAAI2hB,EAAQzd,EAAIwd,EAlBlB,GAkB2CzhB,EAAG0hB,EAAQC,GAAI1d,EAAGyd,EAAQzd,EAAGC,EAAG,KACpF,cAACod,GAAD,CAAQvhB,EAAGA,EAAIkE,EAAIwd,EAnBV,GAmBmCzhB,EAAG0hB,EAAQC,GAAI1d,EAAGyd,EAAQzd,EAAGC,EAAG,KAG5E,cAACod,GAAD,CAAQvhB,EAAGA,EAAI2hB,EAAQzd,EAAIwd,EAAczhB,EAAG0hB,EAAQE,GAAI3d,EAAGyd,EAAQzd,EAAGC,EAAG,KACzE,cAACod,GAAD,CAAQvhB,EAAGA,EAAIkE,EAAIwd,EAAczhB,EAAG0hB,EAAQE,GAAI3d,EAAGyd,EAAQzd,EAAGC,EAAG,Q,OCzB9D,SAAS6d,GAAT,GAAwC,IAAtBpb,EAAqB,EAArBA,cAAepI,EAAM,EAANA,GAExCyjB,EAAS9nB,IAAMmH,YAGnBmD,qBAAU,WAQN,OALImC,GACIqb,EAAOvd,SACPud,EAAOvd,QAAQwd,OAGf,eAGT,CAACtb,IAEJ,IAAMub,EAAKhgB,KAAK+C,IAAI,IAAK1G,EAAG6I,SAAW,IACjC+a,EAAM,CACRle,EAAGie,EACHhe,EAAUge,EAAK,IAAZ,KAOP,OALAC,EAAIpiB,GAAKxB,EAAG6I,SAAW+a,EAAIle,GAAK,EAChCke,EAAIniB,GAAKzB,EAAG6H,SAAW+b,EAAIje,EAAI,IAAM,EAKjC,sBAAK5K,UAAU,gBAAf,UAGI,cAAC8oB,GAAD,CAAQ9oB,UAAU,WAAWiF,GAAIA,IACjC,cAAC,GAAD,CAAQA,GAAIA,IACZ,cAAC,EAAD,CAAOnF,MAAO,GAAI6J,QACd,mBAAGof,KAAK,iEAAiE7mB,OAAO,SAAS8mB,IAAI,sBAA7F,SACI,uBACItmB,IAAKgmB,EACLnsB,MAAOssB,EAAIle,EACXnO,OAAQqsB,EAAIje,EACZ4T,MAAI,EACJJ,aAAW,EACXG,OAAK,EANT,SAQI,wBAAQvQ,IAAK0W,+DAAsBlW,KAAK,kBAIhDjS,MAAOssB,EAAIle,EACXnO,OAAQqsB,EAAIje,EACZnE,EAAGoiB,EAAIpiB,EACPC,EAAGmiB,EAAIniB,IAGX,cAACuhB,GAAD,CAAShjB,GAAIA,EAAIwB,EAAGoiB,EAAIpiB,EAAGC,EAAGmiB,EAAIniB,EAAGiE,EAAGke,EAAIle,EAAGC,EAAGie,EAAIje,O,ICtD9D4Q,GAEAyN,GCViBC,G,WACjB,WAAY9a,EAAQ+a,EAAQC,EAAQC,EAAMC,EAAMC,EAAM5e,EAAG6e,EAAWC,EAAWvW,EAAMwL,GAAK,oBACtFjiB,KAAK2R,OAASA,EACd3R,KAAK0sB,OAASA,EACd1sB,KAAK2sB,OAASA,EACd3sB,KAAK4sB,KAAOA,EACZ5sB,KAAK6sB,KAAOA,EACZ7sB,KAAK8sB,KAAOA,EACZ9sB,KAAKkO,EAAIA,EACTlO,KAAK+sB,UAAYA,EACjB/sB,KAAK6G,YAAc,EACnB7G,KAAKitB,WAAY,EACjBjtB,KAAK+oB,OAAQ,EAIb,IAAI7G,EAAID,EAAGzS,SAGPxP,KAAK2kB,IADLzC,EAAI,IACOD,EAAGhQ,MAAM,IAAK,EAAG,GACvBiQ,EAAI,IACED,EAAGhQ,MAAM,EAAG,IAAK,GAEjBgQ,EAAGhQ,MAAM,EAAG,EAAG,KAI1BjS,KAAKqmB,IADLnE,EAAI,GACOD,EAAGa,UAAU9Z,OAAOkkB,IAAM,gCAE1BjL,EAAGa,UAAU9Z,OAAOkkB,IAAM,+B,0CAI7C,SAAOjL,GACH,IAAIkL,EACAC,EACAC,EACJ,GAAsB,GAAlBrtB,KAAKitB,UAAmB,CACxB,IAAIhH,EAAK,SAAIjmB,KAAK6G,YAAc7G,KAAK+sB,UAAc,IACnDI,EAAWntB,KAAK2R,QAAU3R,KAAK4sB,KAAO5sB,KAAK2R,QAAUsU,EACrDmH,EAAWptB,KAAK0sB,QAAU1sB,KAAK6sB,KAAO7sB,KAAK0sB,QAAUzG,EACrDoH,EAAWrtB,KAAK2sB,QAAU3sB,KAAK8sB,KAAO9sB,KAAK2sB,QAAU1G,EACjDjmB,KAAK6G,YAAc7G,KAAK+sB,WAAa/sB,KAAK6G,cAC9C7G,KAAKstB,SAASttB,KAAK2R,OAAQ3R,KAAK0sB,OAAQ1sB,KAAK2sB,OAAQQ,EAAUC,EAAUC,EAAUrtB,KAAKkO,EAAGlO,KAAK2kB,IAAK1C,OAClG,CACH,IAAIgE,EAAK,SAAI,GAAKjmB,KAAK6G,YAAc7G,KAAK+sB,WAAa/sB,KAAK+sB,UAAc,IAC1EI,EAAWntB,KAAK4sB,MAAQ5sB,KAAK2R,OAAS3R,KAAK4sB,MAAQ3G,EACnDmH,EAAWptB,KAAK6sB,MAAQ7sB,KAAK0sB,OAAS1sB,KAAK6sB,MAAQ5G,EACnDoH,EAAWrtB,KAAK8sB,MAAQ9sB,KAAK2sB,OAAS3sB,KAAK8sB,MAAQ7G,EACnDjmB,KAAK6G,cACD7G,KAAK6G,YAA+B,EAAjB7G,KAAK+sB,YAAiB/sB,KAAK+oB,OAAQ,GAC1D/oB,KAAKstB,SAASttB,KAAK4sB,KAAM5sB,KAAK6sB,KAAM7sB,KAAK8sB,KAAMK,EAAUC,EAAUC,EAAUrtB,KAAKkO,EAAGlO,KAAK2kB,IAAK1C,M,sBAIvG,SAAStQ,EAAQ+a,EAAQC,EAAQC,EAAMC,EAAMC,EAAM5e,EAAGyW,EAAK1C,GACvD,IAAIsL,EAAWtL,EAAGuL,MAAMX,EAAOH,EAAQE,EAAOjb,GAC1C8b,EAASxL,EAAGQ,KAAK9Q,EAAQ+a,EAAQE,EAAMC,GACvCa,GAAYzL,EAAGuL,MAAMV,EAAOH,EAAQc,GACpCE,EAAU1L,EAAGQ,KAAK,EAAGkK,EAAQc,EAAQX,GACzC7K,EAAG3R,OACH2R,EAAGiB,UAAUvR,EAAQ+a,EAAQC,GAC7B1K,EAAG2L,QAAQL,GACXtL,EAAG4L,QAAQH,GACXzL,EAAGiB,UAAUyK,EAAU,EAAG,EAAG,GAC7B1L,EAAG6L,gBAAgBnJ,GACfzW,EAAI,IACJ+T,EAAGvgB,QAAQ1B,KAAKqmB,KAcpBpE,EAAGjU,IAAI2f,EAAUzf,EAAGA,EAAGA,GACvBlO,KAAK+tB,SAASJ,EAAUzf,EAAG+T,GAC3BA,EAAGpR,Q,sBAGP,SAAS3C,EAAG+T,GAER,IAEIsD,EAAM,kXAaNyI,EAAM/L,EAAGhL,IAAIgL,EAAG6E,SAAW,KAC3BzX,EAAQ4S,EAAG/b,IAAI8nB,GAAM,EAAG,EAAG,EAflB,IAgBbzI,EAAMA,EAAIxd,UAAUsH,EAAOA,EAhBd,IAmBb4S,EAAGqE,SApBS,IAqBZrE,EAAGE,OAAOniB,KAAK2kB,KACf1C,EAAGM,KAAKviB,KAAK2kB,KACb1C,EAAGyD,KAAKH,GAAMtD,EAAGuE,UAAUjB,GAAO,EAAG,GAIrCtD,EAAGsC,e,KClHU0J,G,WACjB,WAAYC,EAASjM,GAAK,oBACtBjiB,KAAKmuB,QAAUlM,EAAGniB,MAAQ,EAC1BE,KAAKyW,KAAOwL,EAAGniB,MAAQ,GACvBE,KAAKsG,EAAI,EACTtG,KAAKouB,KAAOpuB,KAAKmuB,QACjBnuB,KAAKquB,MAAQ,GAMb,IALA,IAAIngB,EAAI+T,EAAG9S,IAAI8S,EAAGniB,MAAQ,IAAKE,KAAKyW,KAAL,SAAYwL,EAAGzS,SAAY,KACtDmC,GAAU3R,KAAKmuB,QAAU,EACzBzB,GAAU1sB,KAAKmuB,QAAU,EACzBxB,GAAU3sB,KAAKmuB,QAAU,EACzBG,EAAYtuB,KAAKuuB,gBAAgB5c,EAAQ+a,EAAQC,EAAQ1K,GACtDA,EAAGuM,IAAIF,EAAU,IAAMtuB,KAAKmuB,SAAWlM,EAAGuM,IAAIF,EAAU,IAAMtuB,KAAKmuB,SAAWlM,EAAGuM,IAAIF,EAAU,IAAMtuB,KAAKmuB,SAC7GG,EAAYtuB,KAAKuuB,gBAAgB5c,EAAQ+a,EAAQC,EAAQ1K,GAE7D,IAAI2K,EAAO0B,EAAU,GACjBzB,EAAOyB,EAAU,GACjBxB,EAAOwB,EAAU,GACrBtuB,KAAKgtB,UAAY/K,EAAGwM,IAAIxM,EAAGzS,OAAO,MAClCxP,KAAKquB,MAAM/d,KAAK,IAAImc,GAAK9a,EAAQ+a,EAAQC,EAAQC,EAAMC,EAAMC,EAAM5e,EAAGlO,KAAKsG,EAAGtG,KAAKgtB,UAAWhtB,KAAKyW,KAAMwL,IACzGjiB,KAAKkuB,QAAUA,EACfluB,KAAK0uB,YAAa,E,0CAEtB,SAAOzM,GACH,IAAK,IAAI7b,EAAI,EAAGA,EAAIpG,KAAKquB,MAAMrmB,OAAQ5B,IACnCpG,KAAKquB,MAAMjoB,GAAGxD,OAAOqf,GAMzB,GAJIjiB,KAAKquB,MAAMruB,KAAKquB,MAAMrmB,OAAS,GAAGnB,aAAe7G,KAAKquB,MAAMruB,KAAKquB,MAAMrmB,OAAS,GAAG+kB,YACnF/sB,KAAK0uB,YAAa,GAGC,GAAnB1uB,KAAK0uB,YAAsB1uB,KAAKquB,MAAMrmB,OAAShI,KAAKkuB,QAAS,CAM7D,IALA,IAAIhgB,EAAI+T,EAAG9S,IAAI8S,EAAGniB,MAAQ,IAAKE,KAAKyW,KAAL,SAAYwL,EAAGzS,SAAY,KACtDmC,EAAS3R,KAAKquB,MAAMruB,KAAKquB,MAAMrmB,OAAS,GAAG4kB,KAC3CF,EAAS1sB,KAAKquB,MAAMruB,KAAKquB,MAAMrmB,OAAS,GAAG6kB,KAC3CF,EAAS3sB,KAAKquB,MAAMruB,KAAKquB,MAAMrmB,OAAS,GAAG8kB,KAC3CwB,EAAYtuB,KAAKuuB,gBAAgB5c,EAAQ+a,EAAQC,EAAQ1K,GACtDA,EAAGuM,IAAIF,EAAU,IAAMtuB,KAAKmuB,SAAWlM,EAAGuM,IAAIF,EAAU,IAAMtuB,KAAKmuB,SAAWlM,EAAGuM,IAAIF,EAAU,IAAMtuB,KAAKmuB,SAC7GG,EAAYtuB,KAAKuuB,gBAAgB5c,EAAQ+a,EAAQC,EAAQ1K,GAE7D,IAAI2K,EAAO0B,EAAU,GACjBzB,EAAOyB,EAAU,GACjBxB,EAAOwB,EAAU,GACrBtuB,KAAKgtB,YACLhtB,KAAKquB,MAAM/d,KAAK,IAAImc,GAAK9a,EAAQ+a,EAAQC,EAAQC,EAAMC,EAAMC,EAAM5e,EAAGlO,KAAKsG,EAAGtG,KAAKgtB,UAAWhtB,KAAKyW,KAAMwL,IACzGjiB,KAAK0uB,YAAa,EAGlB1uB,KAAKquB,MAAMrmB,QAAUhI,KAAKkuB,UAC1BluB,KAAKquB,MAAM,GAAGpB,WAAY,GAGH,GAAvBjtB,KAAKquB,MAAM,GAAGtF,OAAiB/oB,KAAKquB,MAAMM,U,6BAElD,SAAgBhd,EAAQ+a,EAAQC,EAAQ1K,GACpC,IAAI2K,EAAOjb,EACPkb,EAAOH,EACPI,EAAOH,EAEX,OADgB1K,EAAGzS,OAAO,CAAC,KAAM,IAAK,KAAM,IAAK,KAAM,OAEnD,IAAK,KACDod,EAAOjb,EAAS3R,KAAKouB,KAAOnM,EAAGzS,QAAQ,EAAG,GAC1C,MACJ,IAAK,IACDod,EAAOjb,EAAS3R,KAAKouB,KAAOnM,EAAGzS,OAAO,EAAG,GACzC,MACJ,IAAK,KACDqd,EAAOH,EAAS1sB,KAAKouB,KAAOnM,EAAGzS,QAAQ,EAAG,GAC1C,MACJ,IAAK,IACDqd,EAAOH,EAAS1sB,KAAKouB,KAAOnM,EAAGzS,OAAO,EAAG,GACzC,MACJ,IAAK,KACDsd,EAAOH,EAAS3sB,KAAKouB,KAAOnM,EAAGzS,QAAQ,EAAG,GAC1C,MACJ,IAAK,IACDsd,EAAOH,EAAS3sB,KAAKouB,KAAOnM,EAAGzS,OAAO,EAAG,GAGjD,MAAO,CAACod,EAAMC,EAAMC,O,KFvExB8B,GAAc,GAOH,YAACprB,GAIZ,IAiEM+jB,EAAkB,SAACtF,GACjBA,EAAGvL,cAAgB1N,OAAOwP,YAAcyJ,EAAGkE,eAAiBnd,OAAOyP,cACnEwJ,EAAGvL,YAAc1N,OAAOwP,WACxByJ,EAAGkE,aAAend,OAAOyP,YACzB+O,EAAcvF,KAWhBwF,EAAgB,SAACxF,KASjBuF,EAAgB,SAACvF,GACnBA,EAAGyF,aAAazF,EAAGvL,YAAauL,EAAGkE,eAUvC,OAAO,cAAC,KAAD,CAAQjL,QApGC,SAAC+G,GAGblD,GAASkD,EAAGiG,SAASpf,mFAiGQsf,MAzFnB,SAACnG,EAAIoG,GAGfpG,EAAG4M,cAAc,sBAAsB,GACvC,IAAMvG,EAAMrG,EAAGsG,aAAatG,EAAGvL,YAAauL,EAAGkE,aAAclE,EAAG6M,OAChExG,EAAIE,cAAa,kBAAMf,EAAcxF,MAGrCqG,EAAI3lB,OAAO0lB,GACXpG,EAAG8M,UAAU,IACb9M,EAAGsC,WACH,IAAK,IAAIne,EAAI,EAAGA,EAAI,EAAGA,IACnBwoB,GAAYxoB,GAAK,CAAC6b,EAAGzS,OAAO,EAAIyS,EAAGpI,IAAKoI,EAAGzS,OAAO,EAAE,EAAG,KAG3Dgd,GAAY,IAAIyB,GAAM,IAAKhM,GAE3BA,EAAGwG,SAAS1J,KAwE+B2J,KAlElC,SAACzG,GAGVA,EAAGnf,QAGHmf,EAAG3R,OACH2R,EAAGhJ,aAAa,IAChB,IAAI+V,EAAMJ,GAAY,GAAG,GAAK3M,EAAGgN,WAAa,IAC9ChN,EAAGiN,iBAAiB,IAAK,IAAK,KAAMjN,EAAGhL,IAAI+X,GAAM,GAAI/M,EAAG8D,IAAIiJ,IAC5D,IAAIG,EAAKlN,EAAGliB,OAAS,EAAKkiB,EAAGmN,IAAInN,EAAGpI,GAAK,GACzCoI,EAAG1f,OAAO4sB,EAAIlN,EAAGhL,IAAI+X,GAAM,EAAGG,EAAIlN,EAAG8D,IAAIiJ,GAAM,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9D/M,EAAG2L,QAAQ3L,EAAGpI,GAAK,GAEnB2S,GAAU5pB,OAAOqf,GAEjBA,EAAGpR,MAMH,IAAI8T,EAAM1C,EAAGzS,OAAO,CAACyS,EAAGhQ,MAAM,EAAG,IAAK,GAAIgQ,EAAGhQ,MAAM,IAAK,EAAG,GAAIgQ,EAAGhQ,MAAM,EAAG,EAAG,OAC9EgQ,EAAGG,aAAa,GAChBH,EAAGE,OAAOwC,GACV1C,EAAGqE,SAAS,KACZrE,EAAGyD,KAAKzD,EAAG8M,UAAW9M,EAAGniB,MAAM,EAAGmiB,EAAGliB,OAAO,GAC5CwnB,EAAgBtF,IAuCuCuF,cAAeA,EAAewB,WAxBtE,SAAC/G,KAwB6FgH,cAf3F,SAAChH,KAewHiH,aA3B1H,SAACjH,KA2BqJkH,cAPrJ,SAAClH,Q,OG5GZ,SAASoN,GAAT,GAAoD,IAArC5mB,EAAoC,EAApCA,SAAUyF,EAA0B,EAA1BA,EAAGlE,EAAuB,EAAvBA,EAAGC,EAAoB,EAApBA,EAAGqlB,EAAiB,EAAjBA,cAC7C,EAA6B5f,mBAAS,GAAtC,mBAAO2R,EAAP,KAAckO,EAAd,KACA,EAAmC7f,mBAAS,GAA5C,mBAAO8f,EAAP,KAAiBC,EAAjB,KAEAhhB,qBAAU,WACN,IAAMihB,EAAS,GACf,IAAKjnB,GAAY6mB,EAAe,CAE5B,IAAM9jB,EAAK8jB,EAActlB,GAAKA,EAAIkE,EAAI,GAGlCyhB,GAFOL,EAAcrlB,EAEf0E,EAAOnD,GAAK,IAAK,KAAK,GAASkkB,IACzCC,EAAM1gB,EAAU0gB,GAAK,GAASD,GAE9BD,EAAeE,GACfJ,GAAY,SAAAlO,GAAK,OAAIA,EAAQmO,UAExB/mB,GACLgnB,EAAeC,KAIpB,CAACJ,IAUJ7gB,qBAAU,WACN,IAAM/H,EAAWC,aAAY,WAMzB4oB,GAAY,SAAAlO,GACR,OAAOA,EAAQmO,OAGpB,IACH,OAAO,kBAAM5oB,cAAcF,MAC5B,CAAC2a,EAAOmO,EAAU/mB,IAGrB,IAAMmnB,EAAc,CAChBC,UAAU,UAAD,OAAYxO,EAAQlV,KAAK0N,GAAK,IAA9B,QACTiW,gBAAiB,iBAGrB,OACI,cAAC,EAAD,CACIzsB,MAAM,GACN6J,QACI,sBAAK3J,UAAU,MAAf,UACI,qBAAKA,UAAU,YACf,qBAAKA,UAAU,SAASyJ,MAAO4iB,OAGvC9vB,MAAOoO,EACPnO,OAAQmO,EACRlE,EAAGA,EACHC,EAAGA,I,OC/DA,SAAS8lB,GAAT,GAA4D,IAAlCvnB,EAAiC,EAAjCA,GAGrC,GAHsE,EAA7BwnB,eAA6B,EAAbtf,UAGfhB,mBAAS,CAC/C1F,EAAG,EACHC,EAAG,KAFP,mBAAOqlB,EAAP,KAAsBW,EAAtB,KAIA,EAA0CvgB,mBAAS,GAAnD,mBAAOwgB,EAAP,KAAsBC,EAAtB,KAqDA,OACI,sBAAK5sB,UAAU,wBAAwB6sB,YAlDnB,SAACtmB,GACrBmmB,EAAiB,CAAEjmB,EAAGF,EAAEumB,MAAOpmB,EAAGH,EAAEwmB,QAEhCxmB,EAAEumB,MAAQ7nB,EAAG6I,SAAW,EAGpBvH,EAAEumB,MAAQ7nB,EAAG6H,SAAW,EACxB8f,EAAiB,GAEjBA,EAAiB,GAIjBrmB,EAAEumB,MAAQ7nB,EAAG6H,SAAW,EACxB8f,EAAiB,GAEjBA,EAAiB,IAkCzB,UACI,cAAC,GAAD,CAAQ5sB,UAAU,aAEjBiF,EAAG6I,SAAW,IA9BL,WACd,IAAIkf,EAAMpkB,KAAK+C,IAAI1G,EAAG6I,SAAU7I,EAAG6H,UAGnC,OAFAkgB,GAAO,IACPA,EAAMpkB,KAAKgD,IAAIohB,EAAK,KAEhB,cAAC,GAAD,CAAKvmB,GAAIxB,EAAG6I,SAAWkf,GAAO,EAAGtmB,GAAIzB,EAAG6H,SAAWkgB,EAAM,IAAM,EAAGriB,EAAGqiB,EAAK9nB,SAAUD,EAAGC,WAyBlE9D,GArBV,WACf,IAAIuJ,EAAIS,EAAOnG,EAAG6I,SAAU,IAAK,KAAM,IAAK,KAEtCmf,EAAM,IADZtiB,EAAIe,EAAUf,EAAG,IAAK,MAIhBuiB,EAAY,CAAChoB,SAAUD,EAAGC,SAAU6mB,gBAAeY,gBAAehiB,KACxE,OACI,eAAC,IAAMxJ,SAAP,WACI,cAAC,GAAD,aAAKH,GAAI,EAAGyF,EAAGxB,EAAG1I,MAAQ,EAAI0wB,EAAMtiB,EAAGjE,EAAGzB,EAAGzI,OAAS,EAAI,GAAKmO,EAAIsiB,GAASC,IAC5E,cAAC,GAAD,aAAKlsB,GAAI,EAAGyF,EAAGxB,EAAG1I,MAAQ,EAAI0wB,EAAMtiB,EAAGjE,EAAGzB,EAAGzI,OAAS,EAAIywB,EAAKtiB,EAAGA,GAAOuiB,IACzE,cAAC,GAAD,aAAKlsB,GAAI,EAAGyF,EAAGxB,EAAG1I,MAAQ,EAAI0wB,EAAKvmB,EAAGzB,EAAGzI,OAAS,EAAI,GAAKmO,EAAIsiB,GAASC,IACxE,cAAC,GAAD,aAAKlsB,GAAI,EAAGyF,EAAGxB,EAAG1I,MAAQ,EAAI0wB,EAAKvmB,EAAGzB,EAAGzI,OAAS,EAAIywB,GAASC,OAShCC,MCnEhC,SAASC,GAAT,GAAsF,IAqD7FC,EArDwBpoB,EAAoE,EAApEA,GAAIwB,EAAgE,EAAhEA,EAAG6mB,EAA6D,EAA7DA,KAAMC,EAAuD,EAAvDA,KAAM7mB,EAAiD,EAAjDA,EAAGiE,EAA8C,EAA9CA,EAAGC,EAA2C,EAA3CA,EAAG4iB,EAAwC,EAAxCA,OAAQC,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,UAAWC,EAAa,EAAbA,UAG7EC,EAAQ,CACV,CAAEnnB,GAAIkE,EAFI+iB,EAEOhnB,EAAG,GACpB,CAAED,GAAIkE,EAHI+iB,EAGOhnB,EAAGkE,EAHV8iB,EAGsB,IAIhC,CAAEjnB,EAAG+mB,EAAa,EAAJ7iB,EAAgB,EAPpB+iB,EAOuBhnB,EAAG,GACpC,CAAED,EAAG+mB,EAAa,EAAJ7iB,EARJ+iB,EAQmBhnB,EAAG,GAEhC,CAAED,EAAG+mB,EAAa,EAAJ7iB,EAVJ+iB,EAUmBhnB,EAAG+mB,EAAS7iB,EAAI,IAE7C,CAAEnE,EAAG6mB,EAAO7mB,EAAIkE,EAZN+iB,EAYiBhnB,EAAG+mB,EAAS7iB,EAAI,IAC3C,CAAEnE,EAAG6mB,EAAO7mB,EAAkB,GAAbkE,EAbP+iB,GAauBhnB,EAAG+mB,EAAS7iB,EAAI,KAG/CijB,EAAQ,CACV,CAAEpnB,EAAG8mB,EAAO5iB,EAAGjE,GAAIkE,EAAI,GAjBb8iB,GAkBV,CAAEjnB,EAAG8mB,EAlBKG,EAkBShnB,EAAG,GACtB,CAAED,EAAG8mB,EAnBKG,EAmBShnB,GAAIkE,EAAI,GAnBjB8iB,GAwBV,CAAEjnB,EAAG+mB,EAAS7iB,EAAGjE,EAAG,GACpB,CAAED,EAAG+mB,EAzBKE,EAyBWhnB,EAAG,GAExB,CAAED,EAAG+mB,EA3BKE,EA2BWhnB,EAAG+mB,EAAS7iB,EAAI,IAErC,CAAEnE,EAAG6mB,EAAO7mB,EAAIkE,EA7BN+iB,EA6BiBhnB,EAAG+mB,EAAS7iB,EAAI,IAC3C,CAAEnE,EAAG6mB,EAAO7mB,EAAkB,GAAbkE,EA9BP+iB,GA8BuBhnB,EAAG+mB,EAAS7iB,EAAI,KAI/CkjB,EAAS,CACX,CAAErnB,EAAG8mB,EAAO5iB,EAAGjE,GAAIkE,EAAI,GAnCb8iB,GAoCV,CAAEjnB,EAAG8mB,EApCKG,EAoCShnB,EAAG,GACtB,CAAED,EAAG8mB,EArCKG,EAqCShnB,GAAIkE,EAAI,GArCjB8iB,GA0CV,CAAEjnB,EAAG+mB,EAAS7iB,EAAGjE,EAAG,GACpB,CAAED,EAAG+mB,EA3CKE,EA2CWhnB,EAAG,GAExB,CAAED,EAAG+mB,EA7CKE,EA6CWhnB,EAAG+mB,EAAS7iB,EAAI,IAErC,CAAEnE,EAAG6mB,EAAO7mB,EAAIkE,EA/CN+iB,EA+CiBhnB,EAAG+mB,EAAS7iB,EAAI,IAC3C,CAAEnE,EAAG6mB,EAAO7mB,EAAkB,GAAbkE,EAhDP+iB,GAgDuBhnB,EAAG+mB,EAAS7iB,EAAI,KAYrD,OAPIyiB,EADApoB,EAAG1I,MAAQ,IACLuxB,EACD7oB,EAAG1I,MAAQ,KACVsxB,EAEAD,EAIN,qBAAK5tB,UAAU,QAAf,SAEQqtB,EAAI1qB,KAAI,SAAC0I,EAAKxI,GACV,OACI,cAAC,EAAD,CACI/C,MAAM,GAEN4J,YAAa,CAAEmE,WAAY,eAC3BlE,QACI,qBAAK3J,UAAU,OAAOyC,QAASkrB,IAEnCpxB,MAAOoO,EACPnO,OAAQmO,EACRlE,EAAGA,EAAI4E,EAAI5E,EACXC,EAAGA,EAAI2E,EAAI3E,GARN7D,QCrElB,SAASkrB,GAAK9tB,GACzB,IACA,EAAkBkM,mBAAmB,IAATlM,EAAMyG,GAAlC,mBAAOD,EAAP,KAAUunB,EAAV,KAOA9iB,qBAAU,WAEN,IAAM/H,EAAWC,YAAY6qB,EAAU,IAEvC,OAAO,WACH5qB,cAAcF,MAEnB,CAACsD,IAEJ,IAAMwnB,EAAW,WACbD,GAAK,SAACE,GACF,IAAIC,EAAOD,EAnBP,EAmBqBjuB,EAAM2jB,MAC/B,OAAIuK,EAAO1oB,OAAOwP,WACU,KAAhBrM,KAAKqD,SAAiB,IAC3BkiB,MAQf,OACI,qBAAKnuB,UAAWC,EAAME,OAAQsJ,MAAO,CACjCc,IAAKtK,EAAMyG,EACX8D,KAAM/D,EACND,SAAU,c,WClClBiE,GAAa2jB,G,8BCaF,SAASC,GAAT,GAA+C,IAItDtvB,EAAOzC,EAAU0C,EAAgB2c,EAAU1H,EAAWF,EAItDua,EARuBrpB,EAA8B,EAA9BA,GAAIoI,EAA0B,EAA1BA,cAAerH,EAAW,EAAXA,QAE1C0iB,EAAS9nB,IAAMmH,YAGbwmB,EAAa,IAAKC,EAAa,IAI/Bte,EAAQ,IAAI9T,QACdqyB,EAAQ,EAEZ,EAA0BC,YAASjpB,OAAOkkB,IAAM,kBAAmB,CAC/DgF,OAAQ,GACRC,WAAW,EACXC,UAAU,EACVrQ,MAAM,IAJV,mBAAOmK,EAAP,KAAemG,EAAf,KAAeA,MAOf5jB,qBACI,WAQI,OANAzF,OAAO7D,iBAAiB,SAAUiT,GAClCpP,OAAO7D,iBAAiB,YAAamtB,GAErCja,IACAC,IAEO,WAEH+Z,IAEArpB,OAAO5D,oBAAoB,SAAUgT,GACrCpP,OAAO5D,oBAAoB,YAAaktB,GAExCtpB,OAAOuP,qBAAqBf,GACxB0H,GACAA,EAASjc,aAKrB,IAGJwL,qBAAU,WAQN,OALImC,GACIqb,EAAOvd,SACPud,EAAOvd,QAAQwd,OAGf,eAGT,CAACtb,IAGJ,IAAMwH,EAAqB,WACvB,IAAMtY,EAAQkJ,OAAOwP,WACfzY,EAASiJ,OAAOyP,YACtB5Y,EAASqC,QAAQpC,EAAOC,GACxBwC,EAAOmW,OAAS5Y,EAAQC,EACxBwC,EAAOoW,0BAKL2Z,EAAkB,SAACxoB,GACrB,IAAIE,EAAIF,EAAEumB,OAEV2B,EAAQrjB,EAAO3E,EAAG,EAAGhB,OAAOwP,WAAY,KAAM,QAE1CwZ,EAAQ,IAGVd,EAAY,WACV3nB,GAAWqH,GACXsb,KAGF7T,EAAa,WACf/V,EAAQ,IAAI3C,QACZ4C,EAAS,IAAI5C,oBAAwB,GAAIqJ,OAAOwP,WAAaxP,OAAOyP,YAAa,EAAG,MAEpF5Y,EAAW,IAAIF,gBAAoB,CAAEkZ,OAAO,EAAMC,WAAW,KACpD5W,QAAQ8G,OAAOwP,WAAYxP,OAAOyP,aAC3CnB,EAAMyB,YAAYlZ,EAASmZ,YAE3BuZ,KAKEA,EAAY,WAGdV,EAAOW,EAAeV,EAAYC,GAClC,IAAMzQ,EAAS,IAAI3hB,UAEb8yB,EAAa,IAAI9yB,gBAAoB,IAAK,KAChD8yB,EAAWC,WAAWC,GAAGC,MAAM,GAAK,GACpCH,EAAWC,WAAWC,GAAGC,MAAM,GAAK,GACpCH,EAAW5E,QAAQ1hB,KAAK0N,GAAK,GAC7B4Y,EAAWvP,UAAU,GAAI,EAAG,GAE5B,IAAM2P,EAAa,IAAIlzB,gBAAoB,IAAK,KAChDkzB,EAAWH,WAAWC,GAAGC,MAAM,GAAK,GACpCC,EAAWH,WAAWC,GAAGC,MAAM,GAAK,GACpCC,EAAWhF,SAAU1hB,KAAK0N,GAAK,GAC/BgZ,EAAW3P,WAAY,GAAI,EAAG,GAE9B,IAAM4P,EAAa,IAAInzB,gBAAoB,IAAK,KAChDmzB,EAAWJ,WAAWC,GAAGC,MAAM,GAAK,GACpCE,EAAWJ,WAAWC,GAAGC,MAAM,GAAK,GACpCE,EAAWC,SAAU5mB,KAAK0N,GAAK,GAC/BiZ,EAAW5P,UAAU,EAAG,GAAI,GAE5B,IAAM8P,EAAa,IAAIrzB,gBAAoB,IAAK,KAChDqzB,EAAWN,WAAWC,GAAGC,MAAM,GAAK,GACpCI,EAAWN,WAAWC,GAAGC,MAAM,GAAK,GACpCI,EAAW9P,UAAU,EAAG,EAAG,IAE3B,IAAM+P,EAAa,IAAItzB,gBAAoB,IAAK,KAChDszB,EAAWP,WAAWC,GAAGC,MAAM,GAAK,GACpCK,EAAWP,WAAWC,GAAGC,MAAM,GAAK,GACpCK,EAAWpF,QAAQ1hB,KAAK0N,IACxBoZ,EAAW/P,UAAU,EAAG,GAAK,IAM7B,IAFA,IAAMgQ,EAAa,GAEV5mB,EAAI,EAAGA,EAAIylB,EAAYzlB,IAE5B,IAAK,IAAItC,EAAI,EAAGA,EAAI8nB,EAAY9nB,IAAK,CAEjC,IAAMmE,EAAIglB,EAAKnpB,EAAGsC,GAElBgV,EAAO8R,gBACC,IAAJppB,EAAUqpB,KACN,IAAJllB,EACI,IAAJ7B,EAAUgnB,MAGd,IAAM1d,EAAKud,EAAKnpB,EAAI,EAAGsC,GACjBinB,EAAKJ,EAAKnpB,EAAI,EAAGsC,GACjBknB,EAAKL,EAAKnpB,EAAGsC,EAAI,GACjBmnB,EAAKN,EAAKnpB,EAAGsC,EAAI,GAEvB4mB,EAAW5iB,KAAKwiB,EAAWvX,QAAQiG,aAAaF,KAE3C1L,IAAOzH,GAAKyH,IAAOzH,EAAI,GAAY,IAANnE,IAE9BkpB,EAAW5iB,KAAKmiB,EAAWlX,QAAQiG,aAAaF,KAI/CiS,IAAOplB,GAAKolB,IAAOplB,EAAI,GAAY2jB,MAAN9nB,IAE9BkpB,EAAW5iB,KAAKuiB,EAAWtX,QAAQiG,aAAaF,KAI/CkS,IAAOrlB,GAAKqlB,IAAOrlB,EAAI,GAAY4jB,MAANzlB,IAE9B4mB,EAAW5iB,KAAK0iB,EAAWzX,QAAQiG,aAAaF,KAI/CmS,IAAOtlB,GAAKslB,IAAOtlB,EAAI,GAAY,IAAN7B,IAE9B4mB,EAAW5iB,KAAK2iB,EAAW1X,QAAQiG,aAAaF,IAQ5D,IAAMpe,EAAWwwB,KAAoBC,sBAAsBT,GAC3DhwB,EAAS0wB,wBAET,IAAMlyB,GAAU,IAAI/B,iBAAsBuT,KAAKC,2CAC/CzR,EAAQZ,UAAYnB,gBAEpB,IAAMqd,EAAO,IAAIrd,OAAWuD,EAAU,IAAIvD,sBAA0B,CAAEuG,IAAKxE,EAASwY,KAAMva,gBAC1F2C,EAAML,IAAI+a,GAEV,IAAM/D,EAAe,IAAItZ,eAAmB,UAC5C2C,EAAML,IAAIgX,GAEV,IAAMiW,EAAmB,IAAIvvB,mBAAuB,SAAU,GAC9DuvB,EAAiBnlB,SAASiK,IAAI,EAAG,EAAG,IAAK+I,YACzCza,EAAML,IAAIitB,IAGVhQ,EAAW,IAAI2U,KAAoBtxB,EAAQ1C,EAASmZ,aAE3C8a,UAAY,KACrB5U,EAAS6U,cAAe,GAStBvB,EAAiB,SAAC1yB,EAAOC,GAS3B,IANA,IACM8xB,EAAO,GAAImC,EAAS,IAAIC,KAC1BC,EAAOp0B,EAAQC,EAEfo0B,EAAU,EAELC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAExB,GAAU,IAANA,EAAS,IAAK,IAAIhuB,EAAI,EAAGA,EAAI8tB,EAAM9tB,IAAKyrB,EAAKzrB,GAAK,EAEtD,IAAK,IAAIA,EAAI,EAAGA,EAAI8tB,EAAM9tB,IAAK,CAE3B,IAAM4D,EAAI5D,EAAItG,EAAOmK,EAAK7D,EAAItG,EAAS,EACvC+xB,EAAKzrB,IAAM4tB,EAAOvJ,MAAMzgB,EAAImqB,EAASlqB,EAAIkqB,EAXlBjS,oBAWgCiS,EAK3DA,GAAW,EAIf,OAAOtC,GAILsB,EAAO,SAACnpB,EAAGsC,GAEb,MAAmC,GAA3BulB,EAAK7nB,EAAIsC,EAAIwlB,GAAqB,GAKxCxZ,EAAqB,SAArBA,IAGE4G,GACAA,EAAStc,OAAO6Q,EAAMc,YAE1BhS,EAAOsrB,QAAQmE,GAIXnyB,EAASwC,OAAOC,EAAOC,GAC3BiV,EAAYxO,OAAOwQ,sBAAsBlB,IAqBzC0P,EAASrZ,EAAOnG,EAAG1I,MAAO,KAAM,IAAK,EAAG,KAEtCgxB,EAAO,KADb9I,EAAS/Y,EAAU+Y,EAAQ,IAAK,IAE1BqM,EAAO,IAAMrM,EAEbsM,EAAQ,GAGRvD,EAASD,EAAc,GAAPA,EAAY,IAC5BE,EAASqD,EAAO,GAAP,IAETjI,EAAM,CAAEpiB,GAAIhB,OAAOwP,WAAauY,GAAU,EAAIuD,EALlC,GAKqDrqB,GAAIjB,OAAOyP,YAAcuY,GAAU,EAAG9iB,EAAG4iB,EAAM3iB,EAAGkmB,GACnHE,EAAM,CAAEvqB,EAAGoiB,EAAIpiB,EAAY,GAARoiB,EAAIle,EAAQjE,EAAGmiB,EAAIniB,EAAIqqB,EAAQ,GANtC,GAMsDpmB,EAAG4iB,EAAM3iB,EAAGkmB,GAC9EG,EAAY,CAAExqB,EAAGuqB,EAAIvqB,EAAI,IAAMge,EAAQ/d,EAAGmiB,EAAIniB,EAAGiE,EAAGe,EAAU,IAAM+Y,EAAQ,GAAI,KAAM7Z,EAAGc,EAAU,IAAM+Y,EAAQ,IAAU,MAQjI,OANIxf,EAAG1I,MAAQ,MACX00B,EAAUvqB,EAAI0E,EAAOnG,EAAG1I,MAAO,IAAK,IAAKssB,EAAIniB,EAAGmiB,EAAIniB,EAAI,IACxDuqB,EAAUxqB,EAAImC,KAAK+C,IAAIslB,EAAUxqB,EAAGuqB,EAAIvqB,EAAEuqB,EAAIrmB,EAAEsmB,EAAUtmB,IAK1D,sBAAK3K,UAAU,yBAAyByC,QAASkrB,EAAjD,UAGI,qBAAK3tB,UAAU,cAAc0C,IAAK,SAAAA,GAAG,OAAKqR,EAAQrR,KAElD,cAACqrB,GAAD,CAAMtnB,EAAG,GAAIC,EAAG,GAAIvG,OAAQ,QAASyjB,MAAO,IAC5C,cAACmK,GAAD,CAAMtnB,EAAG,IAAKC,EAAG,IAAKvG,OAAQ,QAASyjB,MAAO,MAE9C,cAACwJ,GAAD,CAAOnoB,GAAIA,EAAI0F,EAAGomB,EAAOnmB,EAAGmmB,EAAOrD,UAxBzB,GAwB+CjnB,EAAGoiB,EAAIpiB,EAAGC,EAAGmiB,EAAIniB,EAAG4mB,KAAM0D,EAAIvqB,EAAG8mB,KAAM1E,EAAIle,EAAG6iB,OAAQA,EAAQC,OAAQA,EAAQE,UAAWA,IAElJ,cAAC,EAAD,CACI7tB,MAAO,GACP6J,QACI,qBAAKqE,IAAKvI,OAAOkkB,IAAM,iBAAkB3pB,UAAU,UAAUyC,QAASkrB,IAE1EpxB,MAAOy0B,EAAIrmB,EACXnO,OAAQw0B,EAAIpmB,EACZnE,EAAGuqB,EAAIvqB,EACPC,EAAGsqB,EAAItqB,IAEX,cAAC,EAAD,CACI5G,MAAO,GACP6J,QACI,qBAAKqE,IAAKvI,OAAOkkB,IAAM,sBAAuB3pB,UAAU,UAAUyC,QAASkrB,IAE/EpxB,MAAO00B,EAAUtmB,EACjBnO,OAAQy0B,EAAUrmB,EAClBnE,EAAGwqB,EAAUxqB,EACbC,EAAGuqB,EAAUvqB,IAEjB,cAAC,EAAD,CAAO5G,MAAO,GAAI6J,QACd,mBAAGof,KAAK,8CAA8C7mB,OAAO,SAAS8mB,IAAI,sBAA1E,SACI,uBACItmB,IAAKgmB,EACLnsB,MAAOssB,EAAIle,EACXnO,OAAQqsB,EAAIje,EACZ4T,MAAI,EACJJ,aAAW,EACXG,OAAQvY,EANZ,SAQI,wBAAQgI,IAAKvI,OAAOkkB,IAAM,oBAAqBnb,KAAK,kBAI5DjS,MAAOssB,EAAIle,EACXnO,OAAQqsB,EAAIje,EACZnE,EAAGoiB,EAAIpiB,EACPC,EAAGmiB,EAAIniB,ODtWvB,IEFI+D,GAAa2jB,GFEX8C,GAAe,SAACnyB,GAElB,IAAIC,EAAS,IAAImyB,KAAW,UAAW,IAAIC,KAAQ,EAAG,GAAI,IAAKryB,GAG/DC,EAAOqyB,UAAUD,KAAQE,QAEzB,IAAMC,EAASxyB,EAAMyyB,YAAYC,qBAGjCzyB,EAAO0yB,cAAcH,GAAQ,GAGjB,IAAII,KAAiB,QAAS,IAAIP,KAAQ,EAAG,EAAG,GAAIryB,GAG1DwX,UAAY,IAGlB9L,GAAMmnB,KAAYC,UAAU,MAAO,CAAElB,KAAM,GAAK5xB,IAG5CyH,SAASE,EAAI,EAGjBkrB,KAAYE,aAAa,SAAU,CAAEv1B,MAAO,EAAGC,OAAQ,GAAKuC,GAE5D8W,GAAU9W,GAEVgX,GAAShX,IAGP8W,GAAY,SAAC9W,GACfqvB,GAASwD,KAAYC,UAAU,SAAU,CAAElB,KAAM,KAAU5xB,GAC3D,IAAIgzB,EAAiB,IAAIC,KAAiB,SAAUjzB,GACpDgzB,EAAeE,iBAAkB,EACjCF,EAAeG,kBAAoB,IAAIC,KAAYviB,yDAAyE7Q,GAG5HgzB,EAAeG,kBAAkBE,gBAAkBC,KAAQC,YAC3DP,EAAeQ,aAAe,IAAIC,KAAO,EAAG,EAAG,GAC/CT,EAAeU,cAAgB,IAAID,KAAO,EAAG,EAAG,GAChDpE,GAAOld,SAAW6gB,GAGhBhc,GAAW,SAAChX,GACd,IAAI2zB,EAAYl0B,KAAKszB,aAAa,YAAa,IAAK,IAAK,GAAI/yB,GAAO,GACnEmV,EAAQ,IAAIye,KAAc,QAAS5zB,EAAO,IAAIiQ,KAAQ,IAAK,MAC/DkF,EAAM+d,iBAAkB,EACxB/d,EAAM0e,YAAc,IAAIP,KAAQziB,0CAA0D7Q,GAC1FmV,EAAM2e,WAAa,EACnB3e,EAAM4e,WAAa,GACnB5e,EAAM6e,WAAa,GACnB7e,EAAM8e,WAAa,IAAIR,KAAO,GAAK,GAAK,IACxCte,EAAM+e,iBAAmB,GACzB/e,EAAMgf,gBAAgB9E,IAEtBsE,EAAUxhB,SAAWgD,GAkBhBif,GAAW,SAACp0B,GACd,QAAYpB,IAAR8M,GAAmB,CACnB,IAAI2oB,EAAoBr0B,EAAMyyB,YAAY6B,eAG1C5oB,GAAI0L,SAASzP,GADD,GACa,GAAMkC,KAAK0N,GAAK,GAAK8c,EAAoB,OAU3D,qBACX,qBAAKpzB,UAAU,iBAAf,SACI,cAAC,KAAD,CAAgBuV,WAAS,EAAC2b,aAAcA,GAAciC,SAAUA,GAAUnyB,GAAG,sBE5F/EkwB,GAAe,SAACnyB,GAElB,IAAIC,EAAS,IAAImyB,KAAW,UAAW,IAAIC,KAAQ,EAAG,GAAI,IAAKryB,GAG/DC,EAAOqyB,UAAUD,KAAQE,QAEzB,IAAMC,EAASxyB,EAAMyyB,YAAYC,qBAGjCzyB,EAAO0yB,cAAcH,GAAQ,GAGjB,IAAII,KAAiB,QAAS,IAAIP,KAAQ,EAAG,EAAG,GAAIryB,GAG1DwX,UAAY,IAGlB9L,GAAMmnB,KAAYC,UAAU,MAAO,CAAElB,KAAM,GAAK5xB,IAG5CyH,SAASE,EAAI,EAGjBkrB,KAAYE,aAAa,SAAU,CAAEv1B,MAAO,EAAGC,OAAQ,GAAKuC,GAE5D8W,GAAU9W,GAEVgX,GAAShX,IAGP8W,GAAY,SAAC9W,GACfqvB,GAASwD,KAAYC,UAAU,SAAU,CAAElB,KAAM,KAAU5xB,GAC3D,IAAIgzB,EAAiB,IAAIC,KAAiB,SAAUjzB,GACpDgzB,EAAeE,iBAAkB,EACjCF,EAAeG,kBAAoB,IAAIC,KAAYviB,yDAAyE7Q,GAG5HgzB,EAAeG,kBAAkBE,gBAAkBC,KAAQC,YAC3DP,EAAeQ,aAAe,IAAIC,KAAO,EAAG,EAAG,GAC/CT,EAAeU,cAAgB,IAAID,KAAO,EAAG,EAAG,GAChDpE,GAAOld,SAAW6gB,GAGhBhc,GAAW,SAAChX,GACd,IAAI2zB,EAAYl0B,KAAKszB,aAAa,YAAa,IAAK,IAAK,GAAI/yB,GAAO,GACnEmV,EAAQ,IAAIye,KAAc,QAAS5zB,EAAO,IAAIiQ,KAAQ,IAAK,MAC/DkF,EAAM+d,iBAAkB,EACxB/d,EAAM0e,YAAc,IAAIP,KAAQziB,0CAA0D7Q,GAC1FmV,EAAM2e,WAAa,EACnB3e,EAAM4e,WAAa,GACnB5e,EAAM6e,WAAa,GACnB7e,EAAM8e,WAAa,IAAIR,KAAO,GAAK,GAAK,IACxCte,EAAM+e,iBAAmB,GACzB/e,EAAMgf,gBAAgB9E,IAEtBsE,EAAUxhB,SAAWgD,GAkBhBif,GAAW,SAACp0B,GACd,QAAYpB,IAAR8M,GAAmB,CACnB,IAAI2oB,EAAoBr0B,EAAMyyB,YAAY6B,eAG1C5oB,GAAI0L,SAASzP,GADD,GACa,GAAMkC,KAAK0N,GAAK,GAAK8c,EAAoB,OAI3D,qBACX,qBAAKpzB,UAAU,cAAf,SACI,cAAC,KAAD,CAAgBuV,WAAS,EAAC2b,aAAcA,GAAciC,SAAUA,GAAUnyB,GAAG,sBC3FtE,I,OAAA,WACX,OACI,sBAAKhB,UAAU,QAAf,UACI,qBAAKA,UAAU,oBACf,sBAAKA,UAAU,YAAf,UAEI,uCACA,uBACA,2CACA,uBACA,iYAEA,mrBAEA,0VAEA,uBACA,qCACA,uBACA,8BACI,mBAAG+oB,KAAK,oCAAoC7mB,OAAO,SAAS8mB,IAAI,sBAAhE,+BADJ,8ZCtBVsK,I,qBAAU,IAQT,SAASC,GAAkBtuB,EAAIuuB,GAGlC,GAwCJ,SAA0BvuB,GAEtB,OADmBA,EAAZ6I,SACW2lB,IA1CdC,CAAiBzuB,IA6CzB,SAA2BA,GACvB,IAAOib,EAAsBjb,EAAtBib,SACP,OAD6Bjb,EAAZ6H,SACC6mB,IAAqBzT,EApD5B,GAKiB0T,CAAkB3uB,GAC1C,MAAuB,aAAnBA,EAAG0P,YAgEf,SAA0B1P,EAAIuuB,GAC1B,IAAOtT,EAAyCjb,EAAzCib,SAAUpS,EAA+B7I,EAA/B6I,SAAUhB,EAAqB7H,EAArB6H,SAAU+mB,EAAW5uB,EAAX4uB,QAIjCntB,EAAI4sB,GACHE,IACD9sB,GAAKmtB,GACT,MAAO,CAAElpB,EANCmD,EAAWwlB,GAMT1oB,EALFkC,EAAWwmB,GAAcpT,EAKpBzZ,EAJL6sB,GAIQ5sB,KAvEHotB,CAAiB7uB,EAAIuuB,GAiDxC,SAA2BvuB,EAAIuuB,GAC3B,IAAOtT,EAAyCjb,EAAzCib,SAAUpS,EAA+B7I,EAA/B6I,SAAUhB,EAAqB7H,EAArB6H,SAAU+mB,EAAW5uB,EAAX4uB,QAKjCntB,EAAI4sB,IACHE,IACD9sB,GAAKmtB,GACT,MAAO,CAAElpB,EAPCmD,EAAWwlB,GAOT1oB,EANFkC,EAAWwmB,GAAUpT,EAMhBzZ,EAJL6sB,GAIQ5sB,KAzDPqtB,CAAkB9uB,EAAIuuB,GAI7B,IAAQ1lB,EAAyC7I,EAAzC6I,SAAUhB,EAA+B7H,EAA/B6H,SAAUoT,EAAqBjb,EAArBib,SAAU2T,EAAW5uB,EAAX4uB,QAIlCntB,GAAKoG,EAlBJ,IAkBmBoT,GAAY,EAoBpC,OAnBKsT,IACD9sB,GAAKmtB,GAkBF,CAAElpB,EAvCJ,IAuCOC,EAtCP,IAsCUnE,GADNqH,EAtCJ,KAsCoB,EApCjB,EAqCUpH,KCtBX,SAASstB,GAAT,GAAiI,IAA1Gl0B,EAAyG,EAAzGA,MAAOK,EAAkG,EAAlGA,OAAQ8E,EAA0F,EAA1FA,GAAI8D,EAAsF,EAAtFA,EAAGvM,EAAmF,EAAnFA,OAAQD,EAA2E,EAA3EA,MAAO6L,EAAoE,EAApEA,SAAUuB,EAA0D,EAA1DA,QAASsqB,EAAiD,EAAjDA,QAAST,EAAwC,EAAxCA,WAAYzsB,EAA4B,EAA5BA,OAGjH,EAAqBwsB,GAAkBtuB,EAAIuuB,GAArC7oB,EAAN,EAAMA,EAAGC,EAAT,EAASA,EAAGnE,EAAZ,EAAYA,EAAGC,EAAf,EAAeA,EAEXlK,GAAUD,IACZqO,EAAIhC,KAAK+C,IAAIf,EAAGpO,GAChBmO,EAAI/B,KAAK+C,IAAIhB,EAAGpO,GAChBmK,GAAKzB,EAAG6H,SAAWlC,EAAI3F,EAAGib,UAAY,EACjCsT,IACH9sB,GAAKzB,EAAG4uB,SACVptB,GAAKxB,EAAG6I,SAAWnD,GAAK,GAE1B,IAAMupB,EAAW9rB,EAA0B,GAAf,aAW5B,OACE,eAAC,IAAMjH,SAAP,WACE,qBAAKnB,UAAWk0B,EAAQhqB,cANF,SAAC3D,GACzBA,EAAES,mBAK0DyC,MAAO,CAAE0qB,WAAa/rB,EAAW,SAAW,UAAYU,OAAQC,KAC1H,cAAC,EAAD,CAAOjJ,MAAOA,EAAOsI,SAAUA,EAAUM,SAAS,EAAM3B,OAAQA,EAAQ2C,YAAa,CAAEmE,WAAY,SAAWlE,QAC5G,qBAAK3J,UAAWG,EAAS,0BAA2BsJ,MAAO,CAAElN,MAAOoO,EAAGnO,OAAQoO,GAA/E,SACE,sBAAK5K,UAAU,wBAAwByJ,MAAO,CAAE6pB,QAAS,GAAI/2B,MAAOoO,EAAI,GAAInO,OAAQoO,EAAI,IAAxF,UACGjB,EACAsqB,OAIL13B,MAAOoO,EAAGnO,OAAQoO,EAAGnE,EAAGA,EAAGC,EAAGA,EAAGqC,EAAGA,EAAI,OC9CjC,SAASqrB,GAAUn0B,GAE9B,IAAQgF,EAAwChF,EAAxCgF,GAAIovB,EAAoCp0B,EAApCo0B,KAAMC,EAA8Br0B,EAA9Bq0B,WAAYjnB,EAAkBpN,EAAlBoN,cACxBhJ,EzCmCwB,SAACvE,GAC/B,MAAc,KAAVA,EACOoE,EACJH,EAASK,MAAK,SAACC,GAAD,OAAYA,EAAOvE,QAAUA,KyCtCnCy0B,CAAmBF,GAG5BG,EAAgB,WAClBF,KAkBJ,GAAIjwB,EAAQ,CACR,IAAM4vB,EAbF,qBAAKj0B,UAAU,iBAAf,SACI,wBAAQA,UAAU,yBAAyByC,QAAS+xB,EAApD,kBAaA10B,EAAuBuE,EAAvBvE,MAAO20B,EAAgBpwB,EAAhBowB,MAAgBpwB,EAATJ,KAEtB,OACI,cAAC,GAAD,CACInE,MAAO,GACPsI,SAAUiF,EACVtG,OAdG,WACXutB,KAcQrvB,GAAIA,EACJ8D,EAAG,KACHvM,OAAQ,IACRD,MAAO,IACPi3B,YAAY,EACZrzB,OAAO,YACPwJ,QACI,qBAAK3J,UAAU,gBAAf,SACI,sBAAKA,UAAU,WAAf,UAMI,mBAAGyJ,MAAO,CAAEirB,SAAU,GAAIC,cAAe,EAAGC,WAAY,KAAxD,SACI,sBAAM50B,UAAU,GAAhB,SAAoBF,MAGxB,mBAAG2J,MAAO,CAAEirB,SAAU,IAAtB,+BACA,mBAAGjrB,MAAO,CAAEirB,SAAU,IAAtB,6BACA,mBAAGjrB,MAAO,CAAEirB,SAAU,IAAtB,iCAEA,mBAAGjrB,MAAO,CAAEirB,SAAU,IAAtB,SAA6BD,SAKzCR,QAASA,IAMrB,OAAO,KCtEI,SAASY,GAAS7uB,EAASqH,GAEtC,IAAMrI,EAAcV,EAAawwB,cAAcC,UAC/C,EAA4B5oB,mBAAS,GAArC,mBAAOwiB,EAAP,KAAexhB,EAAf,KAEM6nB,EAAS,WACXC,KAGEC,EAAU,CACZ,CACIp1B,MAAO,cACPq1B,OAAQzG,YAASjpB,OAAOkkB,IAAM,6BAA8B,CACxDgF,OAAQ,GACRC,WAAW,EACXC,UAAU,EACVlX,SAAQ,EACRyd,OAAQJ,EACRxW,MAAM,KAGd,CACI1e,MAAO,SACPq1B,OAAQzG,YAASjpB,OAAOwI,IAAM,qBAAsB,CAChD0gB,OAAQ,GACRC,WAAW,EACXC,UAAU,EACVlX,SAAQ,EACRyd,OAAQJ,EACRxW,MAAM,KAGd,CACI1e,MAAO,WACPq1B,OAAQzG,YAASjpB,OAAOwI,IAAM,qBAAsB,CAChD0gB,OAAQA,EACRC,WAAW,EACXC,UAAU,EACVuG,OAAQJ,EACRxW,MAAM,KAGd,CACI1e,MAAO,QACPq1B,OAAQzG,YAAUjpB,OAAOkkB,IAAM,2BAA4B,CACvDgF,OAAQ,GACRC,WAAW,EACXC,UAAU,EACVuG,OAAQJ,EACRxW,MAAM,KAGd,CACI1e,MAAO,2BACPq1B,OAAQzG,YAAUjpB,OAAOwI,IAAM,2BAA4B,CACvD0gB,OAAQ,GACRC,WAAW,EACXC,UAAU,EACVuG,OAAQJ,EACRxW,MAAM,MAQlB,EAA0CrS,mBAAS+oB,EAAQ,IAA3D,mBAAOG,EAAP,KAAsBC,EAAtB,KAcML,EAAkB,WACpB,GAAII,GAAiBA,EAAcF,OAAQ,CACvC,kBAAuBE,EAAcF,OAArC,GAAOxM,EAAP,UAAc4M,KAEdpoB,EAAU,GACVwb,MAKF6M,EAAkB,WACpB,GAAKH,GAAiBA,EAAcF,OAAQ,CACxC,kBAAuBE,EAAcF,OAArC,SACAI,EADA,KAAcA,UA2CtB,OAnCArqB,qBAAU,WACFlF,GAAWqH,EACX4nB,IAGAO,MAGR,CAACnoB,IAGDnC,qBAAU,WACFlF,GAAWqH,EACX4nB,IAGAO,MAGR,CAACxvB,IAGDkF,qBAAU,cAGV,CAACyjB,IAGDzjB,qBAAU,YA5DS,SAACpL,GAEhB01B,IACA,IAAIC,EAAaP,EAAQ9wB,MAAK,SAACsxB,GAAD,OAAY51B,IAAU41B,EAAO51B,SAC3D,GAAK21B,GAAeA,EAAWN,OAAQ,CACnC,kBAAuBM,EAAWN,OAAlC,SACAI,EADA,KAAcA,QAGlBD,EAAiBG,GAqDjBE,CAAW3wB,KAEf,CAACA,IAIM,CAACmI,GC7GZ1H,OAAOkkB,IAAM,+CACblkB,OAAOwI,IAAM,yDAkGE2nB,OA/Ff,SAAa31B,GAEX,IAAM+E,EAAcV,EAAawwB,cAAcC,UACzC9vB,ECrCO,WAEX,IAMM4wB,EAAe,SAAClrB,EAAGC,GAErB,OAAQD,EAAI,KAAOC,EAAI,KAQrBkrB,EAAc,WAChB,MAAQ,iEAAiEC,KAAKC,UAAUC,YAGtFC,EAAgB,SAACvrB,GACnB,OAAKA,EAEIA,EAAI,IACF,UACFA,EAAI,IACF,SACFA,EAAI,IACF,QACFA,EAAI,IACF,SACFA,EAAI,KACF,QACJ,SAXI,UAcTwrB,EAAc,SAACxrB,EAAGC,GACpB,OAAIirB,EAAalrB,EAAGC,IAAMkrB,IAKfnrB,GAKTyrB,EAAc,SAACzrB,EAAGC,GACpB,OAAIirB,EAAalrB,EAAGC,IAAMkrB,IAIflrB,EAnDO,GAqDXA,EApDK,IAuDVyrB,EAAa,SAAC1rB,EAAGC,GACnB,OAAQirB,EAAalrB,EAAGC,IAAMkrB,IAzDZ,GACN,IA2DVQ,EAAiB,SAAC3rB,EAAGC,GACvB,OAAID,EAAI,IACG,GACFA,GAAK,KACH,GACJ,IAIL4rB,EAAkB,WACpB,IA3DoB5rB,EAAGC,EA2DnB4rB,EAA0B,kBAAX/wB,OAAsBA,OAAOwP,WAAa,KACzDwhB,EAA0B,kBAAXhxB,OAAsBA,OAAOyP,YAAc,KAE9D,OAAKshB,GAAUC,EAGR,CACHl6B,MAAOi6B,EACPh6B,OAAQi6B,EACRvxB,SAAU4wB,IACVnhB,aArEgBhK,EAqEY6rB,EArET5rB,EAqEgB6rB,EApEhC9rB,EAAIC,EAAI,YAAc,YAqEzB+lB,KAAMuF,EAAcM,GACpBrxB,UAAW0wB,EAAaW,EAAOC,GAC/B5C,QAASwC,EAAWG,EAAOC,GAC3BvW,SAlFS,GAmFTpS,SAAUqoB,EAAYK,EAAOC,GAC7B3pB,SAAUspB,EAAYI,EAAOC,GAC7BC,YAAaJ,EAAeE,IAbrB,MAiBf,EAAgDrqB,mBAASoqB,KAAzD,mBAAOI,EAAP,KAAyBC,EAAzB,KAEM/hB,EAAqB,WACvB+hB,EAAoBL,MAcxB,OAXArrB,qBACI,WAGI,OAFAzF,OAAO7D,iBAAiB,SAAUiT,GAE3B,WACHpP,OAAO5D,oBAAoB,SAAUgT,MAG7C,IAGG8hB,ED1EEE,GACX,EAAuC1qB,oBAAS,GAAhD,mBAAOkB,EAAP,KAAsBypB,EAAtB,KACA,EAA8B3qB,oBAAS,GAAvC,mBAAOnG,EAAP,KAAgB+wB,EAAhB,KAEA,EAAoBC,GAAehxB,EAASqH,GAArCF,EAAP,oBAGAjC,qBACE,WACE,OAAO,eAIT,CAACjG,IAqBHiG,qBAAU,WAER4rB,GAAc,KAGd,CAAC9xB,IAIH,IAAMiyB,EAAc,CAClBhyB,KACAoI,gBACArH,UACAmH,YAEAnI,eAIF,OACE,sBAAKhF,UAAU,MAAf,UACE,cAAC,EAAD,CACEiF,GAAIA,EACJD,YAAaA,EACbkyB,UAAU,EACVlxB,QAASA,EACTF,YAAa,kBAAMixB,GAAW,SAAAI,GAAC,OAAKA,QAItC,cAAC,IAAD,CAAOC,OAAK,EAAC7yB,KAAK,IAAIzF,OAAQ,kBAAO,cAAC,GAAD,eAAUm4B,OAC/C,cAAC,IAAD,CAAOG,OAAK,EAAC7yB,KAAMJ,EAAO,YAAarF,OAAQ,kBAAO,cAAC,EAAD,eAAcm4B,OACpE,cAAC,IAAD,CAAOG,OAAK,EAAC7yB,KAAMJ,EAAO,QAASrF,OAAQ,kBAAO,cAAC,EAAD,eAAgBm4B,OAClE,cAAC,IAAD,CAAOG,OAAK,EAAC7yB,KAAMJ,EAAO,UAAWrF,OAAQ,kBAAO,cAAC,GAAD,eAAgBm4B,OACpE,cAAC,IAAD,CAAOG,OAAK,EAAC7yB,KAAMJ,EAAO,OAAQrF,OAAQ,kBAAO,cAAC,GAAD,eAAem4B,OAChE,cAAC,IAAD,CAAOG,OAAK,EAAC7yB,KAAMJ,EAAO,UAAWrF,OAAQ,kBAAO,cAAC,GAAD,eAAYm4B,OAChE,cAAC,IAAD,CAAOG,OAAK,EAAC7yB,KAAMJ,EAAO,QAASrF,OAAQ,kBAAO,cAAC,GAAD,eAAUm4B,OAC5D,cAAC,IAAD,CAAOG,OAAK,EAAC7yB,KAAMJ,EAAO,OAAQrF,OAAQ,kBAAO,cAAC,GAAD,eAAoBm4B,OAErE,cAAC,IAAD,CAAOG,OAAK,EAAC7yB,KAAMJ,EAAO,QAASkzB,UAAWC,KAE9C,cAAC,IAAD,CAAOF,OAAK,EAAC7yB,KAAK,QAAQ8yB,UAAWE,KACrC,cAAC,IAAD,CAAOH,OAAK,EAAC7yB,KAAK,SAAS8yB,UAAWG,KAGtC,cAAC,GAAD,CACElD,WAAY,kBAAMwC,GAAc,IAChCzpB,cAAeA,EACfpI,GAAIA,EACJovB,KAAMrvB,QE7GCyyB,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCAdQ,IAASp5B,OACP,cAAC,IAAMq5B,WAAP,UACE,cAAC,IAAD,CAAYC,SAAS,IAArB,SACE,cAAC,GAAD,QAGJz2B,SAAS02B,eAAe,SAM1BZ,O","file":"static/js/main.be777586.chunk.js","sourcesContent":["\nmodule.exports = function (THREE, useOGMatrices) {\n\t/**\n\t* @author mrdoob / http://mrdoob.com/\n\t* @author marklundin / http://mark-lundin.com/\n\t* @author alteredq / http://alteredqualia.com/\n\t* @author tschw\n\t*/\n\n\n\n\tvar AnaglyphEffect = function (renderer, width, height) {\n\n\t\t///////////// OG MATRICES\n\t\t// were the OG matrices incorrect?\n\t\t// replaced with the one from https://github.com/tschw/angler.js/blob/gh-pages/app/classes/AnaglyphShadertoyPlayer.js\n\t\t// seems to get better results with new matrix values\n\n\t\t// let useOGMatrices = false;\n\n\t\tif (useOGMatrices) {\n\t\t\tthis.colorMatrixLeft = new THREE.Matrix3().fromArray([\n\t\t\t\t1.0671679973602295, - 0.0016435992438346148, 0.0001777536963345483, // r out\n\t\t\t\t- 0.028107794001698494, - 0.00019593400065787137, - 0.0002875397040043026, // g out\n\t\t\t\t- 0.04279090091586113, 0.000015809757314855233, - 0.00024287120322696865 // b out\n\t\t\t]);\n\n\t\t\tthis.colorMatrixRight = new THREE.Matrix3().fromArray([\n\t\t\t\t- 0.0355340838432312, - 0.06440307199954987, 0.018319187685847282, // r out\n\t\t\t\t- 0.10269022732973099, 0.8079727292060852, - 0.04835830628871918, // g out\n\t\t\t\t0.0001224992738571018, - 0.009558862075209618, 0.567823588848114 // b out\n\t\t\t]);\n\n\t\t}\n\t\telse {\n\t\t\t// Color matrix for the left input image\n\t\t\t// DUBOIS\n\t\t\t// http://stereo.jpn.org/eng/stphmkr/help/stereo_13.htm\n\t\t\t// this.colorMatrixLeft = new THREE.Matrix3().fromArray([\n\t\t\t// \t0.456100, -0.0400822, -0.0152161,\n\t\t\t// \t0.500484, -0.0378246, -0.0205971,\n\t\t\t// \t0.176381, -0.0157589, -0.00546856\n\t\t\t// ]);\n\n\t\t\t// // Color matrix for the right input image\n\t\t\t// this.colorMatrixRight = new THREE.Matrix3().fromArray([\n\t\t\t// \t-0.0434706, 0.378476, -0.0721527,\n\t\t\t// \t-0.0879388, 0.73364, -0.112961,\n\t\t\t// \t-0.00155529, -0.0184503, 1.2264\n\t\t\t// ]);\n\n\t\t\t//https://github.com/hx2A/Camera3D/blob/master/src/camera3D/generators/AnaglyphGenerator.java\n\t\t\tthis.colorMatrixLeft = new THREE.Matrix3().fromArray([\n\t\t\t\t.437, -.062, -.048,\n\t\t\t\t.449, -.062, -.050,\n\t\t\t\t.164, -.024, -.017\n\t\t\t]);\n\n\t\t\t// Color matrix for the right input image\n\t\t\tthis.colorMatrixRight = new THREE.Matrix3().fromArray([\n\t\t\t\t-0.011, 0.377, -0.026,\n\t\t\t\t-0.032, 0.761, -0.093,\n\t\t\t\t-0.007, .009, 1.234\n\t\t\t]);\n\n\t\t}\n\n\t\tvar _camera = new THREE.OrthographicCamera(- 1, 1, 1, - 1, 0, 1);\n\n\t\tvar _scene = new THREE.Scene();\n\n\t\tvar _stereo = new THREE.StereoCamera();\n\n\t\tvar _params = { minFilter: THREE.LinearFilter, magFilter: THREE.NearestFilter, format: THREE.RGBAFormat };\n\n\t\tif (width === undefined) width = 512;\n\t\tif (height === undefined) height = 512;\n\n\t\tvar _renderTargetL = new THREE.WebGLRenderTarget(width, height, _params);\n\t\tvar _renderTargetR = new THREE.WebGLRenderTarget(width, height, _params);\n\n\t\tvar _material = new THREE.ShaderMaterial({\n\n\t\t\tuniforms: {\n\n\t\t\t\t\"mapLeft\": { value: _renderTargetL.texture },\n\t\t\t\t\"mapRight\": { value: _renderTargetR.texture },\n\n\t\t\t\t\"colorMatrixLeft\": { value: this.colorMatrixLeft },\n\t\t\t\t\"colorMatrixRight\": { value: this.colorMatrixRight }\n\n\t\t\t},\n\n\t\t\tvertexShader: [\n\n\t\t\t\t\"varying vec2 vUv;\",\n\n\t\t\t\t\"void main() {\",\n\n\t\t\t\t\"\tvUv = vec2( uv.x, uv.y );\",\n\t\t\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\t\t\"}\"\n\n\t\t\t].join(\"\\n\"),\n\n\t\t\tfragmentShader: [\n\n\t\t\t\t\"uniform sampler2D mapLeft;\",\n\t\t\t\t\"uniform sampler2D mapRight;\",\n\t\t\t\t\"varying vec2 vUv;\",\n\n\t\t\t\t\"uniform mat3 colorMatrixLeft;\",\n\t\t\t\t\"uniform mat3 colorMatrixRight;\",\n\n\t\t\t\t// These functions implement sRGB linearization and gamma correction\n\n\t\t\t\t\"float lin( float c ) {\",\n\t\t\t\t\"\treturn c <= 0.04045 ? c * 0.0773993808 :\",\n\t\t\t\t\"\t\t\tpow( c * 0.9478672986 + 0.0521327014, 2.4 );\",\n\t\t\t\t\"}\",\n\n\t\t\t\t\"vec4 lin( vec4 c ) {\",\n\t\t\t\t\"\treturn vec4( lin( c.r ), lin( c.g ), lin( c.b ), c.a );\",\n\t\t\t\t\"}\",\n\n\t\t\t\t\"float dev( float c ) {\",\n\t\t\t\t\"\treturn c <= 0.0031308 ? c * 12.92\",\n\t\t\t\t\"\t\t\t: pow( c, 0.41666 ) * 1.055 - 0.055;\",\n\t\t\t\t\"}\",\n\n\n\t\t\t\t\"void main() {\",\n\n\t\t\t\t\"\tvec2 uv = vUv;\",\n\n\t\t\t\t\"\tvec4 colorL = lin( texture2D( mapLeft, uv ) );\",\n\t\t\t\t\"\tvec4 colorR = lin( texture2D( mapRight, uv ) );\",\n\n\t\t\t\t\"\tvec3 color = clamp(\",\n\t\t\t\t\"\t\t\tcolorMatrixLeft * colorL.rgb +\",\n\t\t\t\t\"\t\t\tcolorMatrixRight * colorR.rgb, 0., 1. );\",\n\n\t\t\t\t\"\tgl_FragColor = vec4(\",\n\t\t\t\t\"\t\t\tdev( color.r ), dev( color.g ), dev( color.b ),\",\n\t\t\t\t\"\t\t\tmax( colorL.a, colorR.a ) );\",\n\n\t\t\t\t\"}\"\n\n\t\t\t].join(\"\\n\")\n\n\t\t});\n\n\t\tvar _mesh = new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), _material);\n\t\t_scene.add(_mesh);\n\n\t\tthis.setSize = function (width, height) {\n\n\t\t\trenderer.setSize(width, height);\n\n\t\t\tvar pixelRatio = renderer.getPixelRatio();\n\n\t\t\t_renderTargetL.setSize(width * pixelRatio, height * pixelRatio);\n\t\t\t_renderTargetR.setSize(width * pixelRatio, height * pixelRatio);\n\n\t\t};\n\n\t\tthis.render = function (scene, camera) {\n\n\t\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\tscene.updateMatrixWorld();\n\n\t\t\tif (camera.parent === null) camera.updateMatrixWorld();\n\n\t\t\t_stereo.update(camera);\n\n\t\t\trenderer.setRenderTarget(_renderTargetL);\n\t\t\trenderer.clear();\n\t\t\trenderer.render(scene, _stereo.cameraL);\n\n\t\t\trenderer.setRenderTarget(_renderTargetR);\n\t\t\trenderer.clear();\n\t\t\trenderer.render(scene, _stereo.cameraR);\n\n\t\t\trenderer.setRenderTarget(null);\n\t\t\trenderer.render(_scene, _camera);\n\n\t\t\trenderer.setRenderTarget(currentRenderTarget);\n\n\t\t};\n\n\t\tthis.dispose = function () {\n\n\t\t\tif (_renderTargetL) _renderTargetL.dispose();\n\t\t\tif (_renderTargetR) _renderTargetR.dispose();\n\t\t\tif (_mesh) _mesh.geometry.dispose();\n\t\t\tif (_material) _material.dispose();\n\n\t\t};\n\n\t};\n\n\treturn AnaglyphEffect;\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nclass ListItem extends React.PureComponent {\n\n  // constructor(props) {\n  //   super(props);\n  // }\n\n  render() {\n    const { title, link, callback, classN } = this.props;\n    const shortcut = getShortcut(this.props.shortcut);\n\n    let classn = classN;\n    classn += (shortcut === '' || shortcut === null) ? ' noShortcut' : ' shortcut';\n    if (link && link !== '') {\n      return (\n        <li className={classn}><Link to={link}>{this.getMenuItem(title, shortcut)}</Link></li>\n      );\n    }\n\n    return (\n      <li className={classn} shortcut={shortcut}>{title}</li>\n    );\n  }\n\n  getMenuItem = (title, shortcut) => {\n    return (\n      <div className=\"flexRow\">\n        <div className=\"title flex1\">{title}</div>\n        <div className=\"shortcut\">{shortcut}</div>\n      </div>\n    )\n  }\n}\n\nfunction getShortcut(shortcut) {\n  if (shortcut === null || shortcut === \"\")\n    return null;\n\n  const parser = new DOMParser();\n  const parsedString = parser.parseFromString(shortcut, 'text/html');\n  return parsedString.body.innerHTML;\n}\n\nexport default ListItem\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ListItem from './ListItem';\n\nclass FinderSubmenu extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false\n    }\n\n    this.toggleHidden = this.toggleHidden.bind(this);\n    this.setWrapperRef = this.setWrapperRef.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside);\n  }\n\n  setWrapperRef(node) {\n    this.wrapperRef = node;\n  }\n\n  handleClickOutside(event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      this.setState({\n        isVisible: false\n      })\n    }\n  }\n\n  toggleHidden() {\n    this.setState(prevState => ({\n      isVisible: !prevState.isVisible\n    }));\n  }\n\n  render() {\n\n    // var title = this.props.title; \n\n    // if (this.props.title === \"\") {\n    const title =\n      <React.Fragment>\n        <i className={this.props.icon}></i>\n        <span> </span>\n        {this.props.title}\n      </React.Fragment>\n    // }\n    const specialClass = this.props.specialClass;\n    let ulSpecialClass = this.props.ulSpecialClass ? this.props.ulSpecialClass : \"\";\n    if (this.getMobile())\n      ulSpecialClass += \" mobile\";\n    const listItems = this.props.listItems;\n\n\n    let classN = specialClass ? (\" \" + specialClass) : \"\";\n    if (!this.getMobile()) {\n      classN += \" expandable\";\n      classN += this.state.isVisible ? ' selected' : '';\n    }\n    // if (this.props.title === \"losing my dimension\" && this.isXXSmall())\n    //   classN += \" xxsmall\";\n\n    return (\n      <li className={classN} onClick={this.toggleHidden} ref={this.setWrapperRef}>{title}\n        <div className={`submenu ${this.state.isVisible ? 'visible' : ''}`}>\n          <ul className={ulSpecialClass}>\n            {listItems.map((item, i) => {\n              let classLN = item.classN ? item.classN : \"\";\n              let t = item.title;\n\n              if (classLN === \"disabled\") {\n                t = \"coming soon\";\n                return (\n                  <ListItem\n                    key={i}\n                    shortcut={item.shortcut}\n                    title={t}\n                    link={null}\n                    callback={item.callback}\n                    classN={classLN}\n                  />)\n              }\n              if (item.title === \"hard drives on seashores\")\n                t = \"hard drives\";\n              return (\n                <ListItem\n                  key={i}\n                  shortcut={item.shortcut}\n                  title={t}\n                  link={`/${item.link}`}\n                  callback={item.callback}\n                  classN={classLN}\n                />)\n\n\n            })}\n          </ul>\n        </div>\n      </li>\n    );\n  }\n\n  getPageTitle = () => {\n    // if (this.getMobile() && this.props.title === \"losing my dimension\") {\n    //   return (\n    //     <div className=\"mobile-title\">\n    //       <div>losing my dimension</div>\n    //       <div className=\"subtitle\">{this.props.currentPage}</div>\n    //     </div>\n    //   )\n    // }\n    return (\n      <span id=\"pageTitle\">{this.props.title}</span>\n    )\n\n  }\n\n  isXXSmall = () => {\n    // return (this.props.currentPage !== \"gallery\" && this.props.ui.width < 445);\n    return false;\n  }\n\n  getMainTitle = () => {\n    // let title = \"losing my dimension\";\n    if (this.props.title === \"losing my dimension\") {\n      if (this.isXXSmall()) {\n        // let sty = { display: \"flex\", flexDirection: \"column\", lineHeight: \"15px\", position: \"absolute\", top: 10 }\n        // return (\n        //   <span><span className=\"xxsmallLogo\" style={sty}><span>losing my</span><span>dimension</span></span></span>\n        // )\n        return null;\n      }\n\n\n    }\n    return (\n      <React.Fragment>{this.props.title}</React.Fragment>\n    )\n\n    // return this.props.currentPage; // === \"gallery\"?\"losing my dimension\":this.props.currentPage;\n  }\n\n  getMobile = () => {\n    // return this.props.ui.isMobile || this.props.ui.hasFooter;\n    return false;\n  }\n\n}\n\nexport default FinderSubmenu\n","import React from 'react';\n\nclass Clock extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentTimeString: 0\n    }\n\n    this.updateClock = this.updateClock.bind(this);\n  }\n\n  componentDidMount() {\n    this.updateClock();\n    this.interval = setInterval(this.updateClock, 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n\n  updateClock() {\n    var currentTime = new Date();\n    var currentHours = currentTime.getHours();\n    var currentMinutes = currentTime.getMinutes();\n    currentMinutes = (currentMinutes < 10 ? \"0\" : \"\") + currentMinutes;\n\n    // var currentSeconds = currentTime.getSeconds();\n    // currentSeconds = (currentSeconds < 10 ? \"0\" : \"\") + currentSeconds;\n\n    var timeOfDay = (currentHours < 12) ? \"AM\" : \"PM\";\n    currentHours = (currentHours > 12) ? currentHours - 12 : currentHours;\n    currentHours = (currentHours === 0) ? 12 : currentHours;\n\n    var shortDays = [\n      'Sun', //Sunday starts at 0\n      'Mon',\n      'Tue',\n      'Wed',\n      'Thu',\n      'Fri',\n      'Sat'\n    ];\n    var x = currentTime.getDay(); //This returns a number, starting with 0 for Sunday\n    var day = (shortDays[x]);\n\n    var currentTimeString = day + \" \" + currentHours + \":\" + currentMinutes + \" \" + timeOfDay;\n\n    this.setState({currentTimeString: currentTimeString});\n  }\n\n\n  render() {\n    return(\n      <span id=\"clock\">{this.state.currentTimeString}</span>\n    )\n  }\n\n\n}\n\n\nexport default Clock;\n","\n\nconst getClassN = (id) => {\n    const publishNum = 5;\n    if (id <= publishNum)\n        return \"\";\n    return \"disabled\"\n}\nexport const sketches = [\n    { id: 1, short: \"mine\", link: \"mine\", title: \"mine\", shortcut: \"&#x2318;1\", year: 2021, classN: \"\" },\n    { id: 5, short: \"out\", link: \"overclocked\", title: \"over'd\", shortcut: \"&#x2318;2\", year: 2021, classN: getClassN(2) },\n    { id: 3, short: \"cat\", link: \"cat-5\", title: \"cat 5\", shortcut: \"&#x2318;3\", year: 2021, classN: getClassN(3) },\n\n    { id: 7, short: \"mojave\", link: \"mojave\", title: \"mojave\", shortcut: \"&#x2318;4\", year: 2021, classN: getClassN(4) },\n    { id: 2, short: \"yosemite\", link: \"yosemite\", title: \"yosemite\", shortcut: \"&#x2318;5\", year: 2021, classN: getClassN(5) },\n   \n    { id: 6, short: \"jungle\", link: \"jungle-gyms\", title: \"jungle gyms\", shortcut: \"&#x2318;6\", year: 2021, classN: getClassN(6) },\n    \n   \n    { id: 4, short: \"hard\", link: \"hard-drives-on-seashores\", title: \"hard drives on seashores\", shortcut: \"&#x2318;7\", year: 2021, classN: getClassN(7) },\n   \n    { id: 8, short: \"melt\", link: \"melt\", title: \"melt\", shortcut: \"&#x2318;8\", year: 2021, classN: getClassN(8) }\n\n];\n\nconst homeSketch = sketches[0];\n\n//{ id: 7, short: \"beached\", link: \"beached\", title: \"beached\", shortcut: \"&#x2318;8\", year: 2021, classN: \"\" },\n\nexport const getUrl = (short) => {\n    let sk = sketches.find((sketch) => sketch.short === short);\n    return \"/\" + sk.link;\n}\n\nexport const getRoomTitle = (path) => {\n    const link = path.substring(1, path.length);\n    if (link === \"\")\n        return homeSketch.title;\n    else if (link === \"about\")\n        return \"about\";\n\n    let sk = sketches.find((sketch) => sketch.link === link);\n    if (!sk)\n        return \"\"\n    return sk.title;\n}\n\nexport const getSketchFromTitle = (title) => {\n    if (title === \"\")\n        return homeSketch;\n    return sketches.find((sketch) => sketch.title === title);\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './Header.scss';\nimport FinderSubmenu from './components/FinderSubmenu';\n// import { withRouter, Link } from \"react-router-dom\";\n\n// components\nimport Clock from './components/Clock';\n// import Volume from '../Volume/VolumeMute';\n\n// icons\nimport VolumeUp from '@material-ui/icons/VolumeUp';\nimport VolumeOff from '@material-ui/icons/VolumeOff';\nimport LiveIcon from '@material-ui/icons/LiveTv';\nimport VolumeDown from '@material-ui/icons/VolumeDown';\n\nimport { sketches } from '../../sketches/Sketches';\n\n\nexport default function Header(props) {\n\n  // const [isVolumeMuted, setVolumeMuted] = useState(false);\n\n\n\n  const getMainMenuSub = () => {\n    const homeIcon = isSimpleHeader() ? \"fas fa-bars\" : \"fas fa-server\";\n    const title = isSimpleHeader() ? \"\" : getCurrentDirectory();\n\n    return (\n      <FinderSubmenu\n        currentPage={props.currentPage}\n        title={title}\n        icon={homeIcon}\n        specialClass=\"apple\"\n        listItems={sketches} />\n    );\n  }\n\n\n  const getDesktopHeader = () => {\n\n    let headerClass = \"Header menuTheme\";\n\n    return (\n      <header className={headerClass}>\n        <ul className=\"left\">\n          {getMainMenuSub()}\n        </ul>\n        <ul className=\"right\">\n          {getAboutLi()}\n          {getInstaLi()}\n          <li></li>\n          <li><Clock /></li>\n          {getVolumeLi()}\n        </ul>\n      </header>\n    )\n  }\n\n\n  const getMobileHeaderPortrait = () => {\n\n    const headerClass = \"Header menuTheme mobile\";\n\n    return (\n      <header className={headerClass}>\n        <ul className=\"left\">\n          {getMainTitleLi()}\n        </ul>\n        <ul className=\"right\">\n          {getMainMenuSub()}\n        </ul>\n      </header>\n    )\n  }\n\n\n  const isSimpleHeader = () => {\n    const { ui } = props;\n    return (ui.isMobile || ui.hasFooter);\n  }\n\n\n\n  const getMobileRightMenus = () => {\n    return (\n      <ul className=\"right\">\n        {/* <li className=\"header-avatar\" onClick={props.avatarClicked}>{this.getAvatar()}</li> */}\n      </ul>\n    );\n  }\n\n  const getInstaLi = () => {\n    return (\n      <li className=\"clickable\" onClick={() => openInNewTab(\"https://www.instagram.com/jdeboi/\")}>\n        <i className=\"fab fa-instagram\"></i>\n      </li>\n    )\n  }\n\n  const getAboutLi = () => {\n    return (\n      <li className=\"clickable\">\n        <Link to=\"/about\"><i className=\"far fa-file-alt\"></i></Link>\n      </li>\n    )\n  }\n\n  const openInNewTab = (url) => {\n    const newWindow = window.open(url, '_blank', 'noopener,noreferrer')\n    if (newWindow)\n      newWindow.opener = null\n  }\n\n  const getMainTitleLi = () => {\n    return (\n      <li><span id=\"pageTitle\">netscapes</span></li>\n    )\n  }\n\n  const getCurrentDirectory = () => {\n    return (\n      <React.Fragment>\n        <span id=\"pageTitle\">netscapes</span>\n        {/* <span className=\"subtitle\"> / </span>\n        <span className=\"subtitle\">{props.currentPage}</span> */}\n      </React.Fragment>\n    )\n  }\n\n  const getVolumeLi = () => {\n    const classVol = \"expandable icon opened\";\n    return (\n      <li className={classVol} onClick={props.toggleAudio}>\n        {/* <Volume isMuted={props.music.isMuted} /> */}\n        {getVolumeIcon()}\n      </li>\n    )\n  }\n\n  const getVolumeIcon = () => {\n    const { audioOn } = props;\n    if (audioOn)\n      return <VolumeUp />\n    return <VolumeOff />\n  }\n\n  if (isSimpleHeader()) {\n    return getMobileHeaderPortrait();\n  }\n  return (getDesktopHeader());\n\n}\n","import React from 'react';\n\nfunction Toolbar(props) {\n  return(\n    <div className=\"titlebar menuTheme handle\">\n      <div className=\"buttons\">\n        <div className=\"close circleButton\" onClick={props.toggleClosed}>\n          <div className=\"closebutton\"><div className=\"innerC\"></div></div>\n\n        </div>\n        <div className=\"minimize circleButton\" onClick={props.toggleMinimzed}>\n          <div className=\"minimizebutton\"><div className=\"innerC\"></div></div>\n\n        </div>\n        <div className=\"zoom circleButton\" onClick={props.toggleMaximized}>\n          <div className=\"zoombutton\"><div className=\"innerC\"></div></div>\n\n        </div>\n      </div>\n      <div className=\"titleTxtContainer\">{props.title}</div>\n\n\n    </div>\n  );\n}\n\nexport default Toolbar\n","import React from 'react';\nimport './Frame.css';\nimport Draggable from 'react-draggable';\nimport Toolbar from './Toolbar';\n\nimport PropTypes from 'prop-types';\n\n\nclass Frame extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n    this.toolBarH = 26;\n\n\n    const { x, y } = this.props;\n    this.origCoords = {\n      x: x,\n      y: y\n    };\n\n    // this.start = this.props.x;\n    this.state = {\n      isVisible: true,\n      isMinimized: false,\n      deltaPosition: {\n        x: 0, y: 0\n      },\n      controlledPosition: {\n        x: x, y: y\n      }\n    }\n\n    this.wrapper = React.createRef();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n      const dx = this.props.x - prevProps.x;\n      const dy = this.props.y - prevProps.y;\n      const controlledPosition = { ...this.state.controlledPosition }\n      this.setState({ controlledPosition: { x: controlledPosition.x + dx, y: controlledPosition.y + dy } });\n    }\n  }\n\n  onControlledDrag = (e, position) => {\n    const { x, y } = position;\n    this.setState({ controlledPosition: { x, y } });\n    if (this.props.onDrag) this.props.onDrag(position);\n\n  };\n\n  onControlledDragStop = (e, position) => {\n    this.onControlledDrag(e, position);\n    this.onStop();\n  };\n\n  toggleClosed = (e) => {\n    // console.log(\"CLOSE\")\n    this.setState({\n      isVisible: false\n    })\n\n    if (this.props.onHide) this.props.onHide();\n    e.stopPropagation();\n  }\n\n  toggleMinimzed = (e) => {\n    this.setState(prevState => ({\n      isMinimized: !prevState.isMinimized\n    }), () => {\n      if (this.props.onMinimized) this.props.onMinimized();\n    });\n\n    e.stopPropagation();\n  }\n\n  toggleMaximized = (e) => {\n    const controlledPosition = { ...this.state.controlledPosition };\n    controlledPosition.x = this.origCoords.x;\n    controlledPosition.y = this.origCoords.y;\n    console.log(this.origCoords);\n    this.setState({ controlledPosition }, () => {\n      if (this.props.onMaximized) this.props.onMaximized();\n    });\n    e.stopPropagation()\n  }\n\n\n\n  onStart = () => {\n    this.setState({ activeDrags: this.state.activeDrags + 1 });\n    if (this.props.onStart) this.props.onStart();\n  };\n\n  onStop = () => {\n    this.setState({ activeDrags: this.state.activeDrags - 1 });\n    if (this.props.onStop) this.props.onStop();\n  };\n\n  handleStart = () => {\n    if (this.props.newFrameToTop) this.props.newFrameToTop();\n  }\n\n  handleClick = (e) => {\n    if (this.props.newFrameToTop) this.props.newFrameToTop();\n    e.stopPropagation();\n  }\n\n\n  // returnOriginalCoords() {\n  //   // e.preventDefault();\n  //   // e.stopPropagation();\n  //   const {controlledPosition} = this.state;\n  //   const {x, y} = controlledPosition;\n  //   console.log(controlledPosition);\n  //   this.setState({controlledPosition: {x: this.origCoords.x, y: this.origCoords.y}});\n  // }\n\n  render() {\n    const parser = new DOMParser();\n    var title = this.props.title;\n    // const dragHandlers = {onStart: this.onStart, onStop: this.onStop};\n    const { controlledPosition } = this.state;\n    // const cP = {x: controlledPosition.x, y: controlledPosition.y};\n    // cP.x += (this.props.x - this.origCoords.x);\n    // cP.y += (this.props.y - this.origCoords.y);\n\n    if (title === \"\") {\n      const parsedString = parser.parseFromString(this.props.icon, 'text/html');\n      title = parsedString.body.innerHTML;\n    }\n\n    var classn = \"Frame\";\n    if (this.props.isHidden == null && !this.state.isVisible) {\n      classn += \" hidden\";\n    }\n    else if (this.props.isHidden) {\n      classn += \" hidden\";\n    }\n    else if (this.props.isMinimized | this.state.isMinimized) {\n      classn += \" minimized\";\n    }\n\n    if (this.state.isMaximized) {\n      classn += \" maximized\";\n    }\n\n    if (this.props.className) classn += \" \" + this.props.className;\n\n\n    var contentVisibility = {\n      display: this.state.isMinimized ? \"none\" : \"block\",\n      height: this.props.height,\n      width: this.props.width\n    }\n\n    //https://github.com/STRML/react-draggable\n\n    // position = {...} makes it have a specific location. when you want direct control.\n    // let pos = this.state.controlledPosition;\n    // let off = this.props.dx ? {x: this.props.dx, y: this.props.dy}: null;\n    let frameH = this.toolBarH + (this.state.isMinimized ? 0 : this.props.height);\n    // so if we make pos null, it stays where it is dragged to\n    // however, it doesn't update when the page width / height changes\n    // if we let pos be equal to props.px/ props.py, it changes location\n\n    const bounds = this.props.bounded ? \".App-Content\" : null;\n    const frameStyle = { width: Math.floor(this.props.width) + 2, zIndex: this.props.z ? this.props.z : 0 };\n    if (frameH)\n      frameStyle.height = Math.floor(frameH);\n    return (\n\n      <Draggable\n        axis=\"both\"\n        handle={this.props.handle ? \".handle, \" + this.props.handle : \".handle\"}\n        defaultPosition={{ x: this.props.x, y: this.props.y }}\n        position={controlledPosition}\n        positionOffset={null}\n        grid={[1, 1]}\n        scale={1}\n        bounds={bounds}\n        cancel=\".close, .minimize, .zoom\"\n        onStart={this.handleStart}\n        onDrag={this.onControlledDrag}\n        onStop={this.handleStop}\n        nodeRef={this.wrapper}\n      >\n        <div ref={this.wrapper} onClick={this.handleClick} className={classn} style={frameStyle} >\n          <div className={this.props.window ? \"window \" + this.props.window : \"window\"} style={this.props.windowStyle}>\n            <Toolbar title={this.props.title} toggleClosed={this.toggleClosed} toggleMinimzed={this.toggleMinimzed} toggleMaximized={this.toggleMaximized} />\n            <div className=\"content\" style={contentVisibility}>\n              {this.props.content}\n            </div>\n          </div>\n        </div>\n      </Draggable>\n\n    );\n  }\n\n  closeFrame() {\n\n  }\n}\n\nFrame.propTypes = {\n  name: PropTypes.string,\n  title: PropTypes.string,\n  icon: PropTypes.string,\n  className: PropTypes.string,\n  handle: PropTypes.string,\n  window: PropTypes.string,\n  bounded: PropTypes.bool,\n\n  windowStyle: PropTypes.object,\n\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  z: PropTypes.number,\n  height: PropTypes.number,\n  width: PropTypes.number.isRequired,\n  content: PropTypes.node.isRequired,\n\n\n  isHidden: PropTypes.bool,\n  isMinimized: PropTypes.bool,\n\n  onDrag: PropTypes.func,\n  onHide: PropTypes.func,\n  onMinimized: PropTypes.func,\n  onMaximized: PropTypes.func,\n  onStart: PropTypes.func,\n  onStop: PropTypes.func,\n  newFrameToTop: PropTypes.func,\n};\n\nexport default Frame\n","import React from 'react';\nimport './DesktopIcon.css';\n\n// import { connect } from 'react-redux';\nimport Frame from '../Frame/Frame';\nimport Draggable from 'react-draggable';\n\n\nclass DesktopIcon extends React.Component {\n  //https://github.com/STRML/react-draggable\n  // https://codepen.io/JohJakob/pen/YPxgwo\n  constructor(props) {\n    super(props);\n\n\n    this.state = {\n      isHidden: true,\n      controlledPosition: { x: props.x, y: props.y }\n    }\n\n    this.wrapper = React.createRef();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n      const dx = this.props.x - prevProps.x;\n      const dy = this.props.y - prevProps.y;\n      const controlledPosition = { ...this.state.controlledPosition }\n\n      this.setState({ controlledPosition: { x: controlledPosition.x + dx, y: controlledPosition.y + dy } });\n    }\n  }\n\n  onControlledDrag = (e, position) => {\n    const { x, y } = position;\n    this.setState({ controlledPosition: { x, y } });\n  };\n\n  onControlledDragStop = (e, position) => {\n    this.onControlledDrag(e, position);\n    this.onStop();\n  };\n  \n\n  onDblClick = () => {\n    // let {isHidden} = this.state;\n    // isHidden = !isHidden;\n    console.log(\"dbl\")\n    this.setState({ isHidden: false });\n    if (this.props.onDblClick) this.props.onDblClick(this.props.id);\n  }\n\n  onClick = () => {\n    if (this.props.newIconToTop) this.props.newIconToTop();\n    if (this.props.onClickMobile) {\n      this.props.onClickMobile();\n      console.log(\"mob cl\")\n      this.onDblClick();\n    } \n  }\n\n  onHide = () => {\n    this.setState({ isHidden: true });\n  }\n\n\n\n  render() {\n\n    // const { ui } = this.props;\n    // if (ui.isMobile)\n      // return this.getMobileDesktop();\n    return this.getDesktopDesktop();\n\n  }\n\n  getDesktopDesktop = () => {\n    const { controlledPosition } = this.state;\n    // const parser = new DOMParser();\n    // var title = this.props.title;\n\n    var classn = \"DesktopIcon\";\n    if (this.props.className) classn += \" \" + this.props.className;\n\n\n\n    // position = {...} makes it have a specific location. when you want direct control.\n    // let pos = this.state.controlledPosition;\n    // let frameH = this.toolBarH + (this.state.isMinimized ? 0 : this.props.height);\n    // so if we make pos null, it stays where it is dragged to\n    // however, it doesn't update when the page width / height changes\n    // if we let pos be equal to props.px/ props.py, it changes location\n    const bounded = this.props.bounded ? \".App-Content\" : null;\n    return (\n      <div className=\"DesktopDiv\" >\n        <Draggable\n          axis=\"both\"\n          handle={\".DesktopIcon\"}\n          defaultPosition={{ x: this.props.x, y: this.props.y }}\n          position={controlledPosition}\n          grid={[1, 1]}\n          scale={1}\n          bounds={bounded}\n          cancel=\".close, .minimize, .zoom\"\n          onStart={this.handleStart}\n          onDrag={this.onControlledDrag}\n          onStop={this.handleStop}\n          nodeRef={this.wrapper}\n        >\n          <div ref={this.wrapper} onDoubleClick={this.onDblClick} onClick={this.onClick} className={classn} style={{ width: this.props.width + \"px\", height: this.props.height + \"px\", zIndex: this.props.zIcon ? this.props.zIcon : 0 }} >\n            <div className=\"content\">\n              {this.props.content}\n            </div>\n            <div className=\"desktop-text\">{this.props.title}</div>\n          </div>\n        </Draggable>\n        {this.props.disableWindow ? null : this.getFrame()}\n      </div>\n    );\n  }\n\n  getMobileDesktop = () => {\n\n    // const parser = new DOMParser();\n    // var title = this.props.title;\n\n    // var classn = \"DesktopIcon DesktopIconMobile\";\n    // if (this.props.className) classn += \" \" + this.props.className;\n\n    return (\n      <div className=\"DesktopDivMobile\"\n        onClick={this.onDblClick}\n        style={{\n          top: this.props.y,\n          left: this.props.x,\n          width: this.props.width,\n          height: this.props.height,\n          zIndex: this.props.zIcon ? this.props.zIcon : 0\n        }} >\n        <div className=\"content\">\n          {this.props.content}\n        </div>\n        <div className=\"desktop-text\">{this.props.title}</div>\n      </div>\n    );\n\n  }\n\n  getFrame() {\n    const { isHidden } = this.state;\n\n    return (\n      <Frame className=\"FolderOpenFrame\" title={this.props.title} isHidden={isHidden} onHide={this.onHide.bind(this)} x={this.props.box.x} y={this.props.box.y} z={this.props.zFrame ? this.props.zFrame : 0} width={this.props.box.w} height={this.props.box.h} content={this.props.frameContent} newFrameToTop={this.props.newFrameToTop} />\n\n    )\n  }\n\n}\n\n\n\n\n// const mapStateToProps = (state) => {\n//   return {\n//     ui: state.ui,\n//   }\n// }\n\n// const mapDispatchToProps = () => {\n//   return {\n//   }\n// }\n\n\n// export default connect(mapStateToProps, mapDispatchToProps())(DesktopIcon);\n\nexport default DesktopIcon;\n","import { useEffect, useRef } from 'react'\n\nfunction useInterval(callback, delay) {\n  const savedCallback = useRef(callback)\n\n  // Remember the latest callback if it changes.\n  useEffect(() => {\n    savedCallback.current = callback\n  }, [callback])\n\n  // Set up the interval.\n  useEffect(() => {\n    // Don't schedule if no delay is specified.\n    if (delay === null) {\n      return\n    }\n\n    const id = setInterval(() => savedCallback.current(), delay)\n\n    return () => clearInterval(id)\n  }, [delay])\n}\n\nexport default useInterval\n","\nexport function getRandomNum(val) {\n  var x = Math.sin(val) * 10000;\n  return x - Math.floor(x);\n}\n\n// index 2 goes to top\n// 3 , 2, 1, 0\n//-> 2, 1, 3, 0\nexport function getNewZIndices(indexToTop, array) {\n  let prevVal = array[indexToTop];\n  let maxVal = 0;\n  let newArr = [];\n  for (let i = 0; i < array.length; i++) {\n    if (array[i] > maxVal) maxVal = array[i];\n    if (array[i] > prevVal) newArr[i] = array[i]-1;\n    else newArr[i] = array[i];\n  }\n  newArr[indexToTop] = maxVal;\n  return newArr;\n}\n\nexport function mapVal(val, in_min, in_max, out_min, out_max) {\n  return (val - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n}\n\nexport function constrain(val, min, max) {\n  if (val < min)\n    return min;\n  else if (val > max)\n    return max;\n  return val;\n}\n\nexport function randomInRange(start, end) {\n  let diff = end-start;\n  return Math.random()*diff+start;\n}","import React, { useState, useEffect } from 'react';\nimport './Yosemite.scss';\n\n// components\n\nimport Frame from '../../shared/Frame/Frame';\nimport DesktopIcon from '../../shared/DesktopIcon/DesktopIcon';\n\n// hooks\n\n// import useAudio from '../../../hooks/useAudio';\nimport useSound from 'use-sound';\nimport useInterval from '../../../hooks/useInterval';\n\n// helpers\nimport { mapVal, constrain, randomInRange } from '../../shared/Helpers/Helpers';\n\n\nexport default function Yosemite(props) {\n\n  const getPopUps = () => {\n    const { ui } = props;\n\n    let _numPops = constrain(ui.width / 30, 20, 60);\n\n    let _popups = [];\n    for (let i = 0; i < _numPops; i++) {\n      let w = 80;//Math.floor(maxS);\n      let x = randomInRange(0, ui.width - w);\n      let bottom = ui.contentH;\n      let yMax = bottom - w - 30;\n      let yMin = 60;\n      let y = randomInRange(yMin, yMax);\n      let z = i;\n      let isHidden = true;\n      let classN = \"\";\n      _popups.push({ x, y, z, w, isHidden, classN });\n    }\n    return _popups;\n  }\n\n  const [numPops, setNumPops] = useState(0);\n  const [popTime, setPopTime] = useState(3000);\n  const [numFrames, setNumFrames] = useState(0);\n  const [popW, setPopW] = useState(80);\n  const [popups, setPopUps] = useState(getPopUps());\n\n\n  // const start = new Date();\n  // const [hasStarted, setHasStarted] = useState(false);\n\n  // hooks\n\n\n  useEffect(() => {\n    props.setVolume(0);\n\n  },\n    [])\n\n\n\n  useInterval(\n    () => {\n      popUp();\n    },\n    props.hasLoadedRoom ? popTime : null,\n  )\n\n\n\n\n  const popUp = () => {\n\n    const { ui } = props;\n\n    setPopTime(Math.max(popTime - 200, 300))\n    setNumPops((numPops + 1) % popups.length);\n    setPopW(Math.min(popW + 10, 3000));\n\n    setPopUps(\n      popups.map((pop, i) => {\n        if (i === numPops) {\n          let p = { ...pop };\n          p.w = popW;\n          p.isHidden = false;\n          p.x = randomInRange(0, ui.width - popW);\n          p.y = randomInRange(60, ui.contentH - popW - 30);\n          return p;\n        }\n        return pop;\n      }\n      ));\n\n    let vol = mapVal(popW, 80, 300, 0, 1);\n    vol = constrain(vol, 0, 1);\n    props.setVolume(vol);\n\n  }\n\n  const onHide = (id) => {\n\n    setPopUps(\n      popups.map((pop, i) => {\n        if (i === id) {\n          let p = { ...pop };\n          p.isHidden = true;\n          return p;\n        }\n        return pop;\n      }\n      ));\n  }\n\n\n  const onDblClick = (i) => {\n    console.log(i);\n    setNumFrames(numFrames + 1);\n  }\n\n  const clicked = (id) => {\n    setNumFrames(numFrames + 1);\n  }\n\n  const getFrames = () => {\n    const { ui } = props;\n\n    let frames = [];\n    for (let i = 0; i < numFrames; i++) {\n      frames[i] = i;\n    }\n\n    return (\n      <div className=\"openedFrames\">\n        {frames.map((frame, i) => {\n          let framesW = 20;\n          let startX = 100;\n          if (ui.contentW < 500) {\n            framesW = 5;\n            startX = 20;\n          }\n\n          let direction = Math.floor(frame / framesW);\n\n          let x = 0;\n          if (direction % 2 === 0)\n            x = startX + frame % framesW * 20;\n          else\n            x = startX + framesW * 20 - frame % framesW * 20;\n\n          return (\n            <Frame\n              handle={\".App\"}\n              key={frame}\n              // bounded={true}\n              x={x}\n              y={100 + frame * 20}\n              width={300}\n              height={150}\n              title={\"\"}\n              windowStyle={{ background: \"white\" }}\n              content={\n                <div className=\"burned-folders\">\n                  {getFolderList([\"backup_\" + (i + 1)], ui.isMobile, frame)}\n                </div>\n              }\n            />\n          )\n        })}\n      </div>\n    )\n\n  }\n\n\n  const getFolderList = (titles, isMobile, frame) => {\n    return (\n\n      titles.map((title, i) => {\n        if (isMobile) {\n          return (\n            <div className=\"folder-item\" key={i} onClick={(event) => clicked(frame)}>\n              <div className=\"folder-img\" />\n              <div className=\"folder-title\">{title}</div>\n            </div>\n          )\n        }\n        return (\n          <div className=\"folder-item\" key={i} onDoubleClick={(event) => clicked(frame)}>\n            <div className=\"folder-img\" />\n\n            <div className=\"folder-title\">{title}</div>\n          </div>\n\n        )\n      })\n\n    )\n\n  }\n\n  var box = { x: 100, y: 100, w: 300, h: 200 };\n  const { ui } = props;\n\n  return (\n    <React.Fragment>\n      <div className=\"Sketch Yosemite\">\n\n        {\n          popups.map((pop, i) => {\n            // console.log(i);\n            return (\n              <Frame\n                windowStyle={{ background: \"rgba(0, 0, 0, .3)\" }}\n                content={\n                  <div className=\"fyre\" ></div>\n                }\n                key={i}\n                onHide={() => onHide(i)}\n                isHidden={pop.isHidden}\n                bounded={false}\n                width={pop.w}\n                height={pop.w}\n                className=\"fire\"\n                x={pop.x}\n                y={pop.y}\n                z={i === numPops ? popups.length : i}\n              />\n            );\n\n          })\n        }\n        <DesktopIcon\n          disableWindow={true}\n          onDblClick={() => onDblClick(0)}\n          x={ui.contentW - 150}\n          y={100}\n          width={83}\n          height={90}\n          box={box}\n          title={\"home\"}\n          content={\n            <img alt=\"fire window\" src={window.LMD + \"/shared/homeicon.png\"} width={80} height={80} />\n          }\n          frameContent={\n            <div className=\"test\">home</div>\n          }\n        />\n\n        {getFrames()}\n\n      </div>\n    </React.Fragment>\n  )\n}\n\n\n\n\n","import {\n\tClock,\n\tColor,\n\tLinearEncoding,\n\tMatrix4,\n\tMesh,\n\tRepeatWrapping,\n\tShaderMaterial,\n\tTextureLoader,\n\tUniformsLib,\n\tUniformsUtils,\n\tVector2,\n\tVector4\n} from 'three';\nimport { Reflector } from 'three/examples/jsm/objects/Reflector.js';\nimport { Refractor } from 'three/examples/jsm/objects/Refractor.js';\n\n/**\n * References:\n *\thttp://www.valvesoftware.com/publications/2010/siggraph2010_vlachos_waterflow.pdf\n * \thttp://graphicsrunner.blogspot.de/2010/08/water-using-flow-maps.html\n *\n */\n\nclass Water extends Mesh {\n\n\tconstructor( geometry, options = {} ) {\n\n\t\tsuper( geometry );\n\n\t\tthis.type = 'Water';\n\n\t\tconst scope = this;\n\n\t\tconst color = ( options.color !== undefined ) ? new Color( options.color ) : new Color( 0xFFFFFF );\n\t\tconst textureWidth = options.textureWidth || 512;\n\t\tconst textureHeight = options.textureHeight || 512;\n\t\tconst clipBias = options.clipBias || 0;\n\t\tconst flowDirection = options.flowDirection || new Vector2( 1, 0 );\n\t\tconst flowSpeed = options.flowSpeed || 0.03;\n\t\tconst reflectivity = options.reflectivity || 0.02;\n\t\tconst scale = options.scale || 1;\n\t\tconst shader = options.shader || Water.WaterShader;\n\t\tconst encoding = options.encoding !== undefined ? options.encoding : LinearEncoding;\n\n\t\tconst textureLoader = new TextureLoader();\n\n\t\tconst flowMap = options.flowMap || undefined;\n\t\tconst normalMap0 = options.normalMap0 || textureLoader.load( process.env.PUBLIC_URL + '/textures/water/Water_1_M_Normal.jpg' );\n\t\tconst normalMap1 = options.normalMap1 || textureLoader.load( process.env.PUBLIC_URL + '/textures/water/Water_2_M_Normal.jpg' );\n\n\t\tconst cycle = 0.15; // a cycle of a flow map phase\n\t\tconst halfCycle = cycle * 0.5;\n\t\tconst textureMatrix = new Matrix4();\n\t\tconst clock = new Clock();\n\n\t\t// internal components\n\n\t\tif ( Reflector === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Water: Required component Reflector not found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( Refractor === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Water: Required component Refractor not found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst reflector = new Reflector( geometry, {\n\t\t\ttextureWidth: textureWidth,\n\t\t\ttextureHeight: textureHeight,\n\t\t\tclipBias: clipBias,\n\t\t\tencoding: encoding\n\t\t} );\n\n\t\tconst refractor = new Refractor( geometry, {\n\t\t\ttextureWidth: textureWidth,\n\t\t\ttextureHeight: textureHeight,\n\t\t\tclipBias: clipBias,\n\t\t\tencoding: encoding\n\t\t} );\n\n\t\treflector.matrixAutoUpdate = false;\n\t\trefractor.matrixAutoUpdate = false;\n\n\t\t// material\n\n\t\tthis.material = new ShaderMaterial( {\n\t\t\tuniforms: UniformsUtils.merge( [\n\t\t\t\tUniformsLib[ 'fog' ],\n\t\t\t\tshader.uniforms\n\t\t\t] ),\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\ttransparent: true,\n\t\t\tfog: true\n\t\t} );\n\n\t\tif ( flowMap !== undefined ) {\n\n\t\t\tthis.material.defines.USE_FLOWMAP = '';\n\t\t\tthis.material.uniforms[ 'tFlowMap' ] = {\n\t\t\t\ttype: 't',\n\t\t\t\tvalue: flowMap\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tthis.material.uniforms[ 'flowDirection' ] = {\n\t\t\t\ttype: 'v2',\n\t\t\t\tvalue: flowDirection\n\t\t\t};\n\n\t\t}\n\n\t\t// maps\n\n\t\tnormalMap0.wrapS = normalMap0.wrapT = RepeatWrapping;\n\t\tnormalMap1.wrapS = normalMap1.wrapT = RepeatWrapping;\n\n\t\tthis.material.uniforms[ 'tReflectionMap' ].value = reflector.getRenderTarget().texture;\n\t\tthis.material.uniforms[ 'tRefractionMap' ].value = refractor.getRenderTarget().texture;\n\t\tthis.material.uniforms[ 'tNormalMap0' ].value = normalMap0;\n\t\tthis.material.uniforms[ 'tNormalMap1' ].value = normalMap1;\n\n\t\t// water\n\n\t\tthis.material.uniforms[ 'color' ].value = color;\n\t\tthis.material.uniforms[ 'reflectivity' ].value = reflectivity;\n\t\tthis.material.uniforms[ 'textureMatrix' ].value = textureMatrix;\n\n\t\t// inital values\n\n\t\tthis.material.uniforms[ 'config' ].value.x = 0; // flowMapOffset0\n\t\tthis.material.uniforms[ 'config' ].value.y = halfCycle; // flowMapOffset1\n\t\tthis.material.uniforms[ 'config' ].value.z = halfCycle; // halfCycle\n\t\tthis.material.uniforms[ 'config' ].value.w = scale; // scale\n\n\t\t// functions\n\n\t\tfunction updateTextureMatrix( camera ) {\n\n\t\t\ttextureMatrix.set(\n\t\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t\t);\n\n\t\t\ttextureMatrix.multiply( camera.projectionMatrix );\n\t\t\ttextureMatrix.multiply( camera.matrixWorldInverse );\n\t\t\ttextureMatrix.multiply( scope.matrixWorld );\n\n\t\t}\n\n\t\tfunction updateFlow() {\n\n\t\t\tconst delta = clock.getDelta();\n\t\t\tconst config = scope.material.uniforms[ 'config' ];\n\n\t\t\tconfig.value.x += flowSpeed * delta; // flowMapOffset0\n\t\t\tconfig.value.y = config.value.x + halfCycle; // flowMapOffset1\n\n\t\t\t// Important: The distance between offsets should be always the value of \"halfCycle\".\n\t\t\t// Moreover, both offsets should be in the range of [ 0, cycle ].\n\t\t\t// This approach ensures a smooth water flow and avoids \"reset\" effects.\n\n\t\t\tif ( config.value.x >= cycle ) {\n\n\t\t\t\tconfig.value.x = 0;\n\t\t\t\tconfig.value.y = halfCycle;\n\n\t\t\t} else if ( config.value.y >= cycle ) {\n\n\t\t\t\tconfig.value.y = config.value.y - cycle;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tthis.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\tupdateTextureMatrix( camera );\n\t\t\tupdateFlow();\n\n\t\t\tscope.visible = false;\n\n\t\t\treflector.matrixWorld.copy( scope.matrixWorld );\n\t\t\trefractor.matrixWorld.copy( scope.matrixWorld );\n\n\t\t\treflector.onBeforeRender( renderer, scene, camera );\n\t\t\trefractor.onBeforeRender( renderer, scene, camera );\n\n\t\t\tscope.visible = true;\n\n\t\t};\n\n\t}\n\n}\n\nWater.prototype.isWater = true;\n\nWater.WaterShader = {\n\n\tuniforms: {\n\n\t\t'color': {\n\t\t\ttype: 'c',\n\t\t\tvalue: null\n\t\t},\n\n\t\t'reflectivity': {\n\t\t\ttype: 'f',\n\t\t\tvalue: 0\n\t\t},\n\n\t\t'tReflectionMap': {\n\t\t\ttype: 't',\n\t\t\tvalue: null\n\t\t},\n\n\t\t'tRefractionMap': {\n\t\t\ttype: 't',\n\t\t\tvalue: null\n\t\t},\n\n\t\t'tNormalMap0': {\n\t\t\ttype: 't',\n\t\t\tvalue: null\n\t\t},\n\n\t\t'tNormalMap1': {\n\t\t\ttype: 't',\n\t\t\tvalue: null\n\t\t},\n\n\t\t'textureMatrix': {\n\t\t\ttype: 'm4',\n\t\t\tvalue: null\n\t\t},\n\n\t\t'config': {\n\t\t\ttype: 'v4',\n\t\t\tvalue: new Vector4()\n\t\t}\n\n\t},\n\n\tvertexShader: /* glsl */`\n\n\t\t#include <common>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\n\t\tuniform mat4 textureMatrix;\n\n\t\tvarying vec4 vCoord;\n\t\tvarying vec2 vUv;\n\t\tvarying vec3 vToEye;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tvCoord = textureMatrix * vec4( position, 1.0 );\n\n\t\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\t\t\tvToEye = cameraPosition - worldPosition.xyz;\n\n\t\t\tvec4 mvPosition =  viewMatrix * worldPosition; // used in fog_vertex\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\n\t\t#include <common>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\n\t\tuniform sampler2D tReflectionMap;\n\t\tuniform sampler2D tRefractionMap;\n\t\tuniform sampler2D tNormalMap0;\n\t\tuniform sampler2D tNormalMap1;\n\n\t\t#ifdef USE_FLOWMAP\n\t\t\tuniform sampler2D tFlowMap;\n\t\t#else\n\t\t\tuniform vec2 flowDirection;\n\t\t#endif\n\n\t\tuniform vec3 color;\n\t\tuniform float reflectivity;\n\t\tuniform vec4 config;\n\n\t\tvarying vec4 vCoord;\n\t\tvarying vec2 vUv;\n\t\tvarying vec3 vToEye;\n\n\t\tvoid main() {\n\n\t\t\t#include <logdepthbuf_fragment>\n\n\t\t\tfloat flowMapOffset0 = config.x;\n\t\t\tfloat flowMapOffset1 = config.y;\n\t\t\tfloat halfCycle = config.z;\n\t\t\tfloat scale = config.w;\n\n\t\t\tvec3 toEye = normalize( vToEye );\n\n\t\t\t// determine flow direction\n\t\t\tvec2 flow;\n\t\t\t#ifdef USE_FLOWMAP\n\t\t\t\tflow = texture2D( tFlowMap, vUv ).rg * 2.0 - 1.0;\n\t\t\t#else\n\t\t\t\tflow = flowDirection;\n\t\t\t#endif\n\t\t\tflow.x *= - 1.0;\n\n\t\t\t// sample normal maps (distort uvs with flowdata)\n\t\t\tvec4 normalColor0 = texture2D( tNormalMap0, ( vUv * scale ) + flow * flowMapOffset0 );\n\t\t\tvec4 normalColor1 = texture2D( tNormalMap1, ( vUv * scale ) + flow * flowMapOffset1 );\n\n\t\t\t// linear interpolate to get the final normal color\n\t\t\tfloat flowLerp = abs( halfCycle - flowMapOffset0 ) / halfCycle;\n\t\t\tvec4 normalColor = mix( normalColor0, normalColor1, flowLerp );\n\n\t\t\t// calculate normal vector\n\t\t\tvec3 normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );\n\n\t\t\t// calculate the fresnel term to blend reflection and refraction maps\n\t\t\tfloat theta = max( dot( toEye, normal ), 0.0 );\n\t\t\tfloat reflectance = reflectivity + ( 1.0 - reflectivity ) * pow( ( 1.0 - theta ), 5.0 );\n\n\t\t\t// calculate final uv coords\n\t\t\tvec3 coord = vCoord.xyz / vCoord.w;\n\t\t\tvec2 uv = coord.xy + coord.z * normal.xz * 0.05;\n\n\t\t\tvec4 reflectColor = texture2D( tReflectionMap, vec2( 1.0 - uv.x, uv.y ) );\n\t\t\tvec4 refractColor = texture2D( tRefractionMap, uv );\n\n\t\t\t// multiply water color with the mix of both textures\n\t\t\tgl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\n\t\t}`\n\n};\n\nexport { Water };\n","import React from 'react';\nimport './Frame.css';\nimport Toolbar from './Toolbar';\n// import Draggable from 'react-draggable';\n\nclass FrameSimple extends React.Component {\n  // https://codepen.io/JohJakob/pen/YPxgwo\n\n  // constructor(props) {\n  //   super(props);\n  //   this.state = {\n  //     isMinimized: false,\n  //     isClosed: false\n  //   }\n  //\n  //   this.toggleClosed = this.toggleClosed.bind(this);\n  //\n  // }\n\n  render() {\n    let toolBarH = 30;\n\n    // var title = this.props.title;\n\n    let x = Math.floor(this.props.px);\n    let y = Math.floor(this.props.py);\n    var sty = {\n      width: this.props.width,\n      height: this.props.height + toolBarH,\n      left: x,\n      top: y,\n      // display: this.state.isClosed?\"none\":\"block\"\n    }\n\n    let classN = \"Frame FrameSimple\";\n    if (this.props.notAbsolute) classN += \" static\"\n\n    // so i guess x/y in <FrameSimple x={..} ...} doesn't do anything?\n    // but px={} py={} does?\n    // how does this differ from <Frame ..> ?\n    // oh frame simple isn't draggable.. doi\n\n     return (\n      <div className={classN} style={sty}>\n        <div className=\"window\" style={this.props.windowStyle}>\n          <Toolbar title={this.props.title} toggleClosed={this.toggleClosed} toggleMinimzed={this.toggleMinimzed} toggleMaximized={this.toggleMaximized} />\n\n          <div className=\"content\">\n            {this.props.content}\n          </div>\n\n        </div>\n      </div>\n\n    );\n  }\n\n  toggleMinimzed() {\n    //ok...\n  }\n\n  toggleClosed() {\n    // this.setState({isClosed: true});\n  }\n}\n\n\n\nexport default FrameSimple\n","import React from 'react';\nimport FrameSimple from '../../shared/Frame/FrameSimple';\n\nclass Birds extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      birdInitialsX: [],\n      birdInitialsY: [],\n      numVisibleBirds : 4,\n      flyIndex: 0,\n      flyDirection: true\n    }\n  }\n\n  componentDidMount() {\n    this.initBirds();\n    this.interval = setInterval(this.updateBirds, 50);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    return (\n      <div className=\"birds\">\n        {this.state.birdInitialsX.map((pos, index) => {\n          return (this.getBird(index))\n        })}\n      </div>\n    )\n  }\n\n  initBirds = () => {\n    let birds = [];\n    let xSpace = 100;\n    let ySpace = 80;\n    // let num = Math.floor(4*Math.random()+2);\n    // let d =  Math.random();\n    const dir = true;\n    const birdInitialsX = [];\n    const birdInitialsY = [];\n    const num = 5;\n    for (var i = 0; i < num; i++) {\n      let mid = num/2;\n\n      let dx = i * xSpace + Math.random()*30;\n      if (i >= mid) dx = (num - i) * xSpace + Math.random()*30;\n      if (num%2 == 0 && i>= mid) dx += xSpace/2;\n\n      let dy = i * ySpace + Math.random()*10;\n\n      let x0 = dx-300;\n      let y0 = dy;\n      birdInitialsX[i] = x0;\n      birdInitialsY[i] = y0;\n    }\n    this.setState({birdInitialsX, birdInitialsY, flyDirection: dir});\n  }\n\n  updateBirds = () => {\n    const maxW = this.state.windowWidth+600;\n    const {flyIndex, flyDirection} = this.state;\n    if (flyIndex > maxW) {\n      this.setState(prevState => ({\n        flyDirection: Math.random()>.5?true:false,\n        flyIndex: 0,\n        numVisibleBirds: Math.floor(4*Math.random()+2)\n      }));\n    }\n    else {\n      const inc = 5;\n      this.setState({flyIndex: this.state.flyIndex+inc});\n    }\n  }\n\n  getBird = (index) => {\n    const bird = this.getBirdLocation(index);\n    return (\n      <FrameSimple title=\"\" content={\n          <div className={\"bird \" + (this.state.flyDirection?\"flippedX\":\"\")}></div>\n        }\n        width={78+2} key={index} windowStyle={{background: \"transparent\"}} height={60} px={bird.x} py={bird.y}\n        />\n    )\n  }\n\n  getBirdLocation = (index) => {\n    const {numVisibleBirds, flyIndex, flyDirection, birdInitialsX, birdInitialsY, windowWidth} = this.state;\n    const bird = {};\n    if (index < numVisibleBirds) {\n      if (flyDirection) {\n        bird.x = flyIndex + birdInitialsX[index];\n        bird.y = birdInitialsY[index]+50*Math.sin(bird.x/100);\n        bird.y = Math.floor(bird.y);\n      } else {\n        bird.x = (windowWidth+100) - (flyIndex + birdInitialsX[index]);\n        bird.y = birdInitialsY[index]+50*Math.sin(bird.x/100);\n        bird.y = Math.floor(bird.y);\n      }\n    }\n    else {\n      bird.x = -1000;\n      bird.y = -1000;\n    }\n    return bird;\n  }\n\n\n}\n\nexport default Birds;\n","import React, { useState, useEffect } from 'react';\nimport \"./HardDrives.scss\";\n\nimport * as THREE from \"three\";\n// import { AnaglyphEffect } from 'three/examples/jsm/effects/AnaglyphEffect.js';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js';\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader.js';\nimport { DDSLoader } from 'three/examples/jsm/loaders/DDSLoader.js';\n// import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { Water } from '../../shared/3D/Water2';\n\n// components\nimport Frame from '../../shared/Frame/Frame';\nimport Birds from './Birds';\n\n\n// store\n// import { connect } from 'react-redux';\n// import { setSketchMusic } from '../../../store/actions/music';\n\n\n\nvar AnaglyphEffect = require('../../shared/3D/AnaglyphEffect')(THREE, true);\n\n\n\n// var start;\n// var changed = false;\n\n\n\nexport default function HardDrives(props) {\n\n    let scene, controls, mount, camera, renderer, effect, requestID;\n    let water, floorMaterial;\n    const trees = [];\n    const bottles = [];\n    const scaler = 4;\n    let seed = 13;\n    const island = \"https://www.google.com/maps/embed?pb=!4v1591730465198!6m8!1m7!1sCAoSLEFGMVFpcFBTYW9SYVFBMmR0QjhoeTVaSUs5R3lQaGJBNVB5dVhFQ2o0UVdW!2m2!1d-17.3611139!2d177.1339841!3f99.14217177224654!4f16.212409154729073!5f0.5970117501821992\";\n\n    const { ui } = props;\n    const svFrame = {};\n    let f = .8;\n    if (ui.contentW >= 1920)\n        f = 1.3;\n    const ogW = 600 * f;\n    const ogH = 450 * .8 * f;\n    svFrame.w = ogW;\n    svFrame.h = ogH;\n    svFrame.x = (ui.contentW - svFrame.w) * .27;\n    svFrame.y = (ui.contentH - svFrame.h - 30) * .5;\n\n    if (ui.hasFooter || ui.isMobile) {\n        if (ui.orientation === \"portrait\") {\n            let wTemp = ui.width - 40;\n            if (wTemp < ogW) {\n                svFrame.w = wTemp; // Math.min(ui.width-40, ogW);\n                svFrame.h = svFrame.h * (svFrame.w / ogW);\n                svFrame.y = 20; //ui.headerH + 50;\n                svFrame.x = 18;\n            }\n            else {\n                svFrame.x = (ui.width - svFrame.w - 4) / 2;\n\n            }\n            svFrame.y = ui.height / 2 - svFrame.h * .8;\n        }\n        else {\n            const factor = ui.height / 500;\n\n            if (factor < 1) {\n                svFrame.h *= ui.height / 500;\n                svFrame.w *= ui.height / 500;\n                svFrame.y = 10; //ui.headerH + 20;\n                svFrame.x = 50;\n            }\n\n        }\n    }\n\n    const title = \"\";// (ui.isMobile || ui.hasFooter) ? \"\": \"hard drives on seashores\";\n\n\n    useEffect(\n        () => {\n            // props.setAudioSource(window.LMD + \"/hardDrives/seagulls.mp3\");\n            // props.setVolume(.5);\n\n            window.addEventListener('resize', handleWindowResize);\n            setupScene();\n            startAnimationLoop();\n\n            return () => {\n                // props.setVolume(0);\n                window.removeEventListener('resize', handleWindowResize);\n                window.cancelAnimationFrame(requestID);\n                if (controls)\n                    controls.dispose();\n            }\n        },\n        // empty array if you want this to run once\n        // otherwise, fill with variables that will update\n        []\n    );\n\n\n\n    const handleWindowResize = () => {\n        const width = window.innerWidth; //this.el.clientWidth;\n        const height = window.innerHeight; //this.el.clientHeight;\n        renderer.setSize(width, height);\n        effect.setSize(width, height);\n        camera.aspect = width / height;\n        camera.updateProjectionMatrix();\n    };\n\n    const setupScene = () => {\n\n        // const camera = new AnaglyphUniversalCamera(\"af_cam\", new Vector3(0, 8 * scaler, -5 * scaler), 0.033, scene);\n        // scene.clearColor = Color3.Black();\n        // camera.setTarget(new Vector3(0, 8 * scaler, 0));\n\n        scene = new THREE.Scene();\n        camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 10000);\n        // camera.up = new THREE.Vector3(0,0,1);\n        camera.position.set(0, 8 * scaler, -5 * scaler);\n        camera.lookAt(new THREE.Vector3(0, 8 * scaler, 0));\n\n        renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true, });\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        // document.body.appendChild( renderer.domElement );\n        // use ref as a mount point of the Three.js scene instead of the document.body\n        mount.appendChild(renderer.domElement);\n\n\n        effect = new AnaglyphEffect(renderer);\n        effect.setSize(window.innerWidth, window.innerHeight);\n\n        // controls = new OrbitControls(camera, renderer.domElement);\n        // controls.minDistance = 1;\n        // controls.maxDistance = 80;\n        // controls.enablePan = false;\n\n        var ambientLight = new THREE.AmbientLight(0xaaaaaa);\n        scene.add(ambientLight);\n        addLight(-10, 2, 4);\n        addLight(1, -10, -2);\n\n\n        addPalms();\n        addSkybox();\n        addBottles();\n        addWater();\n        addFloor();\n\n    }\n\n    const startAnimationLoop = () => {\n\n\n        if (controls)\n            controls.update();\n        effect.render(scene, camera);\n        requestID = window.requestAnimationFrame(startAnimationLoop);\n\n        for (let i = 0; i < trees.length; i++) {\n            var sign = i % 2 === 0 ? 1 : -1;\n            trees[i].rotation.y += .005 * sign;\n        }\n\n        for (let i = 0; i < bottles.length; i++) {\n            bottles[i].position.y = .7 * Math.sin(new Date() / 600 + bottles[i].position.x / 60);\n        }\n    };\n\n    const addWater = () => {\n        const waterGeometry = new THREE.PlaneGeometry(512 * scaler, 512 * scaler);\n\n        const params = {\n            color: '#ffffff',\n            scale: 1,\n            flowX: .21,\n            flowY: .21\n        };\n\n        water = new Water(waterGeometry, {\n            color: params.color,\n            scale: params.scale,\n            flowDirection: new THREE.Vector2(params.flowX, params.flowY),\n            textureWidth: 1024,\n            textureHeight: 1024\n        });\n\n        water.position.y = 1; //scaler;\n        water.rotation.x = Math.PI * - 0.5;\n\n        // water.material.uniforms['color'].value.set(0xffffff);\n        // water.material.uniforms['config'].value.w = 4;\n        // water.material.uniforms['flowDirection'].value.x = 1;\n        // water.material.uniforms['flowDirection'].value.normalize();\n        // water.material.uniforms['flowDirection'].value.y = 1;\n        // water.material.uniforms['flowDirection'].value.normalize();\n\n        scene.add(water);\n    }\n\n    const addLight = (...pos) => {\n        const color = 0xFFFFFF;\n        const intensity = 1;\n        const light = new THREE.DirectionalLight(color, intensity);\n        light.position.set(...pos);\n        scene.add(light);\n    }\n\n    const addSkybox = () => {\n        const loader = new THREE.CubeTextureLoader();\n        const texture = loader.load([\n            window.LMD + \"/hardDrives/skybox/skybox_px.jpg\",\n            window.LMD + \"/hardDrives/skybox/skybox_nx.jpg\",\n            window.LMD + \"/hardDrives/skybox/skybox_py.jpg\",\n            window.LMD + \"/hardDrives/skybox/skybox_ny.jpg\",\n            window.LMD + \"/hardDrives/skybox/skybox_pz.jpg\",\n            window.LMD + \"/hardDrives/skybox/skybox_nz.jpg\",\n        ]);\n        scene.background = texture;\n    }\n\n    const addFloor = () => {\n        // FLOOR\n        var floorTexture = new THREE.TextureLoader().load(window.LMD + \"/shared/black_sand.jpg\");\n        floorTexture.wrapS = floorTexture.wrapT = THREE.RepeatWrapping;\n        floorTexture.repeat.set(20.0, 20.0);\n        floorMaterial = new THREE.MeshBasicMaterial({ map: floorTexture, side: THREE.BackSide });\n        var floorGeometry = new THREE.PlaneGeometry(1000, 1500, 10, 10);\n        var floor = new THREE.Mesh(floorGeometry, floorMaterial);\n        floor.position.y = -3;\n        floor.rotation.x = Math.PI / 2;\n        floor.position.z = - 200\n        scene.add(floor);\n    }\n\n\n    const addPalms = () => {\n        var modelPath = window.LMD + \"/hardDrives/palm/\";\n        var model = \"QueenPalmTree\";\n        var onProgress = function (xhr) {\n            if (xhr.lengthComputable) {\n                var percentComplete = xhr.loaded / xhr.total * 100;\n                // console.log(Math.round(percentComplete, 2) + '% downloaded');\n            }\n        }\n        var onError = function () { };\n        var manager = new THREE.LoadingManager();\n        manager.addHandler(/\\.dds$/i, new DDSLoader());\n        new MTLLoader(manager)\n            .setPath(modelPath)\n            .load(model + '.mtl', function (materials) {\n\n                materials.preload();\n\n                new OBJLoader(manager)\n                    .setMaterials(materials)\n                    .setPath(modelPath)\n                    .load(model + '.obj', function (tree) {\n                        let positions = [{ x: -5, y: 0, z: -2 }, { x: 5, y: 0, z: -2 }, { x: 4, y: 0, z: -10 }, { x: -4, y: 0, z: -10 }]\n\n                        tree.rotation.y = 0;\n                        tree.scale.set(scaler, scaler, scaler);\n                        tree.position.x = positions[0].x * scaler;\n                        tree.position.y = positions[0].y * scaler;\n                        tree.position.z = positions[0].z * scaler;\n                        trees.push(tree);\n                        scene.add(tree);\n\n                        for (let i = 1; i < positions.length; i++) {\n                            let copy = tree.clone();\n                            copy.rotation.y = Math.PI * 1.5;\n                            copy.position.x = positions[i].x * scaler;\n                            copy.position.z = positions[i].z * scaler;\n                            trees.push(copy);\n                            scene.add(copy);\n                        }\n\n                    }, onProgress, onError);\n\n            });\n\n        //\n    }\n\n    const addBottles = () => {\n\n        var modelPath = window.LMD + \"/hardDrives/Corona/\"\n        var model = \"Corona2\";\n        var onProgress = function (xhr) {\n            if (xhr.lengthComputable) {\n                var percentComplete = xhr.loaded / xhr.total * 100;\n                // console.log(\"bt\", Math.round(percentComplete, 2) + '% downloaded');\n            }\n        }\n        var onError = function (error) {\n            // console.log(\"issue with bottle\", error)\n        };\n        var manager = new THREE.LoadingManager();\n        manager.addHandler(/\\.dds$/i, new DDSLoader());\n        new MTLLoader(manager)\n            .setPath(modelPath)\n            .load(model + '.mtl', function (materials) {\n\n                materials.preload();\n\n                new OBJLoader(manager)\n                    .setMaterials(materials)\n                    .setPath(modelPath)\n                    .load(model + '.obj', function (bottle) {\n                        let bottleVectors = [\n                            {},\n                            { \"id\": 0, \"pos\": { \"x\": 88, \"y\": 0, \"z\": 128 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 1, \"pos\": { \"x\": 38, \"y\": 0, \"z\": 78 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 2, \"pos\": { \"x\": 68, \"y\": 0, \"z\": 108 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 3, \"pos\": { \"x\": 0, \"y\": 0, \"z\": 108 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 4, \"pos\": { \"x\": -88, \"y\": 0, \"z\": 98 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 5, \"pos\": { \"x\": -78, \"y\": 0, \"z\": 68 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 6, \"pos\": { \"x\": 3, \"y\": 0, \"z\": 148 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 7, \"pos\": { \"x\": 4, \"y\": 0, \"z\": 28 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 8, \"pos\": { \"x\": -40, \"y\": 0, \"z\": -98 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } }, // back\n                            { \"id\": 8, \"pos\": { \"x\": -70, \"y\": 0, \"z\": 98 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n\n                            // back (repeat)\n                            { \"id\": 0, \"pos\": { \"x\": 88, \"y\": 0, \"z\": -128 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 1, \"pos\": { \"x\": 38, \"y\": 0, \"z\": -78 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 2, \"pos\": { \"x\": 68, \"y\": 0, \"z\": -108 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 3, \"pos\": { \"x\": 0, \"y\": 0, \"z\": -108 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 4, \"pos\": { \"x\": -88, \"y\": 0, \"z\": -98 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 5, \"pos\": { \"x\": -78, \"y\": 0, \"z\": -68 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 6, \"pos\": { \"x\": 3, \"y\": 0, \"z\": -148 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n\n\n                            // left\n                            { \"id\": 0, \"pos\": { \"x\": 188, \"y\": 0, \"z\": 48 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 1, \"pos\": { \"x\": 138, \"y\": 0, \"z\": 28 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 2, \"pos\": { \"x\": 168, \"y\": 0, \"z\": 0 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 3, \"pos\": { \"x\": 100, \"y\": 0, \"z\": -20 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n\n\n                            // right\n                            { \"id\": 0, \"pos\": { \"x\": -188, \"y\": 0, \"z\": 30 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 1, \"pos\": { \"x\": -138, \"y\": 0, \"z\": 20 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 2, \"pos\": { \"x\": -168, \"y\": 0, \"z\": 0 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                            { \"id\": 3, \"pos\": { \"x\": -100, \"y\": 0, \"z\": -18 }, \"rot\": { \"x\": 0, \"y\": 0, \"z\": 0 } },\n                        ]\n\n                        // bottle.rotation.y = 0;\n                        // bottle.scale.set(scaler, scaler, scaler);\n                        // bottle.position.x = bottleVectors[0].x * scaler;\n                        // bottle.position.y = positions[0].y * scaler;\n                        // bottle.position.z = positions[0].z * scaler;\n                        // trees.push(tree);\n                        // scene.add(tree);\n\n                        for (let i = 1; i < bottleVectors.length; i++) {\n                            let copy = bottle.clone();\n                            copy.rotation.y = getRandom() * Math.PI * 2;\n                            copy.rotation.x = Math.PI;\n                            copy.rotation.z = (-.3 + getRandom() * .6);\n                            copy.position.y = 2; //Math.abs((Math.sin(((x / 0.05) + time * water.waveSpeed)) * water.waveHeight * water.windDirection.x * 5.0) + (Math.cos(((z / 0.05) +  time * water.waveSpeed)) * water.waveHeight * water.windDirection.y * 5.0));\n\n                            copy.position.x = bottleVectors[i].pos.x;\n                            // copy.position.y = bottleVectors[i].pos.y;\n                            copy.position.z = bottleVectors[i].pos.z;\n\n                            bottles.push(copy);\n                            scene.add(copy);\n\n                        }\n\n                    }, onProgress, onError);\n\n            });\n\n        //\n    }\n\n    const getRandom = () => {\n        var x = Math.sin(seed++) * 10000;\n        return x - Math.floor(x);\n    }\n\n\n    return (\n        <div className=\"HardDrives Sketch\">\n\n            <div className=\"threeCanvas\" ref={ref => (mount = ref)} />\n            <Frame title={title} content={\n                <iframe title=\"island view\" src={island} width={svFrame.w} height={svFrame.h} frameBorder=\"0\" allowFullScreen=\"\" aria-hidden=\"false\" tabIndex=\"0\"></iframe>\n            }\n                width={svFrame.w} height={svFrame.h} x={svFrame.x} y={svFrame.y}\n            />\n            <Birds />\n        </div>\n    )\n\n\n\n}\n","import * as THREE from \"three\";\n\nexport default class Pipe {\n  constructor(nodes, scene) {\n\n    this.pipeRadius = 0.2;\n    this.ballJointRadius = this.pipeRadius * 1.5;\n    this.gridBounds = new THREE.Box3(\n      new THREE.Vector3(-10, -10, -10),\n      new THREE.Vector3(10, 10, 10)\n    );\n\n    this.scene = scene;\n    this.nodes = nodes;\n\n    this.currentPosition = randomIntegerVector3WithinBox(this.gridBounds);\n    this.positions = [this.currentPosition];\n    this.object3d = new THREE.Object3D();\n\n    this.scene.add(this.object3d);\n    this.addTexture();\n    this.setAt(nodes, this.currentPosition, this);\n    this.makeBallJoint(this.currentPosition);\n  }\n\n  makeCylinderBetweenPoints(fromPoint, toPoint, material) {\n    var deltaVector = new THREE.Vector3().subVectors(toPoint, fromPoint);\n    var arrow = new THREE.ArrowHelper(\n      deltaVector.clone().normalize(),\n      fromPoint\n    );\n    var geometry = new THREE.CylinderGeometry(\n      this.pipeRadius,\n      this.pipeRadius,\n      deltaVector.length(),\n      10,\n      4,\n      true\n    );\n    var mesh = new THREE.Mesh(geometry, material);\n\n    mesh.rotation.setFromQuaternion(arrow.quaternion);\n    mesh.position.addVectors(fromPoint, deltaVector.multiplyScalar(0.5));\n    mesh.updateMatrix();\n\n    this.object3d.add(mesh);\n  };\n\n  makeBallJoint(position) {\n    var ball = new THREE.Mesh(\n      new THREE.SphereGeometry(this.ballJointRadius, 8, 8),\n      this.material\n    );\n    ball.position.copy(position);\n    this.object3d.add(ball);\n  };\n\n  makeElbowJoint(fromPosition, toPosition, tangentVector) {\n    var elball = new THREE.Mesh(\n      new THREE.SphereGeometry(this.pipeRadius, 8, 8),\n      this.material\n    );\n    elball.position.copy(fromPosition);\n    this.object3d.add(elball);\n  };\n\n  addTexture() {\n    const texUrl = window.LMD + \"/jungleGyms/caution.jpg\";\n    var pipeTexture = new THREE.TextureLoader().load(  texUrl );//THREE.ImageUtils.loadTexture(texUrl);\n    pipeTexture.wrapS = pipeTexture.wrapT = THREE.RepeatWrapping;\n    pipeTexture.repeat.set(.2, .2);\n    if (pipeTexture) {\n      this.material = new THREE.MeshLambertMaterial({\n        map: pipeTexture,\n      });\n    } else {\n      var color = 0x00441f //randomInteger(0, 0xffffff);\n      var emissive = new THREE.Color(color).multiplyScalar(0.3);\n      this.material = new THREE.MeshPhongMaterial({\n        specular: 0xa9fcff,\n        color: color,\n        emissive: emissive,\n        shininess: 100,\n      });\n    }\n  }\n\n  update() {\n    if (this.positions.length > 1) {\n      var lastPosition = this.positions[this.positions.length - 2];\n      var lastDirectionVector = new THREE.Vector3().subVectors(\n        this.currentPosition,\n        lastPosition\n      );\n    }\n    if (Math.random>.5 && lastDirectionVector) {\n      var directionVector = lastDirectionVector;\n    } else {\n      var directionVector = new THREE.Vector3();\n      directionVector[chooseFrom(\"xyz\")] += chooseFrom([+1, -1]);\n    }\n    var newPosition = new THREE.Vector3().addVectors(\n      this.currentPosition,\n      directionVector\n    );\n\n    // TODO: try other possibilities\n    // ideally, have a pool of the 6 possible directions and try them in random order, removing them from the bag\n    // (and if there's truly nowhere to go, maybe make a ball joint)\n    if (!this.gridBounds.containsPoint(newPosition)) {\n      return;\n    }\n    if (this.getAt(newPosition)) {\n      return;\n    }\n    this.setAt(newPosition, this);\n\n    // joint\n    // (initial ball joint is handled elsewhere)\n    if (lastDirectionVector && !lastDirectionVector.equals(directionVector)) {\n      this.makeBallJoint(this.currentPosition);\n    }\n\n    // pipe\n    this.makeCylinderBetweenPoints(this.currentPosition, newPosition, this.material);\n\n    // update\n    this.currentPosition = newPosition;\n    this.positions.push(newPosition);\n  };\n\n  setAt(position, value) {\n    this.nodes[\"(\" + position.x + \", \" + position.y + \", \" + position.z + \")\"] = value;\n  }\n\n  getAt(position, value) {\n    return this.nodes[\"(\" + position.x + \", \" + position.y + \", \" + position.z + \")\"];\n  }\n\n};\n\n//////////////\n// HELPERS\nfunction chooseFrom(values) {\n  return values[Math.floor(Math.random() * values.length)];\n}\nfunction random(x1, x2) {\n  return Math.random() * (x2 - x1) + x1;\n}\nfunction randomInteger(x1, x2) {\n  return Math.round(random(x1, x2));\n}\nfunction randomIntegerVector3WithinBox(box) {\n  return new THREE.Vector3(\n    randomInteger(box.min.x, box.max.x),\n    randomInteger(box.min.y, box.max.y),\n    randomInteger(box.min.z, box.max.z)\n  );\n}\n","import React, { useState, useEffect } from 'react';\n// import ReactDOM from \"react-dom\";\n\nimport \"./JungleGyms.scss\";\n\nimport * as THREE from \"three\";\n// import { AnaglyphEffect } from 'three/examples/jsm/effects/AnaglyphEffect.js';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js';\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader.js';\nimport { DDSLoader } from 'three/examples/jsm/loaders/DDSLoader.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nimport Frame from '../../shared/Frame/Frame';\n\n// store\n// import { connect } from 'react-redux';\n// import { setSketchMusic } from '../../../store/actions/music';\n\nimport Pipe from './Pipe';\n\nvar AnaglyphEffect = require('../../shared/3D/AnaglyphEffect')(THREE, true);\n\n\n\nfunction JungleGyms() {\n\n\n  const [firstLoad, setLoad] = useState(true);\n\n  let scene, renderer, camera, effect, controls, requestID;\n  let mount;\n  let pipes = [];\n  let vines = [];\n  let nodes = [];\n  let videoSwings = React.createRef();\n  let videoGym = React.createRef();\n\n\n  useEffect(\n    () => {\n      // mount\n      const interval = setInterval(reset, 20000);\n      window.addEventListener('resize', handleWindowResize);\n\n      setupScene();\n      startAnimationLoop();\n\n      return () => {\n        // unmount\n        window.removeEventListener('resize', handleWindowResize);\n        window.cancelAnimationFrame(requestID);\n        controls.dispose();\n        clearInterval(interval);\n      }\n    },\n    // empty array if you want this to run once\n    // otherwise, fill with variables that will update\n    []\n  );\n\n\n  const handleWindowResize = () => {\n    const width = window.innerWidth; \n    const height = window.innerHeight;\n    renderer.setSize(width, height);\n    camera.aspect = width / height;\n    camera.updateProjectionMatrix();\n  };\n\n  const setupScene = () => {\n    scene = new THREE.Scene();\n    camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 100000);\n    renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true, });\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    // document.body.appendChild( renderer.domElement );\n    // use ref as a mount point of the Three.js scene instead of the document.body\n    mount.appendChild(renderer.domElement);\n\n\n    effect = new AnaglyphEffect(renderer);\n    effect.setSize(window.innerWidth, window.innerHeight);\n\n    controls = new OrbitControls(camera, renderer.domElement);\n    controls.enableZoom = false;\n    // controls.minDistance = 1;\n    // controls.maxDistance = 80;\n\n    var ambientLight = new THREE.AmbientLight(0xaaaaaa);\n    scene.add(ambientLight);\n    addLight(-10, 2, 4);\n    addLight(1, -10, -2);\n\n    addScreenCube(videoGym.current, 1920, 1080, .01, [0, 0, -8], [0, 0, 0], 47);\n    addScreenCube(videoSwings.current, 1080, 1920, .01, [6, 0, -20], [0, -Math.PI / 2, 0], 20);\n\n    pipes = [];\n    vines = [];\n    nodes = {};\n\n    addWallPaper();\n    addVines();\n    look();\n  }\n\n  const startAnimationLoop = () => {\n    // renderer.render( scene, camera );\n    for (let i = 0; i < pipes.length; i++) {\n      pipes[i].update();\n    }\n    if (pipes.length === 0) {\n      for (let i = 0; i < 1 + (1 + chance(1 / 10)); i++) {\n        pipes.push(new Pipe(nodes, scene));\n      }\n    }\n    for (let i = 0; i < 3; i++) {\n      if (vines[i]) vines[i].position.y = -10 - i * 5 + Math.sin(new Date().getTime() / 1000);\n    }\n\n    if (controls) controls.update();\n    effect.render(scene, camera);\n    requestID = window.requestAnimationFrame(startAnimationLoop);\n\n  };\n\n\n  const reset = () => {\n    // const {pipes} = this.state;\n    renderer.clear();\n    for (var i = 0; i < pipes.length; i++) {\n      scene.remove(pipes[i].object3d);\n    }\n    pipes = [];\n    nodes = {};\n    look();\n  }\n\n  const addLight = (...pos) => {\n    const color = 0xFFFFFF;\n    const intensity = 1;\n    const light = new THREE.DirectionalLight(color, intensity);\n    light.position.set(...pos);\n    scene.add(light);\n  }\n\n  const addScreenCube = (video, pW, pH, fac, pos, rot, boxLen) => {\n    var videoTex = new THREE.VideoTexture(video);\n    pW *= fac;\n    pH *= fac;\n\n    videoTex.minFilter = THREE.LinearFilter;\n    videoTex.magFilter = THREE.LinearFilter;\n    videoTex.format = THREE.RGBFormat;\n    var geometry = new THREE.PlaneGeometry(pW, pH, 1);\n    var material = new THREE.MeshBasicMaterial({ color: 0xffff00, side: THREE.DoubleSide, map: videoTex });\n    var plane = new THREE.Mesh(geometry, material);\n    plane.position.set(...pos);\n    plane.rotation.set(...rot);\n    scene.add(plane);\n\n\n    var geometry = new THREE.BoxGeometry(pW, pH, boxLen);\n    var material = new THREE.MeshPhongMaterial({ color: 0x00aa00, opacity: .3, transparent: true, side: THREE.DoubleSide }); //\n    var cube = new THREE.Mesh(geometry, material);\n    cube.position.set(...pos);\n    cube.rotation.set(...rot);\n    scene.add(cube);\n\n    var geometry = new THREE.BoxBufferGeometry(pW, pH, boxLen);\n    var edges = new THREE.EdgesGeometry(geometry);\n    var line = new THREE.LineSegments(edges, new THREE.LineBasicMaterial({ color: 0x00ff00, linewidth: 24 }));\n    line.position.set(...pos);\n    line.rotation.set(...rot);\n    scene.add(line);\n  }\n\n  const addWallPaper = () => {\n    const url = window.LMD + \"/jungleGyms/wallpaper3.jpg\";\n    var wall = new THREE.TextureLoader().load(url);\n    wall.wrapS = THREE.RepeatWrapping;\n    wall.wrapT = THREE.RepeatWrapping;\n    wall.repeat.set(4, 4);\n    var geometry = new THREE.PlaneGeometry(200, 100, 1);\n    var material = new THREE.MeshBasicMaterial({ color: 0xffff00, side: THREE.DoubleSide, map: wall });\n    var plane = new THREE.Mesh(geometry, material);\n    plane.position.set(0, 0, -14);\n    // scene.add( plane );\n    scene.background = wall;\n  }\n\n  const addVines = () => {\n    // var self = this;\n    var modelPath = window.LMD + \"/jungleGyms/vines/\";\n    var model = \"Vines\";\n    var onProgress = function (xhr) {\n      if (xhr.lengthComputable) {\n        var percentComplete = xhr.loaded / xhr.total * 100;\n        // console.log(Math.round(percentComplete, 2) + '% downloaded');\n      }\n    }\n    var onError = function () { };\n    var manager = new THREE.LoadingManager();\n    manager.addHandler(/\\.dds$/i, new DDSLoader());\n    new MTLLoader(manager)\n      .setPath(modelPath)\n      .load(model + '.mtl', function (materials) {\n\n        materials.preload();\n\n        new OBJLoader(manager)\n          .setMaterials(materials)\n          .setPath(modelPath)\n          .load(model + '.obj', function (vine) {\n            vine.rotation.set(0, Math.PI, 0);\n            vine.position.set(-10, -10, -10);\n            vine.scale.set(5, 5, 5);\n            vines.push(vine);\n\n            var newVine = vine.clone();\n            newVine.position.set(0, -15, 0);\n            vine.rotation.set(0, 0, 0);\n            vines.push(newVine);\n\n            var newVine2 = vine.clone();\n            newVine2.rotation.set(0, -Math.PI / 2, 0);\n            vines.push(newVine2);\n            scene.add(vine);\n            scene.add(newVine);\n            scene.add(newVine2);\n\n          }, onProgress, onError);\n\n      });\n\n    //\n  }\n\n  const look = () => {\n    // TODO: never don't change the view (except maybe while clearing)\n    if (firstLoad || chance(1 / 2)) {\n      // head-on view\n\n      camera.position.set(0, 0, 14);\n      setLoad(false);\n    } else {\n      // random view\n\n      var vector = new THREE.Vector3(30, 0, 0);\n\n      var axis = new THREE.Vector3(random(-1, 1), random(-1, 1), random(-1, 1));\n      var angle = Math.PI / 2;\n      var matrix = new THREE.Matrix4().makeRotationAxis(axis, angle);\n\n      vector.applyMatrix4(matrix);\n      camera.position.copy(vector);\n    }\n    // camera.position.set(0, 0, 14);\n    var center = new THREE.Vector3(0, 0, 0);\n    camera.lookAt(center);\n    // camera.updateProjectionMatrix(); // maybe?\n    controls.update();\n  }\n\n\n  const random = (x1, x2) => {\n    return Math.random() * (x2 - x1) + x1;\n  }\n\n  const chance = (value) => {\n    return Math.random() < value;\n  }\n\n\n  const gymUrl = window.LMD + \"/jungleGyms/gym.mp4\"\n  return (\n    <div className=\"JungleGyms Sketch\">\n      <div className=\"threeCanvas\" ref={ref => (mount = ref)} />\n      <video\n        playsInline\n        crossOrigin=\"anonymous\"\n        ref={videoGym}\n        autoPlay\n        muted\n        loop\n        className=\"gym\" >\n        <source src={gymUrl} type=\"video/mp4\" ></source>\n          Your browser does not support HTML5 video.\n        </video>\n      <video\n        playsInline\n        crossOrigin=\"anonymous\"\n        ref={videoSwings}\n        autoPlay\n        muted\n        loop\n        className=\"gym\" >\n        <source src={window.LMD + \"/jungleGyms/swings.mp4\"} type=\"video/mp4\" ></source>\n          Your browser does not support HTML5 video.\n        </video>\n\n    </div>\n  )\n}\n\n\n\n\n// const mapStateToProps = (state) => {\n//   return {\n//     ui: state.ui\n//   }\n// }\n\n// const mapDispatchToProps = () => {\n//   return {\n//     // doneLoadingApp\n//     setSketchMusic\n//   }\n// }\n\n\n// export default connect(mapStateToProps, mapDispatchToProps())(JungleGyms);\nexport default JungleGyms;\n","import React from \"react\";\nimport Sketch from \"react-p5\";\nimport Boid from './components/Boid/Boid';\nimport Hurricane from \"./components/Hurricane\";\n\n// let hurricaneImg;\nlet hurricane;\nlet boids = [];\nlet dogica;\n\nlet beach;\nlet beachGraphics;\n\nlet boidImgs = [];\nlet waterGif;\n\nexport default (props) => {\n\n\n    const preload = (p5) => {\n        const url = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches\";\n        const netURL = \"https://netscapes.s3.us-east-2.amazonaws.com/hurricane\";\n        dogica = p5.loadFont(url + '/shared/fonts/dogica.ttf');\n\n        boidImgs[0] = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/waveforms/txt.png\")\n        boidImgs[1] = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/loop/folder.png\");\n        beach = p5.loadImage(netURL + \"/beach.jpeg\");\n\n        waterGif = p5.loadGif(netURL + \"/water5.gif\"); //not sure why this one has a cors issue\n\n    }\n\n    ////////////////////////////////////////////////////////////////////////\n    // INITIALIZE\n    ////////////////////////////////////////////////////////////////////////\n    const setup = (p5, canvasParentRef) => {\n        // use parent to render the canvas in this ref\n        // (without that p5 will render the canvas outside of your component)\n\n        const cnv = p5.createCanvas(p5.windowWidth, p5.windowHeight);\n        cnv.parent(canvasParentRef);\n        cnv.mousePressed(() => canvasPressed(p5));\n\n        hurricane = new Hurricane(p5);\n\n        setBeachGraphics(p5);\n\n        for (let i = 0; i < 20; i++) {\n            boids[i] = new Boid(i, hurricane.getPos(), boidImgs, p5);\n        }\n\n\n\n        p5.textFont(dogica);\n\n    };\n\n    ////////////////////////////////////////////////////////////////////////\n    // DRAW\n    ////////////////////////////////////////////////////////////////////////\n    const draw = (p5) => {\n        p5.noErase();\n        p5.colorMode(p5.HSB, 255);\n        // p5.clear();\n        // let bkDim = getCenterCoverDim(p5, bkImg.width, bkImg.height);\n        // p5.image(bkImg, bkDim.x, bkDim.y, bkDim.w, bkDim.h);\n        p5.background(250, 255, 100, 8);\n        p5.image(beachGraphics, 0, 0);\n\n\n\n        // displayFlowField(p5);\n\n        // const {w, h, x, y} = getCoverBackground(beach, 1, p5);\n        // p5.image(beach, x, y, w, h);\n\n\n        for (let i = boids.length - 1; i >= 0; i--) {\n            let boid = boids[i];\n            if (hurricane.isVisible())\n                boid.update(hurricane.getPos(), p5);\n            boid.display(p5);\n        }\n\n        hurricane.display(p5);\n        hurricane.update(p5);\n\n        p5.erase(10, 10);\n        p5.rect(0, 0, p5.windowWidth, p5.windowHeight);\n\n        checkDimensions(p5);\n    }\n\n    const checkDimensions = (p5) => {\n        if (p5.windowWidth !== window.innerWidth || p5.windowHeight !== window.innerHeight) {\n            p5.windowWidth = window.innerWidth;\n            p5.windowHeight = window.innerHeight;\n            windowResized(p5);\n        }\n    }\n\n\n\n    const mouseDragged = (p5) => {\n    }\n\n    const keyPressed = (p5) => {\n\n    }\n\n    const canvasPressed = (p5) => {\n        hurricane.checkMouse();\n\n        for (const boid of boids) {\n            boid.checkMouse();\n        }\n    }\n\n\n    const mouseReleased = (p5) => {\n        hurricane.endDrag();\n        for (const boid of boids) {\n            boid.endDrag();\n        }\n    }\n\n    const windowResized = (p5) => {\n        p5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n        setBeachGraphics(p5);\n\n    }\n\n    const doubleClicked = (p5) => {\n        for (const b of boids) {\n            b.checkDoubleClicked(p5);\n        }\n    }\n\n    const displayFlowField = (p5) => {\n        let space = 30;\n        for (let x = 0; x < p5.windowWidth; x += space) {\n            for (let y = 0; y < p5.windowHeight; y += space) {\n                const hur = { ...hurricane.getPos() };\n                hur.x += hurricane.w / 2;\n                hur.y += hurricane.w / 2;\n                const d = p5.dist(x, y, hur.x, hur.y);\n                const len = p5.constrain(p5.map(d, 0, p5.windowWidth / 2, 30, 0), 0, 30);\n                let dy = y - hur.y;\n                let dx = x - hur.x;\n                let ang = p5.atan2(dy, dx) + Math.PI / 2;\n                let newX = x - len * p5.cos(ang);\n                let newY = y - len * p5.sin(ang);\n                p5.stroke(0);\n                // p5.strokeWeight(3);\n                // p5.line(x, y, newX, newY);\n                p5.push();\n                p5.translate(x, y);\n                p5.rotate(ang);\n                p5.textSize(len * 3);\n                // p5.text(\"0\", 0, 0);\n                p5.pop();\n            }\n        }\n    }\n\n    const setBeachGraphics = (p5) => {\n        const { w, h, x, y } = getCoverBackground(beach, 1, p5);\n        beachGraphics = p5.createGraphics(p5.windowWidth, p5.windowHeight);\n        beachGraphics.clear();\n        beachGraphics.tint(255, 7);\n        beachGraphics.image(beach, x, y, w, h);\n\n        // const { w, h, x, y } = getCoverBackground(waterGif, 1, p5);\n        // beachGraphics = p5.createGraphics(p5.windowWidth, p5.windowHeight);\n        // beachGraphics.clear();\n        // beachGraphics.image(waterGif, x, y);\n    }\n\n    const getCoverBackground = (img, zoom, p5) => {\n        const imgRatio = (img.height / img.width);\n        const height = p5.windowHeight;\n        const width = p5.windowWidth;\n        const containerRatio = (height / width)\n\n        // set h to canvas height, find w \n        if (containerRatio > imgRatio) {\n            var h = height * zoom;\n            var y = (height - h) / 2;\n            var factor = h / img.height;\n            var w = factor * img.width;\n            var x = (width - w) / 2;\n        }\n        // set width \n        else {\n            var w = width * zoom;\n            var x = (width - w) / 2;\n            var factor = w / img.width;\n            var h = img.height * factor;\n            var y = (height - h) / 2;\n        }\n\n        return { w, h, x, y, factor };\n\n    }\n\n\n    return <Sketch preload={preload} setup={setup} draw={draw} windowResized={windowResized} keyPressed={keyPressed} mouseReleased={mouseReleased} mouseDragged={mouseDragged} doubleClicked={doubleClicked} />;\n};\n","export default class Button {\n\n    constructor(x, y, p5) {\n        this.r = 10;\n        this.x = x;\n        this.y = y;\n        this.p5 = p5;\n    }\n\n    display(dx, dy) {\n        this.p5.stroke(255);\n        this.p5.strokeWeight(2);\n        this.p5.noFill();\n\n        if (this.mouseOver(dx, dy)) {\n            this.p5.fill(255);\n        }\n        this.p5.ellipse(this.x, this.y, this.r);\n    }\n\n    mouseOver(dx, dy) {\n        \n        let d = this.p5.dist(dx+this.x, dy+this.y, this.p5.mouseX, this.p5.mouseY);\n     \n        return d < this.r/2;\n    }\n\n\n}\n\n","import Draggable from './Draggable';\n\nexport default class ShadowDraggable extends Draggable {\n\n    constructor(id, x, y, w, h, p5, content) {\n       \n        super(id, x, y, w, h, p5, content);\n        const url = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/gallery/\";\n        this.shadow = p5.loadImage(url + \"tracklights/black_shadow.png\");\n    }\n\n\n\n    displayContent() {\n        this.displayShadow();\n        super.displayContent();\n    }\n\n    displayShadow() {\n\n        var backW = this.w * 1.25;\n        var backH = this.h * 1.2;\n\n        var backY = 0;\n\n        this.p5.push();\n        this.p5.translate(0, this.barH);\n        this.p5.image(this.shadow, 0, backY, backW, backH);\n        this.p5.pop();\n    }\n\n   \n}\n","import Button from './Button';\n// import { globalConfig, mouseToWorld } from \"../../../constants\";\n\nexport default class Draggable {\n  constructor(id, x, y, w, h, p5, content) {\n    this.p5 = p5;\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.id = id;\n    this.origX = this.x;\n    this.origY = this.y;\n    this.offsetX = 0;\n    this.offsetY = 0;\n    this.toolbarH = 25;\n    // this.opacity = p5.map(this.id, 0, 20, 0, 1);\n    this.startDrag = { x: 0, y: 0 };\n    this.startDragCoords = { x: 0, y: 0 };\n\n    this.dragging = false;\n    this.locked = false;\n\n    this.closed = false;\n    this.minimized = false;\n\n    this.barH = 26;\n    this.bRad = 10;\n\n    let xp = 15;\n    let yp = 12;\n    let sp = 20;\n    this.closeButton = new Button(xp, yp, p5);\n    this.minButton = new Button(xp + sp, yp, p5);\n    this.maxButton = new Button(xp + sp * 2, yp, p5);\n\n    this.content = content;\n    // this.mask;\n    // this.initMask();\n  }\n\n  initMask() {\n    this.mask = this.p5.createGraphics(this.w, this.h + this.barH);\n    this.mask.background(0);\n    this.mask.fill(255);\n    this.mask.noStroke();\n    // this.mask.rect(0, 0, this.w, this.h, this.bRad, this.bRad);\n    this.mask.ellipse(this.w / 2, this.h / 2, 50, 50);\n    if (this.content && this.content.width > 0) {\n\n      this.content.mask(this.mask);\n    }\n  }\n\n  display() {\n    this.p5.push();\n    this.p5.translate(this.x, this.y);\n    if (!this.closed) {\n      if (!this.minimized)\n        this.displayContent();\n    }\n    this.p5.pop();\n  }\n\n  displayToolBar() {\n    this.p5.push();\n    this.p5.translate(this.x, this.y);\n    if (!this.closed) {\n      this.p5.fill(0);\n      this.p5.noStroke();\n      if (!this.minimized) this.p5.rect(0, 10, this.w, (this.barH - 10));\n      this.p5.rect(0, 0, this.w, this.barH, this.bRad);\n\n      // let gx = globalConfig.x * globalConfig.scaler;\n      // let gy = globalConfig.y * globalConfig.scaler;\n      // let mx = this.p5.mouseX + userX - gx - this.p5.windowWidth / 2 - this.x;\n      // let my = this.p5.mouseY + userY - gy - this.p5.windowHeight / 2 - this.y;\n      // let mx = this.p5.mouseX;\n      // let my = this.p5.mouseY;\n      this.closeButton.display(this.x, this.y);\n      this.minButton.display(this.x, this.y);\n      this.maxButton.display(this.x, this.y);\n    }\n    this.p5.pop();\n  }\n\n  displayContent() {\n    // this.p5.fill(255);\n    this.p5.push();\n\n    this.p5.translate(0, this.barH);\n    this.p5.image(this.content, 0, 0, this.w, this.h);\n    this.p5.pop();\n    this.displayFrame();\n\n  }\n\n  displaySolidBack(col) {\n    this.p5.fill(col);\n    this.p5.stroke(0);\n    this.p5.strokeWeight(2);\n    this.p5.rect(0, 0, this.w, this.h + this.barH, this.bRad);\n  }\n\n  displayFrame() {\n    this.p5.noFill();\n    this.p5.stroke(0);\n    this.p5.strokeWeight(2);\n    this.p5.rect(0, 0, this.w, this.h + this.barH, this.bRad);\n  }\n\n  checkButtons() {\n    if (this.closed)\n      return false;\n    // let mouse = mouseToWorld({x: userX, y: userY}, this.p5);\n    let mouse = { x: this.p5.mouseX, y: this.p5.mouseY };\n    // mouse.x -= this.x;\n    // mouse.y -= this.y;\n    if (this.closeButton.mouseOver(this.x, this.y)) {\n      this.closeWindow();\n      return true;\n    }\n    else if (this.minButton.mouseOver(this.x, this.y)) {\n      this.toggleMinimze();\n      return true;\n    }\n    else if (this.maxButton.mouseOver(this.x, this.y)) {\n      this.maximizeWindow();\n      return true;\n    }\n    return false;\n  }\n\n  checkMouse() {\n    if (this.checkButtons()) {\n      return true;\n    }\n    else if (this.checkDragging()) {\n      return true;\n    }\n    return false;\n  }\n\n  checkDragging() {\n    if (this.closed)\n      return false;\n    // let mouse = mouseToWorld({x: userX, y: userY}, this.p5);\n    // let mouse = {x: this.p5.mouseX, y: this.p5.mouseY};\n    // console.log(mx, my, userX, userY, this.x, this.y);\n    if (this.overToolBar()) {\n      // console.log(\"over toolbar\");\n      // this.draggingOn(mx, my);\n      this.dragging = true;\n      this.startDrag.x = this.p5.mouseX;\n      this.startDrag.y = this.p5.mouseY;\n      this.startDragCoords.x = this.x;\n      this.startDragCoords.y = this.y;\n      return true;\n    }\n    return false;\n  }\n\n  overToolBar() {\n    const mx = this.p5.mouseX;\n    const my = this.p5.mouseY;\n    // console.log(mx, my, this.x, this.y);\n    return mx > this.x && mx < this.x + this.w && my > this.y && my < this.y + this.barH;\n  }\n\n  // draggingOn(mx, my) {\n  //   // dragging.dragging = true;\n  //   this.offsetX = this.p5.mouseX - this.startDrag.x;\n  //   this.offsetY = this.p5.mouseY - this.startDrag.y;\n  // }\n\n  endDrag() {\n    this.dragging = false;\n  }\n\n  update() {\n    if (this.dragging) {\n      this.offsetX = this.p5.mouseX - this.startDrag.x;\n      this.offsetY = this.p5.mouseY - this.startDrag.y;\n\n      this.x = this.startDragCoords.x + this.offsetX;\n      this.y = this.startDragCoords.y + this.offsetY;\n    }\n  }\n\n  toggleCloseWindow(div) {\n    this.locked = !this.locked;\n    this.closeWindow(div);\n  }\n\n  openWindow() {\n    this.closed = false;\n    this.minimized = false;\n    this.locked = false; // ? what does this do\n  }\n\n  closeWindow() {\n    // div.style(\"display\", \"none\");\n    this.closed = true;\n  }\n\n  maximizeWindow() {\n    this.x = this.origX;\n    this.y = this.origY;\n    this.offsetX = 0;\n    this.offsetY = 0;\n  }\n\n  resetWindow(div = this.div) {\n    this.x = this.origX;\n    this.y = this.origY;\n    this.locked = false;\n    this.closeWindow(div);\n    div.position(this.x, this.y);\n    div.style(\"display\", \"block\");\n    this.minimized = false;\n    this.minimizeWindow(this.content);\n    this.setSize(400);\n  }\n\n  toggleMinimze() {\n    this.minimized = !this.minimized;\n  }\n}\n","import ShadowDraggable from '../Draggable/ShadowDraggable';\n\nexport default class BoidDraggable extends ShadowDraggable {\n\n    constructor(id, x, y, w, h, p5, txt) {\n\n        super(id, x, y, w, h, p5);\n        this.txt = txt;\n        // this.closed = true;\n    }\n\n    update(x, y) {\n        if (!this.dragging) {\n            const rat = .96;\n            this.x = this.x * rat + x * (1 - rat);\n            this.y = this.y * rat + y * (1 - rat);\n        }\n        else\n            super.update();\n    }\n\n    displayContent() {\n        this.displayShadow();\n        this.displaySolidBack(this.p5.color(255));\n        // this.p5.fill(255);\n        this.p5.push();\n        this.p5.translate(20, this.barH + 20);\n        this.p5.text(this.txt, 0, 0, this.w - 40, this.h - 40);\n        this.p5.pop();\n        // this.p5.ellipse(0, 0, 200);\n        this.displayFrame();\n    }\n\n\n\n}\n","\n// force pulled to center of hurricane falls off with r^2\n// no force > than a particular distance\n// angular momentum = \nimport BoidDraggable from './BoidDraggable';\n\nexport default class Boid {\n\n    constructor(id, hurricanePos, imgs, p5) {\n        this.pos = {\n            x: Math.random() * p5.windowWidth,\n            y: Math.random() * p5.windowHeight\n        };\n\n        this.center = { x: hurricanePos.x + 100, y: hurricanePos.y + 126 };\n\n        this.angle = Math.random() * p5.PI * 2;\n        // this.angularV = 0;\n        // this.angularA = 0;\n        // this.maxDis = 300;\n\n        this.distToH = p5.dist(hurricanePos.x, hurricanePos.y, this.pos.x, this.pos.y);\n        this.distToH = p5.constrain(this.distToH, 120, p5.windowWidth * .4);\n        this.angleAmt = p5.map(this.distToH, 0, p5.windowWidth / 2, .03, .001);\n\n        const r = Math.random();\n\n        const titles = [\"sys\",\"taxes2020\", \"archived\", \"untitled\", \"0\", \"xfiles\", \"im_not_a_cat\", \"README\",\"diary21\", \"setup\", \"nyan\", \"v1.22\", \"exposed\",\"Screen Shot 2021-0\",\"99-babes\", \"root\"]\n\n        this.title = p5.random(titles);\n\n        if (id === 0) {\n            this.title = \"home\";\n            this.img = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/shared/homeicon.png\");\n        }\n        // else if (id === 1) {\n        //     this.title = \"\";\n        //     this.img = p5.loadImage(process.env.PUBLIC_URL + \"/local_images/hurricane/nyan.png\");\n        // }\n        else if (r < .6) {\n            this.img = imgs[0];\n            this.title += \".txt\";\n        }\n        else if (r < 1)\n            this.img = imgs[1];\n        else {\n            // this.img = p5.loadImage(\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/waveforms/txt.png\");\n            // this.title += \".txt\";\n            this.pos.x = this.center.x + this.distToH * Math.cos(this.angle);\n            this.pos.y = this.center.y + this.distToH * Math.sin(this.angle);\n            this.div = new BoidDraggable(0, this.pos.x, this.pos.y, 200, 100, p5, \"some text goes here asd asd alaljka ajdkf; ;lkasjd\");\n        }\n\n\n        if (!this.div) {\n            const sz = 90;\n            const ratio = sz / this.img.width;\n            this.w = this.img.width * ratio;\n            this.h = this.img.height * ratio;\n        }\n\n    }\n\n    update = (hurricanePos, p5) => {\n\n        // distToH = p5.constrain(distToH, 50, 200);\n        // this.angularV = p5.map(distToH, 0, this.maxDis, .2, 0);\n        // this.angularV = p5.constrain(this.angularV, 0, this.maxDis);\n        // this.angle += this.angularV;\n\n        // distToH -= .02;\n        this.pos.x = this.center.x + this.distToH * Math.cos(this.angle);\n        this.pos.y = this.center.y + this.distToH * Math.sin(this.angle);\n        this.angle -= this.angleAmt;\n\n        const ratio = .95;\n        this.center.x = this.center.x * ratio + (hurricanePos.x + 100) * (1 - ratio);\n        this.center.y = this.center.y * ratio + (hurricanePos.y + 126) * (1 - ratio);\n\n        if (this.div)\n            this.div.update(this.pos.x, this.pos.y);\n    }\n\n    resetPosition = (p5) => {\n        this.pos.x = Math.random() * p5.windowWidth;\n        this.pos.y = Math.random() * p5.windowHeight;\n        if (this.div)\n            this.div.update(this.pos.x, this.pos.y);\n    }\n\n    display = (p5) => {\n\n\n        if (this.div) {\n            this.div.display();\n            this.div.displayToolBar();\n        }\n        else {\n            p5.fill(255, 0, 0);\n            // p5.ellipse(this.pos.x, this.pos.y, 50);\n            p5.push();\n            p5.translate(this.pos.x, this.pos.y);\n\n            p5.image(this.img, 0, 0, this.w, this.h);\n\n            p5.fill(255);\n            p5.stroke(0);\n            p5.textSize(12);\n            let str = this.title;\n            p5.text(str, this.w / 2 - p5.textWidth(str) / 2, this.h + 18);\n            p5.pop();\n        }\n\n    }\n\n    checkMouse = (p5) => {\n        if (this.div)\n            this.div.checkMouse();\n    }\n\n    endDrag = () => {\n        if (this.div)\n            this.div.endDrag();\n    }\n\n    checkDoubleClicked = (p5) => {\n        // if (this.mouseOver(p5)) {\n        // console.log(\"mouse\");\n        // this.div.closed = false;\n        // }\n    }\n\n    mouseOver = (p5) => {\n        return p5.mouseX > this.pos.x && p5.mouseX < this.pos.x + this.w && p5.mouseY > this.pos.y && p5.mouseY < this.pos.y + this.h;\n    }\n}","import ShadowDraggable from './Draggable/ShadowDraggable';\n\nexport default class HurricaneDraggable extends ShadowDraggable {\n\n    constructor(id, x, y, w, h, p5) {\n\n        super(id, x, y, w, h, p5);\n        this.content = p5.loadImage(process.env.PUBLIC_URL + \"/local_images/hurricane/hurricane.png\");\n    }\n\n    update(dx, dy) {\n        if (this.dragging) {\n            super.update();\n        }\n        else {\n            this.x += dx;\n            this.y += dy;\n        }\n    }\n\n    displayContent() {\n        // this.displayShadow();\n        // this.displaySolidBack(this.p5.color(0, 0, 255));\n        // this.p5.fill(255);\n        this.p5.push();\n        this.p5.translate(this.w/2, this.barH+this.h/2);\n        this.p5.rotate(-this.p5.millis()/1000)\n        this.p5.image(this.content, -this.w/2, -this.h/2, this.w, this.h);\n        this.p5.pop();\n        // this.p5.ellipse(0, 0, 200);\n        this.displayFrame();\n    }\n\n   \n\n}\n","\n// force pulled to center of hurricane falls off with r^2\n// no force > than a particular distance\n\nimport HurricaneDraggable from \"./HurricaneDraggable\";\n\n// angular momentum = \nexport default class Hurricane {\n\n    constructor(p5) {\n        this.x = p5.windowWidth/2;\n        this.y = p5.windowHeight/2;\n        this.w = 200;\n        this.h = 200;\n        this.dirX = 1;\n        this.dirY = 1;\n\n        this.speed = 2;\n        this.dir = Math.random() * 3.1415;\n        // this.img = p5.loadImage(process.env.PUBLIC_URL + \"/local_images/hurricane.png\");\n        this.div = new HurricaneDraggable(0, this.x, this.y, this.w, this.h, p5);\n    }\n\n    isVisible = () => {\n        return !this.div.closed;\n    }\n    \n    getPos = () => {\n        return {x: this.div.x, y: this.div.y};\n    }\n\n    update = (p5) => {\n        if (!this.div.dragging) {\n            if (this.div.x > p5.windowWidth-this.w) {\n                this.div.x = p5.windowWidth-this.w;\n                this.dirX = -1;\n            }\n            else if (this.div.x < 0) {\n                this.div.x = 0;\n                this.dirX = 1;\n            }\n\n            if (this.div.y > p5.windowHeight-this.h-26) {\n                this.div.y = p5.windowHeight-this.h-26;\n                this.dirY = -1;\n            }\n            else if (this.div.y < 0) {\n                this.div.y = 0;\n                this.dirY = 1;\n            } \n        }\n        this.div.update(this.dirX, this.dirY);\n        // if (this.div.x > p5.windowWidth) {\n\n        // }\n\n        // this.x++;\n        // if (this.x > p5.windowWidth) {\n\n        // }\n\n        // this.x = this.speed * Math.cos()\n    }\n\n    resetPosition = (p5) => {\n        this.x = Math.random() * p5.windowWidth;\n        this.y = Math.random() * p5.windowHeight;\n    }\n\n    display = (p5) => {\n        this.div.display(0, 0);\n        this.div.displayToolBar(0, 0);\n    }\n\n    checkMouse = () => {\n        this.div.checkMouse();\n    }\n\n    endDrag = () => {\n        this.div.endDrag();\n    }\n}\n","\nimport React, { FunctionComponent, useState, useEffect } from 'react';\nimport Sketch from './HurricaneSketch';\nimport './Hurricane.scss';\n\nexport default function Hurricane(props) {\n\n   \n\n    return (\n        <div className=\"Hurricane Sketch\">\n            <Sketch className=\"p5sketch\" />\n        </div>\n    )\n}","import React from \"react\";\nimport Sketch from \"react-p5\";\n\nlet dogica;\nlet desert, desert2, moon;\n\n// Developed using Emoji City 18XX\n// by Naoki Tsutae\n\nlet joshua, fire;\n\nlet Counter = 0;\nlet UnitPixels = 48;\nlet MX = .1, MY = .2;\n\nlet pg;\n\nlet ui;\n\nlet dune, lighter;\n\nexport default (props) => {\n    ui = props.ui;\n\n    const preload = (p5) => {\n        const url = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches\";\n        const netURL = \"https://netscapes.s3.us-east-2.amazonaws.com/mojave\";\n        dogica = p5.loadFont(url + '/shared/fonts/dogica.ttf');\n\n        desert = p5.loadImage(netURL + \"/mars.jpeg\");\n        desert2 = p5.loadImage(netURL + \"/sand.jpeg\");\n\n        fire = p5.loadImage(netURL + \"/fire.png\");\n        joshua = p5.loadImage(netURL + \"/joshua.png\");\n        moon = p5.loadImage(netURL + \"/moon5.jpeg\");\n\n        dune = p5.loadImage(netURL + \"/dune.png\");\n    }\n\n    ////////////////////////////////////////////////////////////////////////\n    // INITIALIZE\n    ////////////////////////////////////////////////////////////////////////\n    const setup = (p5, canvasParentRef) => {\n        // use parent to render the canvas in this ref\n        // (without that p5 will render the canvas outside of your component)\n\n        const cnv = p5.createCanvas(p5.windowWidth, p5.windowHeight);\n        cnv.parent(canvasParentRef);\n        cnv.mousePressed(() => canvasPressed(p5));\n\n        p5.textFont(dogica);\n\n\n\n        // fire = p5.loadImage(\"fire.png\");\n        p5.rectMode(p5.CENTER);\n        p5.imageMode(p5.CENTER);\n\n        p5.noiseSeed(1);\n\n        pg = p5.createGraphics(p5.windowWidth, p5.windowHeight);\n        \n        p5.noCursor();\n\n        initializePG(p5);\n    };\n\n    ////////////////////////////////////////////////////////////////////////\n    // DRAW\n    ////////////////////////////////////////////////////////////////////////\n    const draw = (p5) => {\n\n        p5.imageMode(p5.CORNER);\n        p5.image(pg, 0, 0, p5.width, p5.height);\n\n\n        drawMarsStrip(p5);\n        drawDunes(p5);\n\n        p5.imageMode(p5.CENTER);\n\n        let startAmt = .4;\n        let dA = .03;\n        update(p5.color(0), 0, startAmt -= dA, p5);\n        update(p5.color(0x01F332), 1, startAmt -= dA, p5); // tree\n        update(p5.color(0x01F3E0), 2, startAmt -= dA, p5); // house\n        update(p5.color(0x01F3ED), 2, startAmt, p5); // factory\n        update(p5.color(0x01F3F0), 3, startAmt, p5); // castle\n\n        let jw = p5.height * .6;\n\n        if (ui.isMobile) {\n            MX += 0.01;\n            MY += 0.01;\n        }\n        else {\n            MX = p5.mouseX * 0.001;\n            MY = p5.mouseY * 0.001;\n            Counter += .001;\n            Counter %= 1.4;\n        }\n\n        // p5.erase(255);\n        // for (let i = 0; i < 10; i++) {\n        //     p5.fill(255);\n        //     p5.rect(0, p5.random(pg.height), p5.width, p5.random(1, 20));\n        // }\n        // for (let i = 0; i < 10; i++) {\n        //     p5.fill(255);\n        //     p5.rect(p5.random(p5.width), 0, p5.random(1, 20), p5.height);\n        // }\n\n        // p5.noErase();\n\n   \n        // p5.image(lighter, p5.mouseX, p5.mouseY);\n\n        checkDimensions(p5);\n    }\n\n    const drawDunes = (p5) => {\n        let w = dune.width;\n        for (let x = 0; x < p5.width; x += w) {\n            p5.image(dune, x, p5.height - dune.height);\n        }\n    }\n\n    const drawMarsStrip = (p5) => {\n        let factor = .3;\n        let index = 0;\n        let w = desert2.width * factor;\n        let y = (p5.height - 26 - 30) / 2;\n        for (let x = 0; x < p5.width; x += w) {\n            if (index % 2 === 0) {\n                p5.push();\n                p5.scale(-1, 1);\n                p5.image(desert, x - w, y, w, desert2.height * factor);\n                p5.pop();\n            }\n            else\n                p5.image(desert, x, y, w, desert2.height * factor);\n            index++;\n        }\n\n    }\n\n    const update = (codeNumber, unitSize, t, p5) => {\n        let k = Math.pow(2, unitSize) * UnitPixels;\n        p5.randomSeed(1);\n        for (let y = 0; y < p5.height; y += k) {\n            for (let x = 0; x < p5.width; x += k) {\n                let noiseX = x * 1.0 / p5.width - MX;\n                let noiseY = y * 1.0 / p5.height - MY;\n                let noiseZ = p5.mag(x, y) * 1.0 / p5.width - Counter;\n\n                if (p5.noise(noiseX, noiseY, noiseZ) < t) {\n\n                    let r = p5.random();\n                    if (unitSize < 2) {\n                        if (r < .3)\n                            p5.image(fire, x + k / 2, y + k / 2, k * 0.82, k * 0.82);\n                        else\n                            drawJoshua(x + k / 2, y + k / 2, k * 0.82, k * 0.82, p5);\n                    }\n                    else\n                        drawJoshua(x + k / 2, y + k / 2, k * 0.82, k * 0.82, p5);\n                }\n            }\n        }\n    }\n\n    const drawJoshua = (x, y, w, h, p5) => {\n        p5.image(desert2, x, y, w, h);\n        p5.image(joshua, x, y, w, h);\n\n        p5.stroke(68, 48, 61);\n        p5.strokeWeight(p5.map(w, 30, 300, 1, 4));\n        p5.fill(255, 50);\n        p5.noFill();\n        p5.rect(x, y, w, h);\n    }\n\n    const initializePG = (p5) => {\n        let pgtemp = p5.createGraphics(pg.width, pg.height);\n        pgtemp.clear();\n\n\n        pgtemp.imageMode(p5.CORNER);\n\n        let factor = 1;\n\n        pgtemp.push();\n\n\n        for (let y = 0; y < pg.height; y += moon.height) {\n            for (let x = 0; x < pg.width; x += moon.width) {\n                pgtemp.image(moon, x, y, moon.width, moon.height);\n            }\n        }\n\n        for (let y = 0; y <= pg.height; y += desert2.height * 1.05) {\n            for (let x = 0; x < pg.width; x += desert2.width * 1.04) {\n                pgtemp.image(desert2, x, y, desert2.width, desert2.height);\n            }\n        }\n\n\n        pgtemp.erase();\n        for (let i = 0; i < 10; i++) {\n            pgtemp.fill(255);\n            pgtemp.rect(0, p5.random(pg.height), pgtemp.width, p5.random(1, 20));\n        }\n        for (let i = 0; i < 10; i++) {\n            pgtemp.fill(255);\n            pgtemp.rect(p5.random(pg.width), 0, p5.random(1, 20), p5.height);\n        }\n\n\n        pgtemp.pop();\n\n        pg.tint(255, 20);\n        pg.image(pgtemp, 0, 0);\n    }\n\n    const checkDimensions = (p5) => {\n        if (p5.windowWidth !== window.innerWidth || p5.windowHeight !== window.innerHeight) {\n            p5.windowWidth = window.innerWidth;\n            p5.windowHeight = window.innerHeight;\n            windowResized(p5);\n        }\n    }\n\n\n\n    const mouseDragged = (p5) => {\n    }\n\n    const keyPressed = (p5) => {\n\n    }\n\n    const canvasPressed = (p5) => {\n\n    }\n\n\n    const mouseReleased = (p5) => {\n    }\n\n    const windowResized = (p5) => {\n        p5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n        pg = p5.createGraphics(p5.windowWidth, p5.windowHeight);\n        initializePG(p5);\n    }\n\n\n    const doubleClicked = (p5) => {\n\n    }\n\n\n    const getCoverBackground = (img, zoom, p5) => {\n        const imgRatio = (img.height / img.width);\n        const height = p5.windowHeight;\n        const width = p5.windowWidth;\n        const containerRatio = (height / width)\n\n        // set h to canvas height, find w \n        if (containerRatio > imgRatio) {\n            var h = height * zoom;\n            var y = (height - h) / 2;\n            var factor = h / img.height;\n            var w = factor * img.width;\n            var x = (width - w) / 2;\n        }\n        // set width \n        else {\n            var w = width * zoom;\n            var x = (width - w) / 2;\n            var factor = w / img.width;\n            var h = img.height * factor;\n            var y = (height - h) / 2;\n        }\n\n        return { w, h, x, y, factor };\n\n    }\n\n\n    return <Sketch preload={preload} setup={setup} draw={draw} windowResized={windowResized} keyPressed={keyPressed} mouseReleased={mouseReleased} mouseDragged={mouseDragged} doubleClicked={doubleClicked} />;\n};\n","\nimport React from 'react';\nimport './Drapes.scss';\n\nexport default ({ ui }) => {\n\n    const hOG = 741;\n    const wOG = 631;\n\n    const drapesStyle = {\n        height: Math.min(hOG, ui.contentH - 30)\n    }\n\n    drapesStyle.width = wOG * hOG / drapesStyle.height;\n    drapesStyle.top = (ui.contentH - drapesStyle.height - 26) / 2;\n    drapesStyle.left = (ui.contentW - drapesStyle.width) / 2;\n\n    return (\n        <div className=\"Drapes\" style={drapesStyle} />\n    )\n\n}","\n\n\nimport React from 'react';\nimport Frame from '../../../../shared/Frame/Frame';\n\nexport default function Candle({x, y, w, h}) {\n\n    return (\n        <Frame title=\"\"\n            windowStyle={{ background: \"transparent\" }}\n            className={\"confessional-frame\"}\n            content={\n                <img alt=\"candle gif\" src=\"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches/waveforms/candle.gif\" width=\"100%\" height=\"100%\" />\n            }\n            width={w}\n            height={h}\n            x={x}\n            y={y}\n        />\n\n    )\n}","\n\n\nimport React from 'react';\nimport Candle from './Candle';\n\nexport default function Candles({ ui, x, y, w, h }) {\n\n    const startCandleY = y + h * .65;\n    const startCandleX = -60;\n    const candleDY = 50;\n    const candleDX = 70;\n    const candles = {\n        y0: startCandleY,\n        y1: startCandleY + candleDY,\n        y2: startCandleY + candleDY * 2,\n        w: 80,\n        h: 90\n    }\n\n    if (ui.contentW < w + candles.w * 2) {\n        return null;\n    }\n\n    return (\n        <React.Fragment>\n            <Candle x={x - candles.w - startCandleX - candleDX * 2} y={candles.y0} w={candles.w} h={90} />\n            <Candle x={x + w + startCandleX + candleDX * 2} y={candles.y0} w={candles.w} h={90} />\n\n            <Candle x={x - candles.w - startCandleX - candleDX} y={candles.y1} w={candles.w} h={90} />\n            <Candle x={x + w + startCandleX + candleDX} y={candles.y1} w={candles.w} h={90} />\n\n\n            <Candle x={x - candles.w - startCandleX} y={candles.y2} w={candles.w} h={90} />\n            <Candle x={x + w + startCandleX} y={candles.y2} w={candles.w} h={90} />\n        </React.Fragment>\n\n    )\n}","\nimport React, { useEffect } from 'react';\nimport Sketch from './Sketch';\nimport Frame from '../../shared/Frame/Frame';\nimport Drapes from './components/Drapes/Drapes';\nimport Candles from './components/Candle/Candles';\n\nimport './Mojave.scss';\n\nexport default function Mojave({ hasLoadedRoom, ui }) {\n\n    let vidRef = React.createRef();\n    const netURL = \"https://netscapes.s3.us-east-2.amazonaws.com/mojave\";\n\n    useEffect(() => {\n        // video starts  playing if you've already loaded the page once\n        // dunno why\n        if (hasLoadedRoom) {\n            if (vidRef.current)\n                vidRef.current.play();\n        }\n\n        return (() => {\n\n        })\n    }, [hasLoadedRoom])\n\n    const vw = Math.min(480, ui.contentW - 20);\n    const vid = {\n        w: vw,\n        h: 296 * (vw / 480)\n    }\n    vid.x = (ui.contentW - vid.w) / 2;\n    vid.y = (ui.contentH - vid.h - 26) / 2;\n\n  \n\n    return (\n        <div className=\"Mojave Sketch\">\n\n\n            <Sketch className=\"p5sketch\" ui={ui} />\n            <Drapes ui={ui} />\n            <Frame title={\"\"} content={\n                <a href=\"https://giphy.com/gifs/weed-blunt-elon-musk-2Y8Iq3xe121Ba3hUAM\" target=\"_blank\" rel=\"noopener noreferrer\">\n                    <video\n                        ref={vidRef}\n                        width={vid.w}\n                        height={vid.h}\n                        loop\n                        playsInline\n                        muted\n                    >\n                        <source src={netURL + \"/elon.mp4\"} type=\"video/mp4\"></source>\n                    </video>\n                </a>\n            }\n                width={vid.w}\n                height={vid.h}\n                x={vid.x}\n                y={vid.y}\n            />\n\n            <Candles ui={ui} x={vid.x} y={vid.y} w={vid.w} h={vid.h} />\n\n        </div>\n    )\n}","import React from \"react\";\nimport Sketch from \"react-p5\";\nimport ShadowDraggable from \"../Hurricane/components/Draggable/ShadowDraggable\";\n\nimport Parts from './components/Parts';\nimport FanDraggable from './components/Fan/FanDraggable';\n\nlet shadow;\nlet ui;\nlet dogica;\nlet _aryInitRot = [];\nlet _myObject;\n\n// let fan0;\n\n// thanks to Kusakari!\n// https://openprocessing.org/sketch/1117787\nexport default (props) => {\n    //   user = props.user;\n    // ui = props.ui;\n\n    const preload = (p5) => {\n\n        const url = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches\";\n        dogica = p5.loadFont(url + '/shared/fonts/dogica.ttf');\n       \n        // fan0 = new FanDraggable(0, 100, 100, 200, 200, p5);\n    }\n\n    ////////////////////////////////////////////////////////////////////////\n    // INITIALIZE\n    ////////////////////////////////////////////////////////////////////////\n    const setup = (p5, canvasParentRef) => {\n        // use parent to render the canvas in this ref\n        // (without that p5 will render the canvas outside of your component)\n        p5.setAttributes('premultipliedAlpha', true);\n        const cnv = p5.createCanvas(p5.windowWidth, p5.windowHeight, p5.WEBGL);\n        cnv.mousePressed(() => canvasPressed(p5));\n\n\n        cnv.parent(canvasParentRef);\n        p5.frameRate(30);\n        p5.noStroke();\n        for (let i = 0; i < 3; i++) {\n            _aryInitRot[i] = [p5.random(2 * p5.PI), p5.random([-1, 1])];\n        }\n\n        _myObject = new Parts(150, p5);\n\n        p5.textFont(dogica);\n    };\n\n    ////////////////////////////////////////////////////////////////////////\n    // DRAW\n    ////////////////////////////////////////////////////////////////////////\n    const draw = (p5) => {\n        // ortho(-width/2, width/2, -width/2, width/2, 0, width*2);\n        // p5.background(200);\n        p5.clear();\n        \n\n        p5.push();\n        p5.ambientLight(60);\n        let ang = _aryInitRot[1][0] + p5.frameCount / 100;\n        p5.directionalLight(255, 255, 255, -p5.sin(ang), 1, -p5.cos(ang));\n        let c = (p5.height / 2) / p5.tan(p5.PI / 6);\n        p5.camera(c * p5.sin(ang), 0, c * p5.cos(ang), 0, 0, 0, 0, 1, 0);\n        p5.rotateZ(p5.PI / 4);\n        \n        _myObject.update(p5);\n\n        p5.pop();\n        // drawText(p5);\n\n        // fan0.display(p5);\n        // fan0.update(p5);\n       \n        let col = p5.random([p5.color(0, 255, 0), p5.color(255, 0, 0), p5.color(0, 0, 255)])\n        p5.strokeWeight(4);\n        p5.stroke(col);\n        p5.textSize(100);\n        p5.text(p5.frameRate, p5.width/2, p5.height/2);\n        checkDimensions(p5);\n    }\n\n\n    const checkDimensions = (p5) => {\n        if (p5.windowWidth !== window.innerWidth || p5.windowHeight !== window.innerHeight) {\n            p5.windowWidth = window.innerWidth;\n            p5.windowHeight = window.innerHeight;\n            windowResized(p5);\n        }\n    }\n\n    const mouseDragged = (p5) => {\n    }\n\n    const keyPressed = (p5) => {\n\n    }\n\n    const canvasPressed = (p5) => {\n        // fan0.checkMouse();\n    }\n\n\n    const mouseReleased = (p5) => {\n        // fan0.endDrag();\n    }\n\n    const windowResized = (p5) => {\n        p5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n    }\n\n    const doubleClicked = (p5) => {\n\n    }\n\n\n\n\n    return <Sketch preload={preload} setup={setup} draw={draw} windowResized={windowResized} keyPressed={keyPressed} mouseReleased={mouseReleased} mouseDragged={mouseDragged} doubleClicked={doubleClicked} />;\n};\n","\nexport default class Part {\n    constructor(startX, startY, startZ, endX, endY, endZ, w, totalTime, partCount, maxW, p5) {\n        this.startX = startX;\n        this.startY = startY;\n        this.startZ = startZ;\n        this.endX = endX;\n        this.endY = endY;\n        this.endZ = endZ;\n        this.w = w;\n        this.totalTime = totalTime;\n        this.currentTime = 0;\n        this.direction = true; //true -> extend, false -> shrink\n        this.erase = false;\n        // let c = p5.random(100, 255)\n        // this.col = p5.color(0, p5.random(0, b - 50), b);\n\n        let r = p5.random();\n\n        if (r < .33)\n            this.col = p5.color(255, 0, 0);\n        else if (r < .66)\n            this.col = p5.color(0, 255, 0);\n        else\n            this.col = p5.color(0, 0, 255);\n\n\n        if (r < .5)\n            this.img = p5.loadImage(window.AWS + \"/infrastructure/server2.jpeg\");\n        else\n            this.img = p5.loadImage(window.AWS + \"/infrastructure/server.jpeg\");\n\n    }\n\n    update(p5) {\n        let currentX;\n        let currentY;\n        let currentZ;\n        if (this.direction == true) { //extend\n            let ratio = (this.currentTime / this.totalTime) ** 0.5;\n            currentX = this.startX + (this.endX - this.startX) * ratio;\n            currentY = this.startY + (this.endY - this.startY) * ratio;\n            currentZ = this.startZ + (this.endZ - this.startZ) * ratio;\n            if (this.currentTime < this.totalTime) { this.currentTime++; }\n            this.drawPart(this.startX, this.startY, this.startZ, currentX, currentY, currentZ, this.w, this.col, p5);\n        } else { //shrink\n            let ratio = (1 - (this.currentTime - this.totalTime) / this.totalTime) ** 0.5;\n            currentX = this.endX + (this.startX - this.endX) * ratio;\n            currentY = this.endY + (this.startY - this.endY) * ratio;\n            currentZ = this.endZ + (this.startZ - this.endZ) * ratio;\n            this.currentTime++;\n            if (this.currentTime > this.totalTime * 2) { this.erase = true; }\n            this.drawPart(this.endX, this.endY, this.endZ, currentX, currentY, currentZ, this.w, this.col, p5);\n        }\n    }\n\n    drawPart(startX, startY, startZ, endX, endY, endZ, w, col, p5) {\n        let angAxisZ = p5.atan2(endY - startY, endX - startX);\n        let distXY = p5.dist(startX, startY, endX, endY);\n        let angAxisY = -p5.atan2(endZ - startZ, distXY);\n        let distXYZ = p5.dist(0, startZ, distXY, endZ);\n        p5.push();\n        p5.translate(startX, startY, startZ);\n        p5.rotateZ(angAxisZ);\n        p5.rotateY(angAxisY);\n        p5.translate(distXYZ / 2, 0, 0);\n        p5.ambientMaterial(col);\n        if (w > 10) {\n            p5.texture(this.img);\n\n        }\n\n\n\n        // let dx = p5.abs(endX - startX);\n        // if (w > 10 && dx > 1 && dx < 100)\n        //     p5.sphere(w);\n        else {\n\n\n        }\n\n        p5.box(distXYZ + w, w, w); //length + w\n        this.drawText(distXYZ + w, p5)\n        p5.pop();\n    }\n\n    drawText(w, p5) {\n        // let txt = \"\";\n        let txtSz = 32;\n        let maxLen = 60;\n        let txt = \"$$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ bit by bit $$$$$$ \";\n        // txt = txt.substring(0, 80);\n\n        // let index = p5.floor(w / txtSz);\n        // index = p5.constrain(index, 1, txt.length);\n        // txt = txt.substring(0, index);\n\n\n        \n        // let per = p5.sin(p5.millis() / 1000);\n        // let txtLen = p5.map(per, -1, 1, 10, txt.length);\n        // txt = txt.substring(0, txtLen);\n\n        let per = p5.sin(p5.millis() / 1000);\n        let start = p5.map(per, -1, 1, 0, maxLen);\n        txt = txt.substring(start, start+maxLen);\n        \n\n        p5.textSize(txtSz);\n        p5.stroke(this.col);\n        p5.fill(this.col);\n        p5.text(txt, -p5.textWidth(txt) / 2, 0);\n\n\n\n        p5.noStroke();\n    }\n}","import Part from './Part';\n\nexport default class Parts {\n    constructor(numPart, p5) {\n        this.maxArea = p5.width / 2;\n        this.maxW = p5.width / 10;\n        this.t = 3;\n        this.maxL = this.maxArea;\n        this.parts = [];\n        let w = p5.max(p5.width / 300, this.maxW * p5.random() ** 12);\n        let startX = -this.maxArea / 2;\n        let startY = -this.maxArea / 2;\n        let startZ = -this.maxArea / 2;\n        let aryEndXYZ = this.randomDirection(startX, startY, startZ, p5);\n        while (p5.abs(aryEndXYZ[0]) > this.maxArea || p5.abs(aryEndXYZ[1]) > this.maxArea || p5.abs(aryEndXYZ[2]) > this.maxArea) {\n            aryEndXYZ = this.randomDirection(startX, startY, startZ, p5);\n        }\n        let endX = aryEndXYZ[0];\n        let endY = aryEndXYZ[1];\n        let endZ = aryEndXYZ[2];\n        this.partCount = p5.int(p5.random(1000));\n        this.parts.push(new Part(startX, startY, startZ, endX, endY, endZ, w, this.t, this.partCount, this.maxW, p5));\n        this.numPart = numPart;\n        this.isGenerate = false;\n    }\n    update(p5) {\n        for (let i = 0; i < this.parts.length; i++) {\n            this.parts[i].update(p5);\n        }\n        if (this.parts[this.parts.length - 1].currentTime >= this.parts[this.parts.length - 1].totalTime) {\n            this.isGenerate = true;\n        }\n\n        if (this.isGenerate == true && this.parts.length < this.numPart) {\n            let w = p5.max(p5.width / 300, this.maxW * p5.random() ** 12);\n            let startX = this.parts[this.parts.length - 1].endX;\n            let startY = this.parts[this.parts.length - 1].endY;\n            let startZ = this.parts[this.parts.length - 1].endZ;\n            let aryEndXYZ = this.randomDirection(startX, startY, startZ, p5);\n            while (p5.abs(aryEndXYZ[0]) > this.maxArea || p5.abs(aryEndXYZ[1]) > this.maxArea || p5.abs(aryEndXYZ[2]) > this.maxArea) {\n                aryEndXYZ = this.randomDirection(startX, startY, startZ, p5);\n            }\n            let endX = aryEndXYZ[0];\n            let endY = aryEndXYZ[1];\n            let endZ = aryEndXYZ[2];\n            this.partCount++;\n            this.parts.push(new Part(startX, startY, startZ, endX, endY, endZ, w, this.t, this.partCount, this.maxW, p5));\n            this.isGenerate = false;\n        }\n\n        if (this.parts.length >= this.numPart) {\n            this.parts[0].direction = false;\n        }\n\n        if (this.parts[0].erase == true) { this.parts.shift(); }\n    }\n    randomDirection(startX, startY, startZ, p5) {\n        let endX = startX;\n        let endY = startY;\n        let endZ = startZ;\n        let direction = p5.random([\"-x\", \"x\", \"-y\", \"y\", \"-z\", \"z\"]);\n        switch (direction) {\n            case \"-x\":\n                endX = startX + this.maxL * p5.random(-1, 0);\n                break;\n            case \"x\":\n                endX = startX + this.maxL * p5.random(0, 1);\n                break;\n            case \"-y\":\n                endY = startY + this.maxL * p5.random(-1, 0);\n                break;\n            case \"y\":\n                endY = startY + this.maxL * p5.random(0, 1);\n                break;\n            case \"-z\":\n                endZ = startZ + this.maxL * p5.random(-1, 0);\n                break;\n            case \"z\":\n                endZ = startZ + this.maxL * p5.random(0, 1);\n                break;\n        }\n        return [endX, endY, endZ];\n    }\n}\n","\nimport React, { useState, useEffect } from 'react';\nimport './Fan.scss';\nimport Frame from '../../../../shared/Frame/Frame';\nimport { mapVal, constrain } from '../../../../shared/Helpers/Helpers';\n\nexport default function Fan({ isMobile, w, x, y, mousePosition }) {\n    const [angle, setFanAngle] = useState(0);\n    const [velocity, setFanVelocity] = useState(0);\n\n    useEffect(() => {\n        const maxVel = .3;\n        if (!isMobile && mousePosition) {\n\n            const dx = mousePosition.x - (x + w / 2);\n            const dy = mousePosition.y - (y + 26 + w / 2);\n            // const r = Math.sqrt(dx * dx + dy * dy);\n            let vel = mapVal(dx, -500, 500, -maxVel, maxVel);\n            vel = constrain(vel, -maxVel, maxVel);\n\n            setFanVelocity(vel);\n            setFanAngle(angle => angle + velocity);\n        }\n        else if (isMobile) {\n            setFanVelocity(maxVel); \n        }\n\n\n    }, [mousePosition]);\n\n    // useEffect(() => {\n    //    if (quadrant === 0) {\n    //     if (id === 0 || id == )\n    //    }\n\n\n    // }, [quadrant]);\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            // setFanVelocity(velocity => {\n            //     if (velocity <= .01)\n            //         return 0;\n            //     return velocity;\n            // });\n            setFanAngle(angle => {\n                return angle + velocity\n            });\n                \n        }, 20);\n        return () => clearInterval(interval);\n    }, [angle, velocity, isMobile]);\n\n    // console.log(angle, velocity);\n    const bladesStyle = {\n        transform: `rotate(${angle / Math.PI * 180}deg)`,\n        transformOrigin: \"center center\"\n    }\n\n    return (\n        <Frame\n            title=\"\"\n            content={\n                <div className=\"Fan\">\n                    <div className=\"fanbase\"></div>\n                    <div className=\"blades\" style={bladesStyle}></div>\n                </div>\n            }\n            width={w}\n            height={w}\n            x={x}\n            y={y}\n        />\n    )\n}","\nimport React, { useEffect, useState } from 'react';\nimport Sketch from './Sketch';\nimport Fan from './components/Fan/Fan';\nimport './Infrastructure.scss';\n\nimport { constrain, mapVal } from '../../shared/Helpers/Helpers';\n\nexport default function Infrastructure({ ui, setAudioSource, setVolume }) {\n    // Declare a new state variable, which we'll call \"count\"\n\n    const [mousePosition, setMousePosition] = useState({\n        x: 0,\n        y: 0\n    })\n    const [mouseQuadrant, setMouseQuadrant] = useState(0)\n\n  \n\n    const handleMouseMove = (e) => {\n        setMousePosition({ x: e.pageX, y: e.pageY });\n\n        if (e.pageX < ui.contentW / 2) {\n            // 1 0\n            // 2 3\n            if (e.pageX < ui.contentH / 2)\n                setMouseQuadrant(0);\n            else\n                setMouseQuadrant(2);\n\n        }\n        else {\n            if (e.pageX < ui.contentH / 2)\n                setMouseQuadrant(1);\n            else\n                setMouseQuadrant(3);\n        }\n       \n    }\n\n\n\n    const getMobile = () => {\n        let dim = Math.min(ui.contentW, ui.contentH);\n        dim -= 100;\n        dim = Math.max(dim, 100);\n        return (\n            <Fan x={(ui.contentW - dim) / 2} y={(ui.contentH - dim - 26) / 2} w={dim} isMobile={ui.isMobile} />\n        )\n    }\n\n    const getDesktop = () => {\n        let w = mapVal(ui.contentW, 500, 2500, 100, 400);\n        w = constrain(w, 100, 400);\n        const sep = .1 * w;\n\n      \n        const fanParams = {isMobile: ui.isMobile, mousePosition, mouseQuadrant, w}\n        return (\n            <React.Fragment>\n                <Fan id={0} x={ui.width / 2 - sep - w} y={ui.height / 2 - 26 - w - sep} {...fanParams} />\n                <Fan id={2} x={ui.width / 2 - sep - w} y={ui.height / 2 + sep} w={w} {...fanParams} />\n                <Fan id={3} x={ui.width / 2 + sep} y={ui.height / 2 - 26 - w - sep} {...fanParams} />\n                <Fan id={1} x={ui.width / 2 + sep} y={ui.height / 2 + sep} {...fanParams} />\n            </React.Fragment>\n        )\n    }\n\n    return (\n        <div className=\"Infrastructure Sketch\" onMouseMove={handleMouseMove}>\n            <Sketch className=\"p5sketch\" />\n\n            {ui.contentW < 500 ? getMobile() : getDesktop()}\n        </div>\n    )\n\n\n}","import React, { useState, useEffect } from 'react';\nimport Frame from '../../../shared/Frame/Frame';\n\n\n\nexport default function Coins({ ui, x, pitX, vidW, y, w, h, totalW, totalH, coinSpace, playSound }) {\n\n    const space = coinSpace;\n    const idsLG = [\n        { x: -w - space, y: 0 },\n        { x: -w - space, y: h + space + 26 },\n        // {x: -w - space, y: (h + space + 26)*2},\n        // {x: -w - space, y: (h + space + 26)*3},\n\n        { x: totalW - w * 3 - space * 2, y: 0 },\n        { x: totalW - w * 2 - space, y: 0 },\n\n        { x: totalW - w * 2 - space, y: totalH - h - 26 },\n\n        { x: pitX - x - w - space, y: totalH - h - 26 },\n        { x: pitX - x - (w + space) * 2, y: totalH - h - 26 },\n    ];\n\n    const idsSM = [\n        { x: vidW - w, y: -h - 26 - space },\n        { x: vidW + space, y: 0 },\n        { x: vidW + space, y: -h - 26 - space },\n\n        // {x: -w - space, y: (h + space + 26)*2},\n        // {x: -w - space, y: (h + space + 26)*3},\n\n        { x: totalW - w, y: 0 },\n        { x: totalW + space, y: 0 },\n\n        { x: totalW + space, y: totalH - h - 26 },\n\n        { x: pitX - x - w - space, y: totalH - h - 26 },\n        { x: pitX - x - (w + space) * 2, y: totalH - h - 26 },\n    ]\n\n    // TODO? current this is the same as small\n    const idsXSM = [\n        { x: vidW - w, y: -h - 26 - space },\n        { x: vidW + space, y: 0 },\n        { x: vidW + space, y: -h - 26 - space },\n\n        // {x: -w - space, y: (h + space + 26)*2},\n        // {x: -w - space, y: (h + space + 26)*3},\n\n        { x: totalW - w, y: 0 },\n        { x: totalW + space, y: 0 },\n\n        { x: totalW + space, y: totalH - h - 26 },\n\n        { x: pitX - x - w - space, y: totalH - h - 26 },\n        { x: pitX - x - (w + space) * 2, y: totalH - h - 26 },\n    ]\n\n    let ids;\n    if (ui.width < 710)\n        ids = idsXSM;\n    else if (ui.width < 1100)\n        ids = idsSM;\n    else\n        ids = idsLG;\n\n    \n    return (\n        <div className=\"Coins\">\n            {\n                ids.map((val, i) => {\n                    return (\n                        <Frame\n                            title=\"\"\n                            key={i}\n                            windowStyle={{ background: \"transparent\" }}\n                            content={\n                                <div className=\"Coin\" onClick={playSound} />\n                            }\n                            width={w}\n                            height={w}\n                            x={x + val.x}\n                            y={y + val.y}\n                        />\n                    )\n                }\n                )\n            }\n        </div>\n    )\n\n}\n\n","import React, { useState, useEffect } from 'react';\n// import Frame from '../../../shared/Frame/Frame';\n\n\n\nexport default function Heli(props) {\n    const dir = 1;\n    const [x, setX] = useState((props.y)*300);\n    // const [img, setImg] = useState(0);\n    // const [dir, setDir] = useState(1);\n    \n\n    \n\n    useEffect(() => {\n\n        const interval = setInterval(moveHeli, 50);\n\n        return () => {\n            clearInterval(interval);\n        }\n    }, [x])\n\n    const moveHeli = () => {\n        setX((prevX) => {\n            let newX = prevX + dir * props.speed;\n            if (newX > window.innerWidth)\n                return -Math.random() * 400 - 300;\n            return newX;\n        });\n        // setImg(img + 1);\n\n    }\n\n    // const propeller = (Math.floor(img/2)%4)*100;\n\n    return (\n        <div className={props.classN} style={{\n            top: props.y,\n            left: x,\n            position: \"absolute\",\n            // backgroundPosition: `0px ${-propeller}px`,\n            // backgroundSize: \"80%\",\n            // width: 180,\n            // height: 50\n        }}>\n        </div>\n    )\n\n}\n\n","import React from \"react\";\nimport { FreeCamera, Vector3, HemisphericLight, Mesh, MeshBuilder, CubeTexture, StandardMaterial, Color3, Texture,Vector2 } from \"@babylonjs/core\";\nimport {WaterMaterial} from  \"@babylonjs/materials\";\n// import Babylon from \"../../shared/3D/Babylon\"; // uses above component in same directory\nimport SceneComponent from 'babylonjs-hook'; // if you install 'babylonjs-hook' NPM.\n\nlet box, ground, skybox;\n\nconst onSceneReady = (scene) => {\n    // This creates and positions a free camera (non-mesh)\n    var camera = new FreeCamera(\"camera1\", new Vector3(0, 5, -10), scene);\n\n    // This targets the camera to scene origin\n    camera.setTarget(Vector3.Zero());\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n\n    // This attaches the camera to the canvas\n    camera.attachControl(canvas, true);\n\n    // This creates a light, aiming 0,1,0 - to the sky (non-mesh)\n    var light = new HemisphericLight(\"light\", new Vector3(0, 1, 0), scene);\n\n    // Default intensity is 1. Let's dim the light a small amount\n    light.intensity = 0.7;\n\n    // Our built-in 'box' shape.\n    box = MeshBuilder.CreateBox(\"box\", { size: 2 }, scene);\n\n    // Move the box upward 1/2 its height\n    box.position.y = 1;\n\n    // Our built-in 'ground' shape.\n    MeshBuilder.CreateGround(\"ground\", { width: 6, height: 6 }, scene);\n\n    addSkybox(scene);\n    // addGround(scene);\n    addWater(scene);\n};\n\nconst addSkybox = (scene) => {  \n    skybox = MeshBuilder.CreateBox(\"skyBox\", { size: 1000.0 }, scene);\n    var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n    skyboxMaterial.backFaceCulling = false;\n    skyboxMaterial.reflectionTexture = new CubeTexture(process.env.PUBLIC_URL + \"/local_images/skybox/mountain/mossymountains\", scene);\n    // skyboxMaterial.reflectionTexture = new CubeTexture(process.env.PUBLIC_URL + \"/local_images/skybox/sunset/sunset\", scene);\n\n    skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n    skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n    skyboxMaterial.specularColor = new Color3(0, 0, 0);\n    skybox.material = skyboxMaterial;\n}\n\nconst addWater = (scene) => {\n    var waterMesh = Mesh.CreateGround(\"waterMesh\", 512, 512, 32, scene, false);\n\tvar water = new WaterMaterial(\"water\", scene, new Vector2(512, 512));\n\twater.backFaceCulling = true;\n\twater.bumpTexture = new Texture(process.env.PUBLIC_URL + \"/textures/water/waterbump.png\", scene);\n\twater.windForce = -5;\n\twater.waveHeight = 0.1;\n\twater.bumpHeight = 0.1;\n\twater.waterColor = new Color3(0.6, 0.9, 0.9);\n\twater.colorBlendFactor = 0.5;\n\twater.addToRenderList(skybox);\n\t// water.addToRenderList(ground);\n\twaterMesh.material = water;\n}\n\nconst addGround = (scene) => {\n    // Ground\n\t// var groundTexture = new Texture(process.env.PUBLIC_URL + \"/textures/grass.dds\", scene);\n\t// groundTexture.vScale = groundTexture.uScale = 8.0;\n\t\n\tvar groundMaterial = new StandardMaterial(\"groundMaterial\", scene);\n\t// groundMaterial.diffuseTexture = groundTexture;\n\t\n\tground = Mesh.CreateGround(\"ground\", 512, 512, 32, scene, false);\n\tground.position.y = -1;\n\tground.material = groundMaterial;\n}\n/**\n * Will run on every frame render.  We are spinning the box on y-axis.\n */\nconst onRender = (scene) => {\n    if (box !== undefined) {\n        var deltaTimeInMillis = scene.getEngine().getDeltaTime();\n\n        const rpm = 10;\n        box.rotation.y += (rpm / 60) * Math.PI * 2 * (deltaTimeInMillis / 1000);\n    }\n};\n\nconst addModel = (scene) => {\n//    SceneLoader.Load(process.env.PUBLIC_URL + \"/local_images/melt/dolphin/\", \"NOVELO_DOLPHIN.obj\", engine, function (scene) { \n//         // do something with the scene\n//      });\n}\n\nexport default () => (\n    <div className=\"Beached Sketch\">\n        <SceneComponent antialias onSceneReady={onSceneReady} onRender={onRender} id=\"babylon-canvas\" />\n    </div>\n);","import React, { useState, useEffect } from 'react';\n// import ReactDOM from \"react-dom\";\n// import StackedMine from './components/StackedMine';\nimport Coins from './components/Coins';\nimport Heli from './components/Heli';\nimport Frame from '../../shared/Frame/Frame';\n\nimport useSound from 'use-sound';\n\nimport './Mine.scss';\nimport * as THREE from \"three\";\n\nimport { FirstPersonControls } from 'three/examples/jsm/controls/FirstPersonControls.js';\nimport { ImprovedNoise } from 'three/examples/jsm/math/ImprovedNoise.js';\nimport { BufferGeometryUtils } from 'three/examples/jsm/utils/BufferGeometryUtils.js';\n\nimport { mapVal, constrain } from '../../shared/Helpers/Helpers';\n\n\nexport default function Mine({ ui, hasLoadedRoom, audioOn }) {\n\n    let vidRef = React.createRef();\n\n    let scene, renderer, camera, effect, controls, requestID, mount;\n    const worldWidth = 128, worldDepth = 128;\n    const worldHalfWidth = worldWidth / 2;\n    const worldHalfDepth = worldDepth / 2;\n    let data;\n    const clock = new THREE.Clock();\n    let mouse = 0;\n\n    const [play, { pause }] = useSound(window.AWS + \"/mine/mario.mp3\", {\n        volume: .5,\n        interrupt: false,\n        autoplay: false,\n        loop: false,\n    });\n\n    useEffect(\n        () => {\n            // mount\n            window.addEventListener('resize', handleWindowResize);\n            window.addEventListener(\"mousemove\", handleMouseMove);\n\n            setupScene();\n            startAnimationLoop();\n\n            return () => {\n                // unmount\n                pause();\n\n                window.removeEventListener('resize', handleWindowResize);\n                window.removeEventListener(\"mousemove\", handleMouseMove);\n\n                window.cancelAnimationFrame(requestID);\n                if (controls)\n                    controls.dispose();\n            }\n        },\n        // empty array if you want this to run once\n        // otherwise, fill with variables that will update\n        []\n    );\n\n    useEffect(() => {\n        // video starts  playing if you've already loaded the page once\n        // dunno why\n        if (hasLoadedRoom) {\n            if (vidRef.current)\n                vidRef.current.play();\n        }\n\n        return (() => {\n\n        })\n    }, [hasLoadedRoom])\n\n\n    const handleWindowResize = () => {\n        const width = window.innerWidth;\n        const height = window.innerHeight;\n        renderer.setSize(width, height);\n        camera.aspect = width / height;\n        camera.updateProjectionMatrix();\n\n        // effect.setSize(width, height);\n    };\n\n    const handleMouseMove = (e) => {\n        var x = e.pageX;\n        // var y = e.pageY;\n        mouse = mapVal(x, 0, window.innerWidth, .01, -.01);\n        if (!mouse)\n            mouse = 0;\n    }\n\n    const playSound = () => {\n        if (audioOn && hasLoadedRoom)\n            play();\n    }\n\n    const setupScene = () => {\n        scene = new THREE.Scene();\n        camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 100000);\n\n        renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true, });\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        mount.appendChild(renderer.domElement);\n\n        initScene();\n        // addLights();\n        // addSkybox();\n    }\n\n    const initScene = () => {\n\n\n        data = generateHeight(worldWidth, worldDepth);\n        const matrix = new THREE.Matrix4();\n\n        const pxGeometry = new THREE.PlaneGeometry(100, 100);\n        pxGeometry.attributes.uv.array[1] = 0.5;\n        pxGeometry.attributes.uv.array[3] = 0.5;\n        pxGeometry.rotateY(Math.PI / 2);\n        pxGeometry.translate(50, 0, 0);\n\n        const nxGeometry = new THREE.PlaneGeometry(100, 100);\n        nxGeometry.attributes.uv.array[1] = 0.5;\n        nxGeometry.attributes.uv.array[3] = 0.5;\n        nxGeometry.rotateY(- Math.PI / 2);\n        nxGeometry.translate(- 50, 0, 0);\n\n        const pyGeometry = new THREE.PlaneGeometry(100, 100);\n        pyGeometry.attributes.uv.array[5] = 0.5;\n        pyGeometry.attributes.uv.array[7] = 0.5;\n        pyGeometry.rotateX(- Math.PI / 2);\n        pyGeometry.translate(0, 50, 0);\n\n        const pzGeometry = new THREE.PlaneGeometry(100, 100);\n        pzGeometry.attributes.uv.array[1] = 0.5;\n        pzGeometry.attributes.uv.array[3] = 0.5;\n        pzGeometry.translate(0, 0, 50);\n\n        const nzGeometry = new THREE.PlaneGeometry(100, 100);\n        nzGeometry.attributes.uv.array[1] = 0.5;\n        nzGeometry.attributes.uv.array[3] = 0.5;\n        nzGeometry.rotateY(Math.PI);\n        nzGeometry.translate(0, 0, - 50);\n\n        //\n\n        const geometries = [];\n\n        for (let z = 0; z < worldDepth; z++) {\n\n            for (let x = 0; x < worldWidth; x++) {\n\n                const h = getY(x, z);\n\n                matrix.makeTranslation(\n                    x * 100 - worldHalfWidth * 100,\n                    h * 100,\n                    z * 100 - worldHalfDepth * 100\n                );\n\n                const px = getY(x + 1, z);\n                const nx = getY(x - 1, z);\n                const pz = getY(x, z + 1);\n                const nz = getY(x, z - 1);\n\n                geometries.push(pyGeometry.clone().applyMatrix4(matrix));\n\n                if ((px !== h && px !== h + 1) || x === 0) {\n\n                    geometries.push(pxGeometry.clone().applyMatrix4(matrix));\n\n                }\n\n                if ((nx !== h && nx !== h + 1) || x === worldWidth - 1) {\n\n                    geometries.push(nxGeometry.clone().applyMatrix4(matrix));\n\n                }\n\n                if ((pz !== h && pz !== h + 1) || z === worldDepth - 1) {\n\n                    geometries.push(pzGeometry.clone().applyMatrix4(matrix));\n\n                }\n\n                if ((nz !== h && nz !== h + 1) || z === 0) {\n\n                    geometries.push(nzGeometry.clone().applyMatrix4(matrix));\n\n                }\n\n            }\n\n        }\n\n        const geometry = BufferGeometryUtils.mergeBufferGeometries(geometries);\n        geometry.computeBoundingSphere();\n\n        const texture = new THREE.TextureLoader().load(process.env.PUBLIC_URL + '/textures/minecraft/atlas.png');\n        texture.magFilter = THREE.NearestFilter;\n\n        const mesh = new THREE.Mesh(geometry, new THREE.MeshLambertMaterial({ map: texture, side: THREE.DoubleSide }));\n        scene.add(mesh);\n\n        const ambientLight = new THREE.AmbientLight(0xcccccc);\n        scene.add(ambientLight);\n\n        const directionalLight = new THREE.DirectionalLight(0xffffff, 2);\n        directionalLight.position.set(1, 1, 0.5).normalize();\n        scene.add(directionalLight);\n\n\n        controls = new FirstPersonControls(camera, renderer.domElement);\n        // controls.movementSpeed = 1000;\n        controls.lookSpeed = 0.025;\n        controls.lookVertical = false;\n\n        const color = 0x000000;  // white\n        const near = 100;\n        const far = 10000;\n        // scene.fog = new THREE.Fog(color, near, far);\n        // scene.background = new THREE.Color(color);\n    }\n\n    const generateHeight = (width, height) => {\n\n        // const r = Math.random();\n        const r = .011;\n        const data = [], perlin = new ImprovedNoise(),\n            size = width * height, z = r * 100;\n\n        let quality = 2;\n\n        for (let j = 0; j < 4; j++) {\n\n            if (j === 0) for (let i = 0; i < size; i++) data[i] = 0;\n\n            for (let i = 0; i < size; i++) {\n\n                const x = i % width, y = (i / width) | 0;\n                data[i] += perlin.noise(x / quality, y / quality, z) * quality;\n\n\n            }\n\n            quality *= 4;\n\n        }\n\n        return data;\n\n    }\n\n    const getY = (x, z) => {\n\n        return (data[x + z * worldWidth] * 0.2) | 0;\n\n    }\n\n\n    const startAnimationLoop = () => {\n        // renderer.render( scene, camera );\n\n        if (controls)\n            controls.update(clock.getDelta());\n\n        camera.rotateY(mouse);\n        if (effect)\n            effect.render(scene, camera);\n        else\n            renderer.render(scene, camera);\n        requestID = window.requestAnimationFrame(startAnimationLoop);\n\n    };\n\n\n\n    const addLights = () => {\n        var ambientLight = new THREE.AmbientLight(0xaaaaaa);\n        scene.add(ambientLight);\n        addLight(-10, 2, 4);\n        addLight(1, -10, -2);\n    }\n\n    const addLight = (...pos) => {\n        const color = 0xFFFFFF;\n        const intensity = 1;\n        const light = new THREE.DirectionalLight(color, intensity);\n        light.position.set(...pos);\n        scene.add(light);\n    }\n\n    let factor = mapVal(ui.width, 1110, 375, 1, .33);\n    factor = constrain(factor, .33, 1);\n    const vidW = 530 * factor;\n    const vidH = 300 * factor;\n\n    const coinW = 80;\n    const coinSpace = 15;\n\n    const totalW = vidW + vidW * .7 + (coinW + coinSpace) * 2;\n    const totalH = vidH + 26  + (coinW + 26 + coinSpace);\n\n    const vid = { x: (window.innerWidth - totalW) / 2 + coinW + coinSpace, y: (window.innerHeight - totalH) / 2, w: vidW, h: vidH };\n    const pit = { x: vid.x + vid.w * .7, y: vid.y + coinW + 26 + coinSpace, w: vidW, h: vidH };\n    const waterfall = { x: pit.x + 330 * factor, y: vid.y, w: constrain(100 * factor, 80, 100), h: constrain(300 * factor, .8 * 300, 300) };\n\n    if (ui.width < 700) {\n        waterfall.y = mapVal(ui.width, 700, 300, vid.y, vid.y - 60);\n        waterfall.x = Math.min(waterfall.x, pit.x+pit.w-waterfall.w)\n    }\n        \n    //\n    return (\n        <div className=\"Mine Sketch pickCursor\" onClick={playSound}>\n            {/* <Cloud y={100} /> */}\n            {/* <Cloud y={200} /> */}\n            <div className=\"threeCanvas\" ref={ref => (mount = ref)} />\n            {/* <StackedMine x={200} y={50} /> */}\n            <Heli x={50} y={30} classN={\"Cloud\"} speed={1} />\n            <Heli x={520} y={100} classN={\"Cloud\"} speed={2.2} />\n\n            <Coins ui={ui} w={coinW} h={coinW} coinSpace={coinSpace} x={vid.x} y={vid.y} pitX={pit.x} vidW={vid.w} totalW={totalW} totalH={totalH} playSound={playSound} />\n\n            <Frame\n                title={\"\"}\n                content={\n                    <img src={window.AWS + \"/mine/pit.jpeg\"} className=\"fullImg\" onClick={playSound} />\n                }\n                width={pit.w}\n                height={pit.h}\n                x={pit.x}\n                y={pit.y}\n            />\n            <Frame\n                title={\"\"}\n                content={\n                    <img src={window.AWS + \"/mine/waterfall.gif\"} className=\"fullImg\" onClick={playSound} />\n                }\n                width={waterfall.w}\n                height={waterfall.h}\n                x={waterfall.x}\n                y={waterfall.y}\n            />\n            <Frame title={\"\"} content={\n                <a href=\"https://www.youtube.com/watch?v=eClDkXzKdGM\" target=\"_blank\" rel=\"noopener noreferrer\">\n                    <video\n                        ref={vidRef}\n                        width={vid.w}\n                        height={vid.h}\n                        loop\n                        playsInline\n                        muted={!audioOn}\n                    >\n                        <source src={window.AWS + \"/mine/quarry2.mp4\"} type=\"video/mp4\"></source>\n                    </video>\n                </a>\n            }\n                width={vid.w}\n                height={vid.h}\n                x={vid.x}\n                y={vid.y}\n            />\n           \n        </div>\n    )\n}\n","import React from \"react\";\nimport { FreeCamera, Vector3, HemisphericLight, Mesh, MeshBuilder, CubeTexture, StandardMaterial, Color3, Texture,Vector2 } from \"@babylonjs/core\";\nimport {WaterMaterial} from  \"@babylonjs/materials\";\n// import Babylon from \"../../shared/3D/Babylon\"; // uses above component in same directory\nimport SceneComponent from 'babylonjs-hook'; // if you install 'babylonjs-hook' NPM.\n\nlet box, ground, skybox;\n\nconst onSceneReady = (scene) => {\n    // This creates and positions a free camera (non-mesh)\n    var camera = new FreeCamera(\"camera1\", new Vector3(0, 5, -10), scene);\n\n    // This targets the camera to scene origin\n    camera.setTarget(Vector3.Zero());\n\n    const canvas = scene.getEngine().getRenderingCanvas();\n\n    // This attaches the camera to the canvas\n    camera.attachControl(canvas, true);\n\n    // This creates a light, aiming 0,1,0 - to the sky (non-mesh)\n    var light = new HemisphericLight(\"light\", new Vector3(0, 1, 0), scene);\n\n    // Default intensity is 1. Let's dim the light a small amount\n    light.intensity = 0.7;\n\n    // Our built-in 'box' shape.\n    box = MeshBuilder.CreateBox(\"box\", { size: 2 }, scene);\n\n    // Move the box upward 1/2 its height\n    box.position.y = 1;\n\n    // Our built-in 'ground' shape.\n    MeshBuilder.CreateGround(\"ground\", { width: 6, height: 6 }, scene);\n\n    addSkybox(scene);\n    // addGround(scene);\n    addWater(scene);\n};\n\nconst addSkybox = (scene) => {  \n    skybox = MeshBuilder.CreateBox(\"skyBox\", { size: 1000.0 }, scene);\n    var skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\n    skyboxMaterial.backFaceCulling = false;\n    skyboxMaterial.reflectionTexture = new CubeTexture(process.env.PUBLIC_URL + \"/local_images/skybox/mountain/mossymountains\", scene);\n    // skyboxMaterial.reflectionTexture = new CubeTexture(process.env.PUBLIC_URL + \"/local_images/skybox/sunset/sunset\", scene);\n\n    skyboxMaterial.reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\n    skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\n    skyboxMaterial.specularColor = new Color3(0, 0, 0);\n    skybox.material = skyboxMaterial;\n}\n\nconst addWater = (scene) => {\n    var waterMesh = Mesh.CreateGround(\"waterMesh\", 512, 512, 32, scene, false);\n\tvar water = new WaterMaterial(\"water\", scene, new Vector2(512, 512));\n\twater.backFaceCulling = true;\n\twater.bumpTexture = new Texture(process.env.PUBLIC_URL + \"/textures/water/waterbump.png\", scene);\n\twater.windForce = -5;\n\twater.waveHeight = 0.1;\n\twater.bumpHeight = 0.1;\n\twater.waterColor = new Color3(0.6, 0.9, 0.9);\n\twater.colorBlendFactor = 0.5;\n\twater.addToRenderList(skybox);\n\t// water.addToRenderList(ground);\n\twaterMesh.material = water;\n}\n\nconst addGround = (scene) => {\n    // Ground\n\t// var groundTexture = new Texture(process.env.PUBLIC_URL + \"/textures/grass.dds\", scene);\n\t// groundTexture.vScale = groundTexture.uScale = 8.0;\n\t\n\tvar groundMaterial = new StandardMaterial(\"groundMaterial\", scene);\n\t// groundMaterial.diffuseTexture = groundTexture;\n\t\n\tground = Mesh.CreateGround(\"ground\", 512, 512, 32, scene, false);\n\tground.position.y = -1;\n\tground.material = groundMaterial;\n}\n/**\n * Will run on every frame render.  We are spinning the box on y-axis.\n */\nconst onRender = (scene) => {\n    if (box !== undefined) {\n        var deltaTimeInMillis = scene.getEngine().getDeltaTime();\n\n        const rpm = 10;\n        box.rotation.y += (rpm / 60) * Math.PI * 2 * (deltaTimeInMillis / 1000);\n    }\n};\n\nexport default () => (\n    <div className=\"Home Sketch\">\n        <SceneComponent antialias onSceneReady={onSceneReady} onRender={onRender} id=\"babylon-canvas\" />\n    </div>\n);","\nimport './About.scss';\n\nexport default () => {\n    return (\n        <div className=\"About\">\n            <div className=\"backgroundCover\" />\n            <div className=\"container\">\n\n                <h1>About</h1>\n                <hr />\n                <h3>statement</h3>\n                <hr />\n                <p>During the pandemic, the internet afforded unfettered exploration of virtual terrains and information-scapes, a much needed respite from prolonged physical and social confinement. In this time of quarantine, the meaning of exterior in digital spaces found new relevance as online worlds increasingly served as substitutes for analog spaces.</p>\n\n                <p>Netscapes is a body of work that examines these cyber-environments, and in particular, the extent to which digital representations of natural landscapes reflect existing values and attitudes towards nature. Desktop wallpapers serve as a salient and sardonic example of the Anthropocenes ethics. While climate change threatens to collapse global ecosystems and unravel the fabric of civilization, we paper desktops with uncannily-idyllic Caribbean beaches and rolling mountain ranges. We build captivating virtual worlds, and mine cryptocurrencies, on digital platforms that are abstracted away from the petrochemical infrastructure upon which they run.</p>\n\n                <p>Over the course of the residency I hope to subvert digital escape by injecting anthropogenic detritus into digital spaces. Simultaneously, I hope to expose modes of extraction endemic to cyberspace (and late stage capitalism more broadly) so that we might arrive at a more responsible visual language for the web.</p>\n\n                <hr />\n                <h3>bio</h3>\n                <hr />\n                <p>\n                    <a href=\"https://www.instagram.com/jdeboi/\" target=\"_blank\" rel=\"noopener noreferrer\">Jenna deBoisblanc</a> is a New Orleans native, a creative coder, and a teacher. She received her undergraduate degree in physics from Pomona College and her MFA in digital art from Tulane University in New Orleans. She has shown work locally at Good Children Gallery, The Front, and at Luna Fete, as well as at light festivals in the SouthWest. Her clients include Toyota, the Aloft Hotel, the Florida Aquarium, and NASA.</p>\n            </div>\n        </div>\n    )\n}","const padding = 15;\n// const heading = 60; // top header\n// const barBot = 60; // mobile footer / landscape menu\nconst minW = 540;\nconst minH = 400;\nconst borderW = 2;\nconst buffer = 40;\n\nexport function getCenterModalDim(ui, isRelative) {\n    \n\n    if (getWidthTooSmall(ui) || getHeightTooSmall(ui)) {\n        if (ui.orientation === \"portrait\")\n            return getPortraitSmall(ui, isRelative);\n        return getLandscapeSmall(ui, isRelative);\n    }\n\n    else {\n        const { contentW, contentH, toolbarH, headerH} = ui;\n\n        let w = minW;\n        let h = minH;\n        let y = (contentH - h - toolbarH) / 2;\n        if (!isRelative)\n            y += headerH;\n\n        // if (width < 600) {\n        //     w = width - padding * 2;\n        //     h = height - padding * 2 - headerH - barBot - heading;\n        //     let y = padding; // + heading;\n        //     if (!isRelative)\n        //         y += heading;\n        // }\n        // else if (height < 400) {\n        //     w = 540;\n        //     h = height - padding * 2 - headerH - barBot;\n        //     let y = padding; // + heading;\n        //     if (!isRelative)\n        //         y += heading;\n        // }\n\n        let x = (contentW - w) / 2 - borderW;\n        return { w, h, x, y };\n        // console.log(w, h, x, y);\n    }\n    \n\n// return {w: 100, h: 100, x: 100, y: 100}\n}\n\n\nfunction getWidthTooSmall(ui) {\n    const {contentW} = ui;\n    return contentW < minW + padding * 2+buffer;\n}\n\nfunction getHeightTooSmall(ui) {\n    const {toolbarH, contentH} = ui;\n    return contentH < minH + padding * 2 + toolbarH + buffer;\n}\n\n\nfunction getLandscapeSmall(ui, isRelative) {\n    const {toolbarH, contentW, contentH, headerH} = ui;\n    const w = contentW - padding * 2; // 60 = width of menu on left\n    const h = contentH - padding - toolbarH;\n    // const x = barBot + padding;\n    const x = padding;\n    let y = padding/2;\n    if (!isRelative)\n        y += headerH;\n    return { w, h, x, y };\n    // console.log(x, y, x, h);\n    // return {w: 200, h: 100, x: 300, y: 300};\n}\n\nfunction getPortraitSmall(ui, isRelative) {\n    const {toolbarH, contentW, contentH, headerH} = ui;\n    const w = contentW - padding * 2 ; // 60 = width of menu on left\n    const h = contentH - padding * 2 - toolbarH;\n    const x = padding - borderW;\n    let y = padding; // + heading;\n    if (!isRelative)\n        y += headerH;\n    return { w, h, x, y };\n    // return {w: 200, h: 100, x: 300, y: 300};\n}","import React, { MouseEvent } from 'react';\nimport Frame from '../Frame/Frame';\nimport './CenterModal.css';\nimport { getCenterModalDim } from './Helper';\n\ninterface CenterModalProps {\n  title: string,\n  classN: string,\n  content: JSX.Element,\n  buttons: JSX.Element,\n  width: number,\n  height: number,\n  isHidden: boolean,\n  z: number,\n  ui: any,\n  isRelative: boolean,\n  onHide(): any\n}\n\n\nexport default function CenterModal({ title, classN, ui, z, height, width, isHidden, content, buttons, isRelative, onHide }: CenterModalProps) {\n\n\n  let { w, h, x, y } = getCenterModalDim(ui, isRelative);\n\n  if (height && width) {\n    h = Math.min(h, height);\n    w = Math.min(w, width);\n    y = (ui.contentH - h - ui.toolbarH) / 2;\n    if (!isRelative)\n      y += ui.headerH;\n    x = (ui.contentW - w) / 2;\n  }\n  const classT = (!isHidden ? \" GrayedOut\" : \"\");\n\n\n  // const handleMouse = (e: MouseEvent) => {\n  //   e.stopPropagation();\n  // }\n\n  const handleDoubleClick = (e: MouseEvent) => {\n    e.stopPropagation();\n  }\n\n  return (\n    <React.Fragment>\n      <div className={classT} onDoubleClick={handleDoubleClick} style={{ visibility: (isHidden ? \"hidden\" : \"visible\"), zIndex: z }} />\n      <Frame title={title} isHidden={isHidden} bounded={true} onHide={onHide} windowStyle={{ background: \"white\" }} content={\n        <div className={classN + \" CenterModal SignInForm\"} style={{ width: w, height: h }}>\n          <div className=\"CenterModal-Container\" style={{ padding: 20, width: w - 40, height: h - 40 }}>\n            {content}\n            {buttons}\n          </div>\n        </div>\n      }\n        width={w} height={h} x={x} y={y} z={z + 1}\n      />\n    </React.Fragment>\n  );\n\n\n}\n","import React, { useEffect } from 'react';\n\nimport './RoomDecal.css';\n\nimport { getSketchFromTitle } from '../../sketches/Sketches';\n\nimport CenterModal from '../CenterModal/CenterModal';\n\n\nexport default function RoomDecal(props) {\n\n    const { ui, room, startMedia, hasLoadedRoom } = props;\n    const sketch = getSketchFromTitle(room);\n    \n\n    const buttonClicked = () => {\n        startMedia();\n        // this.props.startComposition();\n    }\n\n    const getButtons = () => {\n        return (\n            <div className=\"center-buttons\">\n                <button className=\"standardButton primary\" onClick={buttonClicked}>ok</button>\n            </div>\n        );\n    }\n\n    const onHide = () => {\n        startMedia();\n    }\n\n\n\n    if (sketch) {\n        const buttons = getButtons();\n        const { title, about, year } = sketch;\n\n        return (\n            <CenterModal\n                title={\"\"}\n                isHidden={hasLoadedRoom}\n                onHide={onHide}\n                ui={ui}\n                z={2500}\n                height={300}\n                width={400}\n                isRelative={false}\n                classN=\"RoomDecal\"\n                content={\n                    <div className=\"decal-content\">\n                        <div className=\"identify\">\n                            {/* <p className=\"\" style={{ fontSize: 12, paddingBottom: 0 }}>Jenna deBoisblanc</p>\n                                <p style={{ paddingBottom: 20 }}>\n                                    <span style={{ fontSize: 24 }}></span>\n                                    <span style={{ fontSize: 12 }}>, born 1989</span>\n                                </p> */}\n                            <p style={{ fontSize: 20, paddingBottom: 0, fontWeight: 900 }}>\n                                <span className=\"\">{title}</span>\n                            </p>\n                            {/* <p style={{ fontSize: 12 }}>{year}</p> */}\n                            <p style={{ fontSize: 12 }}>Jenna deBoisblanc</p>\n                            <p style={{ fontSize: 12 }}>Custom Software</p>\n                            <p style={{ fontSize: 12 }}>Variable Dimensions</p>\n\n                            <p style={{ fontSize: 12 }}>{about}</p>\n                        </div>\n\n                    </div>\n                }\n                buttons={buttons}\n            />\n        );\n    }\n\n\n    return null;\n\n\n\n}\n\n","\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport useSound from \"use-sound\";\nimport { getRoomTitle } from \"../components/sketches/Sketches\";\n\nexport default function useAudio(audioOn, hasLoadedRoom) {\n\n    const currentPage = getRoomTitle(useLocation().pathname);\n    const [volume, setVolume] = useState(0);\n\n    const onLoad = () => {\n        playCurrentPage();\n    }\n\n    const sources = [\n        {\n            title: \"out of site\", \n            player: useSound(window.AWS + \"/infrastructure/server.mp3\", {\n                volume: .5,\n                interrupt: false,\n                autoplay: false,\n                preload:true,\n                onload: onLoad,\n                loop: true,\n            })\n        },\n        {\n            title: \"mojave\", \n            player: useSound(window.LMD + \"/yosemite/fire.mp3\", {\n                volume: .2,\n                interrupt: false,\n                autoplay: false,\n                preload:true,\n                onload: onLoad,\n                loop: true,\n            })\n        },\n        {\n            title: \"yosemite\", \n            player: useSound(window.LMD + \"/yosemite/fire.mp3\", {\n                volume: volume,\n                interrupt: false,\n                autoplay: false,\n                onload: onLoad,\n                loop: true,\n            })\n        },\n        {\n            title: \"cat 5\", \n            player: useSound( window.AWS + \"/hurricane/hurricane.mp3\", {\n                volume: .5,\n                interrupt: false,\n                autoplay: false,\n                onload: onLoad,\n                loop: true,\n            })\n        },\n        {\n            title: \"hard drives on seashores\", \n            player: useSound( window.LMD + \"/hardDrives/seagulls.mp3\", {\n                volume: .5,\n                interrupt: false,\n                autoplay: false,\n                onload: onLoad,\n                loop: true,\n            })\n        },\n    ];\n\n    \n    \n\n    const [currentSource, setCurrentSource] = useState(sources[0])\n\n    const setNewPage = (title) =>{\n        // console.log(\"setting new page\", title);\n        stopCurrentPage();\n        let nextSource = sources.find((source) => title === source.title);\n        if  (nextSource &&  nextSource.player) {\n            const [play, {stop}] = nextSource.player;\n            stop();\n        }\n        setCurrentSource(nextSource);\n        // console.log(\"nextsource\", nextSource?nextSource.title:\"null\");\n    }\n\n    const playCurrentPage = () => {\n        if (currentSource && currentSource.player) {\n            const [play, {stop}] = currentSource.player;\n           // only for yosemite\n            setVolume(0);\n            play();\n            // console.log(\"play\", currentSource.title)\n        }\n    }\n\n    const stopCurrentPage = () => {\n        if  (currentSource && currentSource.player) {\n            const [play, {stop}] = currentSource.player;\n            stop();\n            // console.log(\"stop\", currentSource.title)\n        }\n    }\n\n    // if the audio is set to auto play\n    // turn on playing when the page loads\n    useEffect(() => {\n        if (audioOn && hasLoadedRoom) {\n            playCurrentPage();\n        }\n        else {\n            stopCurrentPage();\n        }\n    },\n    [hasLoadedRoom]\n    );\n\n    useEffect(() => {\n        if (audioOn && hasLoadedRoom) {\n            playCurrentPage();\n        }\n        else {\n            stopCurrentPage();\n        }\n    },\n    [audioOn]\n    );\n\n    useEffect(() => {\n        // console.log(volume, currentSource);\n    },\n    [volume]\n    );\n\n    useEffect(() => {\n        setNewPage(currentPage);\n    },\n    [currentPage]\n    );\n\n\n    return [setVolume];\n};\n\n","\nimport React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport { Route, useLocation } from 'react-router-dom';\n\nimport Header from '../components/shared/Header/Header';\n\n// sketches\nimport { getUrl, getRoomTitle } from '../components/sketches/Sketches';\nimport Yosemite from '../components/sketches/Yosemite/Yosemite';\nimport HardDrives from '../components/sketches/HardDrives/HardDrives';\nimport JungleGyms from '../components/sketches/JungleGyms/JungleGyms';\nimport Hurricane from '../components/sketches/Hurricane/Hurricane';\nimport Beached from '../components/sketches/Beached/Beached';\nimport Mojave from '../components/sketches/Mojave/Mojave';\nimport Infrastructure from '../components/sketches/Infrastructure/Infrastructure';\nimport Mine from '../components/sketches/Mine/Mine';\nimport Melt from '../components/sketches/Melt/Melt';\n\nimport Home from '../components/sketches/Home/Home';\n\n// import NotFound from '../components/shared/NotFound/NotFound';\n\n// other components\nimport About from '../components/About/About';\nimport FPSStats from \"react-fps-stats\";\nimport RoomDecal from '../components/shared/RoomDecal/RoomDecal';\n\n// hooks\nimport useDimensions from '../hooks/useDimensions';\n// import useSound from 'use-sound';\nimport useMultiPlayer from '../hooks/useMultiPlayer';\n\nwindow.AWS = \"https://netscapes.s3.us-east-2.amazonaws.com\";\nwindow.LMD = \"https://lmd-bucket.s3.us-east-2.amazonaws.com/sketches\";\n\n\nfunction App(props) {\n\n  const currentPage = getRoomTitle(useLocation().pathname);\n  const ui = useDimensions();\n  const [hasLoadedRoom, setLoadedRoom] = useState(false);\n  const [audioOn, setAudioOn] = useState(true);\n\n  const [setVolume] = useMultiPlayer(audioOn, hasLoadedRoom);\n\n\n  useEffect(\n    () => {\n      return () => {\n        // pause();\n      }\n    },\n    [ui]\n  );\n\n\n   // if we change audio or the room loads, play\n  //  useEffect(\n  //   () => {\n  //     if (hasLoadedRoom && audioOn) {\n  //       play();\n  //       // console.log(\"play\", audioSource, volume, hasLoadedRoom, audioOn)\n  //     }\n  //     else {\n  //       pause();\n  //       // console.log(\"stop\", audioSource, volume, hasLoadedRoom, audioOn)\n  //     }  \n  //   },\n  //   [audioOn, hasLoadedRoom, audioSource]\n  // );\n\n\n  // if there's a new page, reset the audio\n  useEffect(() => {\n    // setAudioSource(\"\");\n    setLoadedRoom(false);\n    // pause();\n  },\n    [currentPage]\n  );\n\n\n  const sketchProps = {\n    ui,\n    hasLoadedRoom,\n    audioOn,\n    setVolume,\n    // setAudioSource,\n    currentPage\n  }\n\n\n  return (\n    <div className=\"App\">\n      <Header\n        ui={ui}\n        currentPage={currentPage}\n        isMenuOn={true}\n        audioOn={audioOn}\n        toggleAudio={() => setAudioOn(v => !v)}\n      />\n\n      {/* sketches */}\n      <Route exact path=\"/\" render={() => (<Mine {...sketchProps}/>)} />\n      <Route exact path={getUrl(\"yosemite\")} render={() => (<Yosemite {...sketchProps} />)} />\n      <Route exact path={getUrl(\"hard\")} render={() => (<HardDrives {...sketchProps} />)} />\n      <Route exact path={getUrl(\"jungle\")} render={() => (<JungleGyms {...sketchProps} />)} />\n      <Route exact path={getUrl(\"cat\")} render={() => (<Hurricane {...sketchProps} />)} />\n      <Route exact path={getUrl(\"mojave\")} render={() => (<Mojave {...sketchProps} />)} />\n      <Route exact path={getUrl(\"mine\")} render={() => (<Mine {...sketchProps} />)} />\n      <Route exact path={getUrl(\"out\")} render={() => (<Infrastructure {...sketchProps} />)} />\n      {/* <Route exact path={getUrl(\"beached\")} component={Beached} /> */}\n      <Route exact path={getUrl(\"melt\")} component={Melt} />\n\n      <Route exact path=\"/home\" component={Home} />\n      <Route exact path=\"/about\" component={About} />\n\n      {/* other components */}\n      <RoomDecal\n        startMedia={() => setLoadedRoom(true)}\n        hasLoadedRoom={hasLoadedRoom}\n        ui={ui}\n        room={currentPage}\n      />\n      {/* {<FPSStats top={window.innerHeight - 255} left={10} />} */}\n\n    </div>\n  );\n}\n\n\nexport default App;\n\n","// hook\nimport React, { useState, useEffect } from 'react';\n\nexport default function useDimensions() {\n\n    const footerMobileH = 60;\n    const headerMobileH = 60;\n    const headerH = 34;\n    const toolbarH = 26;\n\n\n    const getHasFooter = (w, h) => {\n        //788\n        return (w < 835 || h < 600);\n        // return false;\n    }\n\n    const getOrientation = (w, h) => {\n        return w > h ? \"landscape\" : \"portrait\";\n    }\n\n    const getIsMobile = () => {\n        return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n    }\n\n    const getWindowSize = (w) => {\n        if (!w)\n            return 'medium';\n        else if (w < 340)\n            return 'xxsmall';\n        else if (w < 480)\n            return 'xsmall';\n        else if (w < 788)\n            return 'small';\n        else if (w < 992)\n            return 'medium';\n        else if (w < 1200)\n            return 'large';\n        return 'xlarge';\n    }\n\n    const getContentW = (w, h) => {\n        if (getHasFooter(w, h) || getIsMobile(w, h)) {\n            // if (getOrientation(w, h) === \"portrait\") {\n            //     return w;\n            // }\n            // return w - footerMobileH; // right hand menu\n            return w;\n        }\n        return w;\n    }\n\n    const getContentH = (w, h) => {\n        if (getHasFooter(w, h) || getIsMobile(w, h)) {\n            // if (getOrientation(w, h) === \"portrait\") {\n            //     return h - footerMobileH - headerMobileH;\n            // }\n            return h - headerMobileH;\n        }\n        return h - headerH;\n    }\n\n    const getHeaderH = (w, h) => {\n        return (getHasFooter(w, h) || getIsMobile()) ? headerMobileH : headerH;\n    }\n\n    const getEdgeSpacing = (w, h) => {\n        if (w < 800)\n            return 10;\n        else if (w >= 1920)\n            return 30;\n        return 20;\n    }\n\n\n    const getWindowObject = () => {\n        let initW = typeof window === 'object' ? window.innerWidth : null;\n        let initH = typeof window === 'object' ? window.innerHeight : null;\n\n        if (!initW || !initH)\n            return null;\n\n        return {\n            width: initW,\n            height: initH,\n            isMobile: getIsMobile(),\n            orientation: getOrientation(initW, initH),\n            size: getWindowSize(initW),\n            hasFooter: getHasFooter(initW, initH),\n            headerH: getHeaderH(initW, initH),\n            toolbarH: toolbarH,\n            contentW: getContentW(initW, initH),\n            contentH: getContentH(initW, initH),\n            edgeSpacing: getEdgeSpacing(initW, initH)\n        };\n    }\n\n    const [windowDimensions, setWindowDimensions] = useState(getWindowObject());\n\n    const handleWindowResize = () => {\n        setWindowDimensions(getWindowObject());\n    }\n\n    useEffect(\n        () => {\n            window.addEventListener('resize', handleWindowResize);\n\n            return () => {\n                window.removeEventListener('resize', handleWindowResize);\n            }\n        },\n        []\n    );\n\n    return windowDimensions;\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './App/App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter basename='/'>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}